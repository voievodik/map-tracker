var xT=Object.defineProperty;var kT=(e,t,n)=>t in e?xT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yr=(e,t,n)=>(kT(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fv={exports:{}},lu={},dv={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ws=Symbol.for("react.element"),LT=Symbol.for("react.portal"),MT=Symbol.for("react.fragment"),DT=Symbol.for("react.strict_mode"),NT=Symbol.for("react.profiler"),OT=Symbol.for("react.provider"),VT=Symbol.for("react.context"),zT=Symbol.for("react.forward_ref"),FT=Symbol.for("react.suspense"),BT=Symbol.for("react.memo"),bT=Symbol.for("react.lazy"),e_=Symbol.iterator;function $T(e){return e===null||typeof e!="object"?null:(e=e_&&e[e_]||e["@@iterator"],typeof e=="function"?e:null)}var pv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mv=Object.assign,_v={};function uo(e,t,n){this.props=e,this.context=t,this.refs=_v,this.updater=n||pv}uo.prototype.isReactComponent={};uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gv(){}gv.prototype=uo.prototype;function Yf(e,t,n){this.props=e,this.context=t,this.refs=_v,this.updater=n||pv}var Xf=Yf.prototype=new gv;Xf.constructor=Yf;mv(Xf,uo.prototype);Xf.isPureReactComponent=!0;var n_=Array.isArray,vv=Object.prototype.hasOwnProperty,Jf={current:null},yv={key:!0,ref:!0,__self:!0,__source:!0};function wv(e,t,n){var i,o={},s=null,l=null;if(t!=null)for(i in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)vv.call(t,i)&&!yv.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var f=Array(c),p=0;p<c;p++)f[p]=arguments[p+2];o.children=f}if(e&&e.defaultProps)for(i in c=e.defaultProps,c)o[i]===void 0&&(o[i]=c[i]);return{$$typeof:Ws,type:e,key:s,ref:l,props:o,_owner:Jf.current}}function UT(e,t){return{$$typeof:Ws,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function td(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ws}function jT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var i_=/\/+/g;function zc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jT(""+e.key):t.toString(36)}function il(e,t,n,i,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ws:case LT:l=!0}}if(l)return l=e,o=o(l),e=i===""?"."+zc(l,0):i,n_(o)?(n="",e!=null&&(n=e.replace(i_,"$&/")+"/"),il(o,t,n,"",function(p){return p})):o!=null&&(td(o)&&(o=UT(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(i_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,i=i===""?".":i+":",n_(e))for(var c=0;c<e.length;c++){s=e[c];var f=i+zc(s,c);l+=il(s,t,n,f,o)}else if(f=$T(e),typeof f=="function")for(e=f.call(e),c=0;!(s=e.next()).done;)s=s.value,f=i+zc(s,c++),l+=il(s,t,n,f,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function La(e,t,n){if(e==null)return e;var i=[],o=0;return il(e,i,"","",function(s){return t.call(n,s,o++)}),i}function HT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},rl={transition:null},WT={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:rl,ReactCurrentOwner:Jf};lt.Children={map:La,forEach:function(e,t,n){La(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return La(e,function(){t++}),t},toArray:function(e){return La(e,function(t){return t})||[]},only:function(e){if(!td(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lt.Component=uo;lt.Fragment=MT;lt.Profiler=NT;lt.PureComponent=Yf;lt.StrictMode=DT;lt.Suspense=FT;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WT;lt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=mv({},e.props),o=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=Jf.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(f in t)vv.call(t,f)&&!yv.hasOwnProperty(f)&&(i[f]=t[f]===void 0&&c!==void 0?c[f]:t[f])}var f=arguments.length-2;if(f===1)i.children=n;else if(1<f){c=Array(f);for(var p=0;p<f;p++)c[p]=arguments[p+2];i.children=c}return{$$typeof:Ws,type:e.type,key:o,ref:s,props:i,_owner:l}};lt.createContext=function(e){return e={$$typeof:VT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:OT,_context:e},e.Consumer=e};lt.createElement=wv;lt.createFactory=function(e){var t=wv.bind(null,e);return t.type=e,t};lt.createRef=function(){return{current:null}};lt.forwardRef=function(e){return{$$typeof:zT,render:e}};lt.isValidElement=td;lt.lazy=function(e){return{$$typeof:bT,_payload:{_status:-1,_result:e},_init:HT}};lt.memo=function(e,t){return{$$typeof:BT,type:e,compare:t===void 0?null:t}};lt.startTransition=function(e){var t=rl.transition;rl.transition={};try{e()}finally{rl.transition=t}};lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};lt.useCallback=function(e,t){return Ce.current.useCallback(e,t)};lt.useContext=function(e){return Ce.current.useContext(e)};lt.useDebugValue=function(){};lt.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)};lt.useEffect=function(e,t){return Ce.current.useEffect(e,t)};lt.useId=function(){return Ce.current.useId()};lt.useImperativeHandle=function(e,t,n){return Ce.current.useImperativeHandle(e,t,n)};lt.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)};lt.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)};lt.useMemo=function(e,t){return Ce.current.useMemo(e,t)};lt.useReducer=function(e,t,n){return Ce.current.useReducer(e,t,n)};lt.useRef=function(e){return Ce.current.useRef(e)};lt.useState=function(e){return Ce.current.useState(e)};lt.useSyncExternalStore=function(e,t,n){return Ce.current.useSyncExternalStore(e,t,n)};lt.useTransition=function(){return Ce.current.useTransition()};lt.version="18.2.0";dv.exports=lt;var st=dv.exports;const yl=hv(st);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT=st,qT=Symbol.for("react.element"),GT=Symbol.for("react.fragment"),KT=Object.prototype.hasOwnProperty,QT=ZT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YT={key:!0,ref:!0,__self:!0,__source:!0};function Ev(e,t,n){var i,o={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(i in t)KT.call(t,i)&&!YT.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)o[i]===void 0&&(o[i]=t[i]);return{$$typeof:qT,type:e,key:s,ref:l,props:o,_owner:QT.current}}lu.Fragment=GT;lu.jsx=Ev;lu.jsxs=Ev;fv.exports=lu;var yn=fv.exports,Ih={},Tv={exports:{}},je={},Pv={exports:{}},Sv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,X){var O=k.length;k.push(X);t:for(;0<O;){var Q=O-1>>>1,ht=k[Q];if(0<o(ht,X))k[Q]=X,k[O]=ht,O=Q;else break t}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var X=k[0],O=k.pop();if(O!==X){k[0]=O;t:for(var Q=0,ht=k.length,Ht=ht>>>1;Q<Ht;){var yt=2*(Q+1)-1,pt=k[yt],tt=yt+1,xe=k[tt];if(0>o(pt,O))tt<ht&&0>o(xe,pt)?(k[Q]=xe,k[tt]=O,Q=tt):(k[Q]=pt,k[yt]=O,Q=yt);else if(tt<ht&&0>o(xe,O))k[Q]=xe,k[tt]=O,Q=tt;else break t}}return X}function o(k,X){var O=k.sortIndex-X.sortIndex;return O!==0?O:k.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var f=[],p=[],_=1,g=null,v=3,P=!1,A=!1,C=!1,V=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(k){for(var X=n(p);X!==null;){if(X.callback===null)i(p);else if(X.startTime<=k)i(p),X.sortIndex=X.expirationTime,t(f,X);else break;X=n(p)}}function x(k){if(C=!1,T(k),!A)if(n(f)!==null)A=!0,ne(z);else{var X=n(p);X!==null&&Ln(x,X.startTime-k)}}function z(k,X){A=!1,C&&(C=!1,E(H),H=-1),P=!0;var O=v;try{for(T(X),g=n(f);g!==null&&(!(g.expirationTime>X)||k&&!Et());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,v=g.priorityLevel;var ht=Q(g.expirationTime<=X);X=e.unstable_now(),typeof ht=="function"?g.callback=ht:g===n(f)&&i(f),T(X)}else i(f);g=n(f)}if(g!==null)var Ht=!0;else{var yt=n(p);yt!==null&&Ln(x,yt.startTime-X),Ht=!1}return Ht}finally{g=null,v=O,P=!1}}var b=!1,U=null,H=-1,wt=5,it=-1;function Et(){return!(e.unstable_now()-it<wt)}function Kt(){if(U!==null){var k=e.unstable_now();it=k;var X=!0;try{X=U(!0,k)}finally{X?Li():(b=!1,U=null)}}else b=!1}var Li;if(typeof w=="function")Li=function(){w(Kt)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,nc=We.port2;We.port1.onmessage=Kt,Li=function(){nc.postMessage(null)}}else Li=function(){V(Kt,0)};function ne(k){U=k,b||(b=!0,Li())}function Ln(k,X){H=V(function(){k(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){A||P||(A=!0,ne(z))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(k){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var O=v;v=X;try{return k()}finally{v=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,X){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var O=v;v=k;try{return X()}finally{v=O}},e.unstable_scheduleCallback=function(k,X,O){var Q=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Q+O:Q):O=Q,k){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=O+ht,k={id:_++,callback:X,priorityLevel:k,startTime:O,expirationTime:ht,sortIndex:-1},O>Q?(k.sortIndex=O,t(p,k),n(f)===null&&k===n(p)&&(C?(E(H),H=-1):C=!0,Ln(x,O-Q))):(k.sortIndex=ht,t(f,k),A||P||(A=!0,ne(z))),k},e.unstable_shouldYield=Et,e.unstable_wrapCallback=function(k){var X=v;return function(){var O=v;v=X;try{return k.apply(this,arguments)}finally{v=O}}}})(Sv);Pv.exports=Sv;var XT=Pv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv=st,$e=XT;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cv=new Set,fs={};function or(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for(fs[e]=t,e=0;e<t.length;e++)Cv.add(t[e])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ch=Object.prototype.hasOwnProperty,JT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,r_={},o_={};function tP(e){return Ch.call(o_,e)?!0:Ch.call(r_,e)?!1:JT.test(e)?o_[e]=!0:(r_[e]=!0,!1)}function eP(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nP(e,t,n,i){if(t===null||typeof t>"u"||eP(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,n,i,o,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var he={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){he[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];he[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){he[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){he[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){he[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){he[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){he[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){he[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){he[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var ed=/[\-:]([a-z])/g;function nd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ed,nd);he[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ed,nd);he[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ed,nd);he[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){he[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});he.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){he[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function id(e,t,n,i){var o=he.hasOwnProperty(t)?he[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nP(t,n,o,i)&&(n=null),i||o===null?tP(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,i=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Kn=Iv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ma=Symbol.for("react.element"),Ir=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),rd=Symbol.for("react.strict_mode"),Ah=Symbol.for("react.profiler"),Av=Symbol.for("react.provider"),xv=Symbol.for("react.context"),od=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),kh=Symbol.for("react.suspense_list"),sd=Symbol.for("react.memo"),ti=Symbol.for("react.lazy"),kv=Symbol.for("react.offscreen"),s_=Symbol.iterator;function Do(e){return e===null||typeof e!="object"?null:(e=s_&&e[s_]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Object.assign,Fc;function Ho(e){if(Fc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fc=t&&t[1]||""}return`
`+Fc+e}var Bc=!1;function bc(e,t){if(!e||Bc)return"";Bc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var i=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){i=p}e.call(t.prototype)}else{try{throw Error()}catch(p){i=p}e()}}catch(p){if(p&&i&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),s=i.stack.split(`
`),l=o.length-1,c=s.length-1;1<=l&&0<=c&&o[l]!==s[c];)c--;for(;1<=l&&0<=c;l--,c--)if(o[l]!==s[c]){if(l!==1||c!==1)do if(l--,c--,0>c||o[l]!==s[c]){var f=`
`+o[l].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=l&&0<=c);break}}}finally{Bc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ho(e):""}function iP(e){switch(e.tag){case 5:return Ho(e.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 2:case 15:return e=bc(e.type,!1),e;case 11:return e=bc(e.type.render,!1),e;case 1:return e=bc(e.type,!0),e;default:return""}}function Rh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case Ir:return"Portal";case Ah:return"Profiler";case rd:return"StrictMode";case xh:return"Suspense";case kh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xv:return(e.displayName||"Context")+".Consumer";case Av:return(e._context.displayName||"Context")+".Provider";case od:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sd:return t=e.displayName||null,t!==null?t:Rh(e.type)||"Memo";case ti:t=e._payload,e=e._init;try{return Rh(e(t))}catch{}}return null}function rP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rh(t);case 8:return t===rd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function yi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oP(e){var t=Rv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){i=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Da(e){e._valueTracker||(e._valueTracker=oP(e))}function Lv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Rv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function wl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lh(e,t){var n=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function a_(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=yi(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mv(e,t){t=t.checked,t!=null&&id(e,"checked",t,!1)}function Mh(e,t){Mv(e,t);var n=yi(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Dh(e,t.type,yi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function l_(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Dh(e,t,n){(t!=="number"||wl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wo=Array.isArray;function Fr(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+yi(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Nh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function u_(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Wo(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:yi(n)}}function Dv(e,t){var n=yi(t.value),i=yi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function c_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Na,Ov=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ds(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sP=["Webkit","ms","Moz","O"];Object.keys(Xo).forEach(function(e){sP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xo[t]=Xo[e]})});function Vv(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xo.hasOwnProperty(e)&&Xo[e]?(""+t).trim():t+"px"}function zv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=Vv(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}var aP=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vh(e,t){if(t){if(aP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function zh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=null;function ad(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bh=null,Br=null,br=null;function h_(e){if(e=Gs(e)){if(typeof Bh!="function")throw Error(N(280));var t=e.stateNode;t&&(t=du(t),Bh(e.stateNode,e.type,t))}}function Fv(e){Br?br?br.push(e):br=[e]:Br=e}function Bv(){if(Br){var e=Br,t=br;if(br=Br=null,h_(e),t)for(e=0;e<t.length;e++)h_(t[e])}}function bv(e,t){return e(t)}function $v(){}var $c=!1;function Uv(e,t,n){if($c)return e(t,n);$c=!0;try{return bv(e,t,n)}finally{$c=!1,(Br!==null||br!==null)&&($v(),Bv())}}function ps(e,t){var n=e.stateNode;if(n===null)return null;var i=du(n);if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var bh=!1;if(Un)try{var No={};Object.defineProperty(No,"passive",{get:function(){bh=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{bh=!1}function lP(e,t,n,i,o,s,l,c,f){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(_){this.onError(_)}}var Jo=!1,El=null,Tl=!1,$h=null,uP={onError:function(e){Jo=!0,El=e}};function cP(e,t,n,i,o,s,l,c,f){Jo=!1,El=null,lP.apply(uP,arguments)}function hP(e,t,n,i,o,s,l,c,f){if(cP.apply(this,arguments),Jo){if(Jo){var p=El;Jo=!1,El=null}else throw Error(N(198));Tl||(Tl=!0,$h=p)}}function sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f_(e){if(sr(e)!==e)throw Error(N(188))}function fP(e){var t=e.alternate;if(!t){if(t=sr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return f_(o),e;if(s===i)return f_(o),t;s=s.sibling}throw Error(N(188))}if(n.return!==i.return)n=o,i=s;else{for(var l=!1,c=o.child;c;){if(c===n){l=!0,n=o,i=s;break}if(c===i){l=!0,i=o,n=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===n){l=!0,n=s,i=o;break}if(c===i){l=!0,i=s,n=o;break}c=c.sibling}if(!l)throw Error(N(189))}}if(n.alternate!==i)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Hv(e){return e=fP(e),e!==null?Wv(e):null}function Wv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wv(e);if(t!==null)return t;e=e.sibling}return null}var Zv=$e.unstable_scheduleCallback,d_=$e.unstable_cancelCallback,dP=$e.unstable_shouldYield,pP=$e.unstable_requestPaint,Ft=$e.unstable_now,mP=$e.unstable_getCurrentPriorityLevel,ld=$e.unstable_ImmediatePriority,qv=$e.unstable_UserBlockingPriority,Pl=$e.unstable_NormalPriority,_P=$e.unstable_LowPriority,Gv=$e.unstable_IdlePriority,uu=null,Sn=null;function gP(e){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(uu,e,void 0,(e.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:wP,vP=Math.log,yP=Math.LN2;function wP(e){return e>>>=0,e===0?32:31-(vP(e)/yP|0)|0}var Oa=64,Va=4194304;function Zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sl(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~o;c!==0?i=Zo(c):(s&=l,s!==0&&(i=Zo(s)))}else l=n&~o,l!==0?i=Zo(l):s!==0&&(i=Zo(s));if(i===0)return 0;if(t!==0&&t!==i&&!(t&o)&&(o=i&-i,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-un(t),o=1<<n,i|=e[n],t&=~o;return i}function EP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TP(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-un(s),c=1<<l,f=o[l];f===-1?(!(c&n)||c&i)&&(o[l]=EP(c,t)):f<=t&&(e.expiredLanes|=c),s&=~c}}function Uh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kv(){var e=Oa;return Oa<<=1,!(Oa&4194240)&&(Oa=64),e}function Uc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-un(t),e[t]=n}function PP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-un(n),s=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~s}}function ud(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-un(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var gt=0;function Qv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yv,cd,Xv,Jv,ty,jh=!1,za=[],ai=null,li=null,ui=null,ms=new Map,_s=new Map,ni=[],SP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p_(e,t){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function Oo(e,t,n,i,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Gs(t),t!==null&&cd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function IP(e,t,n,i,o){switch(t){case"focusin":return ai=Oo(ai,e,t,n,i,o),!0;case"dragenter":return li=Oo(li,e,t,n,i,o),!0;case"mouseover":return ui=Oo(ui,e,t,n,i,o),!0;case"pointerover":var s=o.pointerId;return ms.set(s,Oo(ms.get(s)||null,e,t,n,i,o)),!0;case"gotpointercapture":return s=o.pointerId,_s.set(s,Oo(_s.get(s)||null,e,t,n,i,o)),!0}return!1}function ey(e){var t=bi(e.target);if(t!==null){var n=sr(t);if(n!==null){if(t=n.tag,t===13){if(t=jv(n),t!==null){e.blockedOn=t,ty(e.priority,function(){Xv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Fh=i,n.target.dispatchEvent(i),Fh=null}else return t=Gs(n),t!==null&&cd(t),e.blockedOn=n,!1;t.shift()}return!0}function m_(e,t,n){ol(e)&&n.delete(t)}function CP(){jh=!1,ai!==null&&ol(ai)&&(ai=null),li!==null&&ol(li)&&(li=null),ui!==null&&ol(ui)&&(ui=null),ms.forEach(m_),_s.forEach(m_)}function Vo(e,t){e.blockedOn===t&&(e.blockedOn=null,jh||(jh=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,CP)))}function gs(e){function t(o){return Vo(o,e)}if(0<za.length){Vo(za[0],e);for(var n=1;n<za.length;n++){var i=za[n];i.blockedOn===e&&(i.blockedOn=null)}}for(ai!==null&&Vo(ai,e),li!==null&&Vo(li,e),ui!==null&&Vo(ui,e),ms.forEach(t),_s.forEach(t),n=0;n<ni.length;n++)i=ni[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<ni.length&&(n=ni[0],n.blockedOn===null);)ey(n),n.blockedOn===null&&ni.shift()}var $r=Kn.ReactCurrentBatchConfig,Il=!0;function AP(e,t,n,i){var o=gt,s=$r.transition;$r.transition=null;try{gt=1,hd(e,t,n,i)}finally{gt=o,$r.transition=s}}function xP(e,t,n,i){var o=gt,s=$r.transition;$r.transition=null;try{gt=4,hd(e,t,n,i)}finally{gt=o,$r.transition=s}}function hd(e,t,n,i){if(Il){var o=Hh(e,t,n,i);if(o===null)Xc(e,t,i,Cl,n),p_(e,i);else if(IP(o,e,t,n,i))i.stopPropagation();else if(p_(e,i),t&4&&-1<SP.indexOf(e)){for(;o!==null;){var s=Gs(o);if(s!==null&&Yv(s),s=Hh(e,t,n,i),s===null&&Xc(e,t,i,Cl,n),s===o)break;o=s}o!==null&&i.stopPropagation()}else Xc(e,t,i,null,n)}}var Cl=null;function Hh(e,t,n,i){if(Cl=null,e=ad(i),e=bi(e),e!==null)if(t=sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cl=e,null}function ny(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mP()){case ld:return 1;case qv:return 4;case Pl:case _P:return 16;case Gv:return 536870912;default:return 16}default:return 16}}var ri=null,fd=null,sl=null;function iy(){if(sl)return sl;var e,t=fd,n=t.length,i,o="value"in ri?ri.value:ri.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(i=1;i<=l&&t[n-i]===o[s-i];i++);return sl=o.slice(e,1<i?1-i:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fa(){return!0}function __(){return!1}function He(e){function t(n,i,o,s,l){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fa:__,this.isPropagationStopped=__,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fa)},persist:function(){},isPersistent:Fa}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dd=He(co),qs=Dt({},co,{view:0,detail:0}),kP=He(qs),jc,Hc,zo,cu=Dt({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zo&&(zo&&e.type==="mousemove"?(jc=e.screenX-zo.screenX,Hc=e.screenY-zo.screenY):Hc=jc=0,zo=e),jc)},movementY:function(e){return"movementY"in e?e.movementY:Hc}}),g_=He(cu),RP=Dt({},cu,{dataTransfer:0}),LP=He(RP),MP=Dt({},qs,{relatedTarget:0}),Wc=He(MP),DP=Dt({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),NP=He(DP),OP=Dt({},co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VP=He(OP),zP=Dt({},co,{data:0}),v_=He(zP),FP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $P(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bP[e])?!!t[e]:!1}function pd(){return $P}var UP=Dt({},qs,{key:function(e){if(e.key){var t=FP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pd,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jP=He(UP),HP=Dt({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y_=He(HP),WP=Dt({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pd}),ZP=He(WP),qP=Dt({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),GP=He(qP),KP=Dt({},cu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QP=He(KP),YP=[9,13,27,32],md=Un&&"CompositionEvent"in window,ts=null;Un&&"documentMode"in document&&(ts=document.documentMode);var XP=Un&&"TextEvent"in window&&!ts,ry=Un&&(!md||ts&&8<ts&&11>=ts),w_=String.fromCharCode(32),E_=!1;function oy(e,t){switch(e){case"keyup":return YP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ar=!1;function JP(e,t){switch(e){case"compositionend":return sy(t);case"keypress":return t.which!==32?null:(E_=!0,w_);case"textInput":return e=t.data,e===w_&&E_?null:e;default:return null}}function tS(e,t){if(Ar)return e==="compositionend"||!md&&oy(e,t)?(e=iy(),sl=fd=ri=null,Ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ry&&t.locale!=="ko"?null:t.data;default:return null}}var eS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eS[e.type]:t==="textarea"}function ay(e,t,n,i){Fv(i),t=Al(t,"onChange"),0<t.length&&(n=new dd("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var es=null,vs=null;function nS(e){vy(e,0)}function hu(e){var t=Rr(e);if(Lv(t))return e}function iS(e,t){if(e==="change")return t}var ly=!1;if(Un){var Zc;if(Un){var qc="oninput"in document;if(!qc){var P_=document.createElement("div");P_.setAttribute("oninput","return;"),qc=typeof P_.oninput=="function"}Zc=qc}else Zc=!1;ly=Zc&&(!document.documentMode||9<document.documentMode)}function S_(){es&&(es.detachEvent("onpropertychange",uy),vs=es=null)}function uy(e){if(e.propertyName==="value"&&hu(vs)){var t=[];ay(t,vs,e,ad(e)),Uv(nS,t)}}function rS(e,t,n){e==="focusin"?(S_(),es=t,vs=n,es.attachEvent("onpropertychange",uy)):e==="focusout"&&S_()}function oS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hu(vs)}function sS(e,t){if(e==="click")return hu(t)}function aS(e,t){if(e==="input"||e==="change")return hu(t)}function lS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hn=typeof Object.is=="function"?Object.is:lS;function ys(e,t){if(hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Ch.call(t,o)||!hn(e[o],t[o]))return!1}return!0}function I_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function C_(e,t){var n=I_(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=I_(n)}}function cy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hy(){for(var e=window,t=wl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=wl(e.document)}return t}function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uS(e){var t=hy(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cy(n.ownerDocument.documentElement,n)){if(i!==null&&_d(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(i.start,o);i=i.end===void 0?s:Math.min(i.end,o),!e.extend&&s>i&&(o=i,i=s,s=o),o=C_(n,s);var l=C_(n,i);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cS=Un&&"documentMode"in document&&11>=document.documentMode,xr=null,Wh=null,ns=null,Zh=!1;function A_(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zh||xr==null||xr!==wl(i)||(i=xr,"selectionStart"in i&&_d(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ns&&ys(ns,i)||(ns=i,i=Al(Wh,"onSelect"),0<i.length&&(t=new dd("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=xr)))}function Ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionend:Ba("Transition","TransitionEnd")},Gc={},fy={};Un&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function fu(e){if(Gc[e])return Gc[e];if(!kr[e])return e;var t=kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fy)return Gc[e]=t[n];return e}var dy=fu("animationend"),py=fu("animationiteration"),my=fu("animationstart"),_y=fu("transitionend"),gy=new Map,x_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(e,t){gy.set(e,t),or(t,[e])}for(var Kc=0;Kc<x_.length;Kc++){var Qc=x_[Kc],hS=Qc.toLowerCase(),fS=Qc[0].toUpperCase()+Qc.slice(1);Ii(hS,"on"+fS)}Ii(dy,"onAnimationEnd");Ii(py,"onAnimationIteration");Ii(my,"onAnimationStart");Ii("dblclick","onDoubleClick");Ii("focusin","onFocus");Ii("focusout","onBlur");Ii(_y,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dS=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function k_(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,hP(i,t,void 0,e),e.currentTarget=null}function vy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var l=i.length-1;0<=l;l--){var c=i[l],f=c.instance,p=c.currentTarget;if(c=c.listener,f!==s&&o.isPropagationStopped())break t;k_(o,c,p),s=f}else for(l=0;l<i.length;l++){if(c=i[l],f=c.instance,p=c.currentTarget,c=c.listener,f!==s&&o.isPropagationStopped())break t;k_(o,c,p),s=f}}}if(Tl)throw e=$h,Tl=!1,$h=null,e}function St(e,t){var n=t[Yh];n===void 0&&(n=t[Yh]=new Set);var i=e+"__bubble";n.has(i)||(yy(t,e,2,!1),n.add(i))}function Yc(e,t,n){var i=0;t&&(i|=4),yy(n,e,i,t)}var ba="_reactListening"+Math.random().toString(36).slice(2);function ws(e){if(!e[ba]){e[ba]=!0,Cv.forEach(function(n){n!=="selectionchange"&&(dS.has(n)||Yc(n,!1,e),Yc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ba]||(t[ba]=!0,Yc("selectionchange",!1,t))}}function yy(e,t,n,i){switch(ny(t)){case 1:var o=AP;break;case 4:o=xP;break;default:o=hd}n=o.bind(null,t,n,e),o=void 0,!bh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Xc(e,t,n,i,o){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var c=i.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(l===4)for(l=i.return;l!==null;){var f=l.tag;if((f===3||f===4)&&(f=l.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;l=l.return}for(;c!==null;){if(l=bi(c),l===null)return;if(f=l.tag,f===5||f===6){i=s=l;continue t}c=c.parentNode}}i=i.return}Uv(function(){var p=s,_=ad(n),g=[];t:{var v=gy.get(e);if(v!==void 0){var P=dd,A=e;switch(e){case"keypress":if(al(n)===0)break t;case"keydown":case"keyup":P=jP;break;case"focusin":A="focus",P=Wc;break;case"focusout":A="blur",P=Wc;break;case"beforeblur":case"afterblur":P=Wc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=g_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=LP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=ZP;break;case dy:case py:case my:P=NP;break;case _y:P=GP;break;case"scroll":P=kP;break;case"wheel":P=QP;break;case"copy":case"cut":case"paste":P=VP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=y_}var C=(t&4)!==0,V=!C&&e==="scroll",E=C?v!==null?v+"Capture":null:v;C=[];for(var w=p,T;w!==null;){T=w;var x=T.stateNode;if(T.tag===5&&x!==null&&(T=x,E!==null&&(x=ps(w,E),x!=null&&C.push(Es(w,x,T)))),V)break;w=w.return}0<C.length&&(v=new P(v,A,null,n,_),g.push({event:v,listeners:C}))}}if(!(t&7)){t:{if(v=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",v&&n!==Fh&&(A=n.relatedTarget||n.fromElement)&&(bi(A)||A[jn]))break t;if((P||v)&&(v=_.window===_?_:(v=_.ownerDocument)?v.defaultView||v.parentWindow:window,P?(A=n.relatedTarget||n.toElement,P=p,A=A?bi(A):null,A!==null&&(V=sr(A),A!==V||A.tag!==5&&A.tag!==6)&&(A=null)):(P=null,A=p),P!==A)){if(C=g_,x="onMouseLeave",E="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(C=y_,x="onPointerLeave",E="onPointerEnter",w="pointer"),V=P==null?v:Rr(P),T=A==null?v:Rr(A),v=new C(x,w+"leave",P,n,_),v.target=V,v.relatedTarget=T,x=null,bi(_)===p&&(C=new C(E,w+"enter",A,n,_),C.target=T,C.relatedTarget=V,x=C),V=x,P&&A)e:{for(C=P,E=A,w=0,T=C;T;T=wr(T))w++;for(T=0,x=E;x;x=wr(x))T++;for(;0<w-T;)C=wr(C),w--;for(;0<T-w;)E=wr(E),T--;for(;w--;){if(C===E||E!==null&&C===E.alternate)break e;C=wr(C),E=wr(E)}C=null}else C=null;P!==null&&R_(g,v,P,C,!1),A!==null&&V!==null&&R_(g,V,A,C,!0)}}t:{if(v=p?Rr(p):window,P=v.nodeName&&v.nodeName.toLowerCase(),P==="select"||P==="input"&&v.type==="file")var z=iS;else if(T_(v))if(ly)z=aS;else{z=oS;var b=rS}else(P=v.nodeName)&&P.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(z=sS);if(z&&(z=z(e,p))){ay(g,z,n,_);break t}b&&b(e,v,p),e==="focusout"&&(b=v._wrapperState)&&b.controlled&&v.type==="number"&&Dh(v,"number",v.value)}switch(b=p?Rr(p):window,e){case"focusin":(T_(b)||b.contentEditable==="true")&&(xr=b,Wh=p,ns=null);break;case"focusout":ns=Wh=xr=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,A_(g,n,_);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":A_(g,n,_)}var U;if(md)t:{switch(e){case"compositionstart":var H="onCompositionStart";break t;case"compositionend":H="onCompositionEnd";break t;case"compositionupdate":H="onCompositionUpdate";break t}H=void 0}else Ar?oy(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(ry&&n.locale!=="ko"&&(Ar||H!=="onCompositionStart"?H==="onCompositionEnd"&&Ar&&(U=iy()):(ri=_,fd="value"in ri?ri.value:ri.textContent,Ar=!0)),b=Al(p,H),0<b.length&&(H=new v_(H,e,null,n,_),g.push({event:H,listeners:b}),U?H.data=U:(U=sy(n),U!==null&&(H.data=U)))),(U=XP?JP(e,n):tS(e,n))&&(p=Al(p,"onBeforeInput"),0<p.length&&(_=new v_("onBeforeInput","beforeinput",null,n,_),g.push({event:_,listeners:p}),_.data=U))}vy(g,t)})}function Es(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Al(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=ps(e,n),s!=null&&i.unshift(Es(e,s,o)),s=ps(e,t),s!=null&&i.push(Es(e,s,o))),e=e.return}return i}function wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function R_(e,t,n,i,o){for(var s=t._reactName,l=[];n!==null&&n!==i;){var c=n,f=c.alternate,p=c.stateNode;if(f!==null&&f===i)break;c.tag===5&&p!==null&&(c=p,o?(f=ps(n,s),f!=null&&l.unshift(Es(n,f,c))):o||(f=ps(n,s),f!=null&&l.push(Es(n,f,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var pS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function L_(e){return(typeof e=="string"?e:""+e).replace(pS,`
`).replace(mS,"")}function $a(e,t,n){if(t=L_(t),L_(e)!==t&&n)throw Error(N(425))}function xl(){}var qh=null,Gh=null;function Kh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qh=typeof setTimeout=="function"?setTimeout:void 0,_S=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,gS=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(e){return M_.resolve(null).then(e).catch(vS)}:Qh;function vS(e){setTimeout(function(){throw e})}function Jc(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),gs(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);gs(t)}function ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function D_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),wn="__reactFiber$"+ho,Ts="__reactProps$"+ho,jn="__reactContainer$"+ho,Yh="__reactEvents$"+ho,yS="__reactListeners$"+ho,wS="__reactHandles$"+ho;function bi(e){var t=e[wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jn]||n[wn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=D_(e);e!==null;){if(n=e[wn])return n;e=D_(e)}return t}e=n,n=e.parentNode}return null}function Gs(e){return e=e[wn]||e[jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function du(e){return e[Ts]||null}var Xh=[],Lr=-1;function Ci(e){return{current:e}}function Ct(e){0>Lr||(e.current=Xh[Lr],Xh[Lr]=null,Lr--)}function Pt(e,t){Lr++,Xh[Lr]=e.current,e.current=t}var wi={},we=Ci(wi),De=Ci(!1),Ki=wi;function Kr(e,t){var n=e.type.contextTypes;if(!n)return wi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ne(e){return e=e.childContextTypes,e!=null}function kl(){Ct(De),Ct(we)}function N_(e,t,n){if(we.current!==wi)throw Error(N(168));Pt(we,t),Pt(De,n)}function wy(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(N(108,rP(e)||"Unknown",o));return Dt({},n,i)}function Rl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wi,Ki=we.current,Pt(we,e),Pt(De,De.current),!0}function O_(e,t,n){var i=e.stateNode;if(!i)throw Error(N(169));n?(e=wy(e,t,Ki),i.__reactInternalMemoizedMergedChildContext=e,Ct(De),Ct(we),Pt(we,e)):Ct(De),Pt(De,n)}var zn=null,pu=!1,th=!1;function Ey(e){zn===null?zn=[e]:zn.push(e)}function ES(e){pu=!0,Ey(e)}function Ai(){if(!th&&zn!==null){th=!0;var e=0,t=gt;try{var n=zn;for(gt=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}zn=null,pu=!1}catch(o){throw zn!==null&&(zn=zn.slice(e+1)),Zv(ld,Ai),o}finally{gt=t,th=!1}}return null}var Mr=[],Dr=0,Ll=null,Ml=0,Ke=[],Qe=0,Qi=null,Fn=1,Bn="";function zi(e,t){Mr[Dr++]=Ml,Mr[Dr++]=Ll,Ll=e,Ml=t}function Ty(e,t,n){Ke[Qe++]=Fn,Ke[Qe++]=Bn,Ke[Qe++]=Qi,Qi=e;var i=Fn;e=Bn;var o=32-un(i)-1;i&=~(1<<o),n+=1;var s=32-un(t)+o;if(30<s){var l=o-o%5;s=(i&(1<<l)-1).toString(32),i>>=l,o-=l,Fn=1<<32-un(t)+o|n<<o|i,Bn=s+e}else Fn=1<<s|n<<o|i,Bn=e}function gd(e){e.return!==null&&(zi(e,1),Ty(e,1,0))}function vd(e){for(;e===Ll;)Ll=Mr[--Dr],Mr[Dr]=null,Ml=Mr[--Dr],Mr[Dr]=null;for(;e===Qi;)Qi=Ke[--Qe],Ke[Qe]=null,Bn=Ke[--Qe],Ke[Qe]=null,Fn=Ke[--Qe],Ke[Qe]=null}var Be=null,ze=null,xt=!1,ln=null;function Py(e,t){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function V_(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,ze=ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qi!==null?{id:Fn,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Be=e,ze=null,!0):!1;default:return!1}}function Jh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tf(e){if(xt){var t=ze;if(t){var n=t;if(!V_(e,t)){if(Jh(e))throw Error(N(418));t=ci(n.nextSibling);var i=Be;t&&V_(e,t)?Py(i,n):(e.flags=e.flags&-4097|2,xt=!1,Be=e)}}else{if(Jh(e))throw Error(N(418));e.flags=e.flags&-4097|2,xt=!1,Be=e}}}function z_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Ua(e){if(e!==Be)return!1;if(!xt)return z_(e),xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kh(e.type,e.memoizedProps)),t&&(t=ze)){if(Jh(e))throw Sy(),Error(N(418));for(;t;)Py(e,t),t=ci(t.nextSibling)}if(z_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ze=ci(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=Be?ci(e.stateNode.nextSibling):null;return!0}function Sy(){for(var e=ze;e;)e=ci(e.nextSibling)}function Qr(){ze=Be=null,xt=!1}function yd(e){ln===null?ln=[e]:ln.push(e)}var TS=Kn.ReactCurrentBatchConfig;function sn(e,t){if(e&&e.defaultProps){t=Dt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Dl=Ci(null),Nl=null,Nr=null,wd=null;function Ed(){wd=Nr=Nl=null}function Td(e){var t=Dl.current;Ct(Dl),e._currentValue=t}function ef(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ur(e,t){Nl=e,wd=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function tn(e){var t=e._currentValue;if(wd!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(Nl===null)throw Error(N(308));Nr=e,Nl.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var $i=null;function Pd(e){$i===null?$i=[e]:$i.push(e)}function Iy(e,t,n,i){var o=t.interleaved;return o===null?(n.next=n,Pd(t)):(n.next=o.next,o.next=n),t.interleaved=n,Hn(e,i)}function Hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ei=!1;function Sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $n(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,dt&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,Hn(e,n)}return o=i.interleaved,o===null?(t.next=t,Pd(i)):(t.next=o.next,o.next=t),i.interleaved=t,Hn(e,n)}function ll(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ud(e,n)}}function F_(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ol(e,t,n,i){var o=e.updateQueue;ei=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var f=c,p=f.next;f.next=null,l===null?s=p:l.next=p,l=f;var _=e.alternate;_!==null&&(_=_.updateQueue,c=_.lastBaseUpdate,c!==l&&(c===null?_.firstBaseUpdate=p:c.next=p,_.lastBaseUpdate=f))}if(s!==null){var g=o.baseState;l=0,_=p=f=null,c=s;do{var v=c.lane,P=c.eventTime;if((i&v)===v){_!==null&&(_=_.next={eventTime:P,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});t:{var A=e,C=c;switch(v=t,P=n,C.tag){case 1:if(A=C.payload,typeof A=="function"){g=A.call(P,g,v);break t}g=A;break t;case 3:A.flags=A.flags&-65537|128;case 0:if(A=C.payload,v=typeof A=="function"?A.call(P,g,v):A,v==null)break t;g=Dt({},g,v);break t;case 2:ei=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=o.effects,v===null?o.effects=[c]:v.push(c))}else P={eventTime:P,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},_===null?(p=_=P,f=g):_=_.next=P,l|=v;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;v=c,c=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(1);if(_===null&&(f=g),o.baseState=f,o.firstBaseUpdate=p,o.lastBaseUpdate=_,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);Xi|=l,e.lanes=l,e.memoizedState=g}}function B_(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(N(191,o));o.call(i)}}}var Ay=new Iv.Component().refs;function nf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mu={isMounted:function(e){return(e=e._reactInternals)?sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ie(),o=di(e),s=$n(i,o);s.payload=t,n!=null&&(s.callback=n),t=hi(e,s,o),t!==null&&(cn(t,e,o,i),ll(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ie(),o=di(e),s=$n(i,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=hi(e,s,o),t!==null&&(cn(t,e,o,i),ll(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),i=di(e),o=$n(n,i);o.tag=2,t!=null&&(o.callback=t),t=hi(e,o,i),t!==null&&(cn(t,e,i,n),ll(t,e,i))}};function b_(e,t,n,i,o,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,l):t.prototype&&t.prototype.isPureReactComponent?!ys(n,i)||!ys(o,s):!0}function xy(e,t,n){var i=!1,o=wi,s=t.contextType;return typeof s=="object"&&s!==null?s=tn(s):(o=Ne(t)?Ki:we.current,i=t.contextTypes,s=(i=i!=null)?Kr(e,o):wi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mu,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function $_(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&mu.enqueueReplaceState(t,t.state,null)}function rf(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Ay,Sd(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=tn(s):(s=Ne(t)?Ki:we.current,o.context=Kr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(nf(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&mu.enqueueReplaceState(o,o.state,null),Ol(e,n,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Fo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var i=n.stateNode}if(!i)throw Error(N(147,e));var o=i,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var c=o.refs;c===Ay&&(c=o.refs={}),l===null?delete c[s]:c[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function ja(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function U_(e){var t=e._init;return t(e._payload)}function ky(e){function t(E,w){if(e){var T=E.deletions;T===null?(E.deletions=[w],E.flags|=16):T.push(w)}}function n(E,w){if(!e)return null;for(;w!==null;)t(E,w),w=w.sibling;return null}function i(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function o(E,w){return E=pi(E,w),E.index=0,E.sibling=null,E}function s(E,w,T){return E.index=T,e?(T=E.alternate,T!==null?(T=T.index,T<w?(E.flags|=2,w):T):(E.flags|=2,w)):(E.flags|=1048576,w)}function l(E){return e&&E.alternate===null&&(E.flags|=2),E}function c(E,w,T,x){return w===null||w.tag!==6?(w=ah(T,E.mode,x),w.return=E,w):(w=o(w,T),w.return=E,w)}function f(E,w,T,x){var z=T.type;return z===Cr?_(E,w,T.props.children,x,T.key):w!==null&&(w.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ti&&U_(z)===w.type)?(x=o(w,T.props),x.ref=Fo(E,w,T),x.return=E,x):(x=pl(T.type,T.key,T.props,null,E.mode,x),x.ref=Fo(E,w,T),x.return=E,x)}function p(E,w,T,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=lh(T,E.mode,x),w.return=E,w):(w=o(w,T.children||[]),w.return=E,w)}function _(E,w,T,x,z){return w===null||w.tag!==7?(w=qi(T,E.mode,x,z),w.return=E,w):(w=o(w,T),w.return=E,w)}function g(E,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ah(""+w,E.mode,T),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ma:return T=pl(w.type,w.key,w.props,null,E.mode,T),T.ref=Fo(E,null,w),T.return=E,T;case Ir:return w=lh(w,E.mode,T),w.return=E,w;case ti:var x=w._init;return g(E,x(w._payload),T)}if(Wo(w)||Do(w))return w=qi(w,E.mode,T,null),w.return=E,w;ja(E,w)}return null}function v(E,w,T,x){var z=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return z!==null?null:c(E,w,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ma:return T.key===z?f(E,w,T,x):null;case Ir:return T.key===z?p(E,w,T,x):null;case ti:return z=T._init,v(E,w,z(T._payload),x)}if(Wo(T)||Do(T))return z!==null?null:_(E,w,T,x,null);ja(E,T)}return null}function P(E,w,T,x,z){if(typeof x=="string"&&x!==""||typeof x=="number")return E=E.get(T)||null,c(w,E,""+x,z);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ma:return E=E.get(x.key===null?T:x.key)||null,f(w,E,x,z);case Ir:return E=E.get(x.key===null?T:x.key)||null,p(w,E,x,z);case ti:var b=x._init;return P(E,w,T,b(x._payload),z)}if(Wo(x)||Do(x))return E=E.get(T)||null,_(w,E,x,z,null);ja(w,x)}return null}function A(E,w,T,x){for(var z=null,b=null,U=w,H=w=0,wt=null;U!==null&&H<T.length;H++){U.index>H?(wt=U,U=null):wt=U.sibling;var it=v(E,U,T[H],x);if(it===null){U===null&&(U=wt);break}e&&U&&it.alternate===null&&t(E,U),w=s(it,w,H),b===null?z=it:b.sibling=it,b=it,U=wt}if(H===T.length)return n(E,U),xt&&zi(E,H),z;if(U===null){for(;H<T.length;H++)U=g(E,T[H],x),U!==null&&(w=s(U,w,H),b===null?z=U:b.sibling=U,b=U);return xt&&zi(E,H),z}for(U=i(E,U);H<T.length;H++)wt=P(U,E,H,T[H],x),wt!==null&&(e&&wt.alternate!==null&&U.delete(wt.key===null?H:wt.key),w=s(wt,w,H),b===null?z=wt:b.sibling=wt,b=wt);return e&&U.forEach(function(Et){return t(E,Et)}),xt&&zi(E,H),z}function C(E,w,T,x){var z=Do(T);if(typeof z!="function")throw Error(N(150));if(T=z.call(T),T==null)throw Error(N(151));for(var b=z=null,U=w,H=w=0,wt=null,it=T.next();U!==null&&!it.done;H++,it=T.next()){U.index>H?(wt=U,U=null):wt=U.sibling;var Et=v(E,U,it.value,x);if(Et===null){U===null&&(U=wt);break}e&&U&&Et.alternate===null&&t(E,U),w=s(Et,w,H),b===null?z=Et:b.sibling=Et,b=Et,U=wt}if(it.done)return n(E,U),xt&&zi(E,H),z;if(U===null){for(;!it.done;H++,it=T.next())it=g(E,it.value,x),it!==null&&(w=s(it,w,H),b===null?z=it:b.sibling=it,b=it);return xt&&zi(E,H),z}for(U=i(E,U);!it.done;H++,it=T.next())it=P(U,E,H,it.value,x),it!==null&&(e&&it.alternate!==null&&U.delete(it.key===null?H:it.key),w=s(it,w,H),b===null?z=it:b.sibling=it,b=it);return e&&U.forEach(function(Kt){return t(E,Kt)}),xt&&zi(E,H),z}function V(E,w,T,x){if(typeof T=="object"&&T!==null&&T.type===Cr&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ma:t:{for(var z=T.key,b=w;b!==null;){if(b.key===z){if(z=T.type,z===Cr){if(b.tag===7){n(E,b.sibling),w=o(b,T.props.children),w.return=E,E=w;break t}}else if(b.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ti&&U_(z)===b.type){n(E,b.sibling),w=o(b,T.props),w.ref=Fo(E,b,T),w.return=E,E=w;break t}n(E,b);break}else t(E,b);b=b.sibling}T.type===Cr?(w=qi(T.props.children,E.mode,x,T.key),w.return=E,E=w):(x=pl(T.type,T.key,T.props,null,E.mode,x),x.ref=Fo(E,w,T),x.return=E,E=x)}return l(E);case Ir:t:{for(b=T.key;w!==null;){if(w.key===b)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(E,w.sibling),w=o(w,T.children||[]),w.return=E,E=w;break t}else{n(E,w);break}else t(E,w);w=w.sibling}w=lh(T,E.mode,x),w.return=E,E=w}return l(E);case ti:return b=T._init,V(E,w,b(T._payload),x)}if(Wo(T))return A(E,w,T,x);if(Do(T))return C(E,w,T,x);ja(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(E,w.sibling),w=o(w,T),w.return=E,E=w):(n(E,w),w=ah(T,E.mode,x),w.return=E,E=w),l(E)):n(E,w)}return V}var Yr=ky(!0),Ry=ky(!1),Ks={},In=Ci(Ks),Ps=Ci(Ks),Ss=Ci(Ks);function Ui(e){if(e===Ks)throw Error(N(174));return e}function Id(e,t){switch(Pt(Ss,t),Pt(Ps,e),Pt(In,Ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Oh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Oh(t,e)}Ct(In),Pt(In,t)}function Xr(){Ct(In),Ct(Ps),Ct(Ss)}function Ly(e){Ui(Ss.current);var t=Ui(In.current),n=Oh(t,e.type);t!==n&&(Pt(Ps,e),Pt(In,n))}function Cd(e){Ps.current===e&&(Ct(In),Ct(Ps))}var Lt=Ci(0);function Vl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eh=[];function Ad(){for(var e=0;e<eh.length;e++)eh[e]._workInProgressVersionPrimary=null;eh.length=0}var ul=Kn.ReactCurrentDispatcher,nh=Kn.ReactCurrentBatchConfig,Yi=0,Mt=null,Wt=null,Xt=null,zl=!1,is=!1,Is=0,PS=0;function fe(){throw Error(N(321))}function xd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hn(e[n],t[n]))return!1;return!0}function kd(e,t,n,i,o,s){if(Yi=s,Mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ul.current=e===null||e.memoizedState===null?AS:xS,e=n(i,o),is){s=0;do{if(is=!1,Is=0,25<=s)throw Error(N(301));s+=1,Xt=Wt=null,t.updateQueue=null,ul.current=kS,e=n(i,o)}while(is)}if(ul.current=Fl,t=Wt!==null&&Wt.next!==null,Yi=0,Xt=Wt=Mt=null,zl=!1,t)throw Error(N(300));return e}function Rd(){var e=Is!==0;return Is=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Mt.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function en(){if(Wt===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var t=Xt===null?Mt.memoizedState:Xt.next;if(t!==null)Xt=t,Wt=e;else{if(e===null)throw Error(N(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Xt===null?Mt.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function Cs(e,t){return typeof t=="function"?t(e):t}function ih(e){var t=en(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var i=Wt,o=i.baseQueue,s=n.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}i.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,i=i.baseState;var c=l=null,f=null,p=s;do{var _=p.lane;if((Yi&_)===_)f!==null&&(f=f.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),i=p.hasEagerState?p.eagerState:e(i,p.action);else{var g={lane:_,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};f===null?(c=f=g,l=i):f=f.next=g,Mt.lanes|=_,Xi|=_}p=p.next}while(p!==null&&p!==s);f===null?l=i:f.next=c,hn(i,t.memoizedState)||(Me=!0),t.memoizedState=i,t.baseState=l,t.baseQueue=f,n.lastRenderedState=i}if(e=n.interleaved,e!==null){o=e;do s=o.lane,Mt.lanes|=s,Xi|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rh(e){var t=en(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do s=e(s,l.action),l=l.next;while(l!==o);hn(s,t.memoizedState)||(Me=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function My(){}function Dy(e,t){var n=Mt,i=en(),o=t(),s=!hn(i.memoizedState,o);if(s&&(i.memoizedState=o,Me=!0),i=i.queue,Ld(Vy.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,As(9,Oy.bind(null,n,i,o,t),void 0,null),Jt===null)throw Error(N(349));Yi&30||Ny(n,t,o)}return o}function Ny(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Oy(e,t,n,i){t.value=n,t.getSnapshot=i,zy(t)&&Fy(e)}function Vy(e,t,n){return n(function(){zy(t)&&Fy(e)})}function zy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hn(e,n)}catch{return!0}}function Fy(e){var t=Hn(e,1);t!==null&&cn(t,e,1,-1)}function j_(e){var t=vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=CS.bind(null,Mt,e),[t.memoizedState,e]}function As(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function By(){return en().memoizedState}function cl(e,t,n,i){var o=vn();Mt.flags|=e,o.memoizedState=As(1|t,n,void 0,i===void 0?null:i)}function _u(e,t,n,i){var o=en();i=i===void 0?null:i;var s=void 0;if(Wt!==null){var l=Wt.memoizedState;if(s=l.destroy,i!==null&&xd(i,l.deps)){o.memoizedState=As(t,n,s,i);return}}Mt.flags|=e,o.memoizedState=As(1|t,n,s,i)}function H_(e,t){return cl(8390656,8,e,t)}function Ld(e,t){return _u(2048,8,e,t)}function by(e,t){return _u(4,2,e,t)}function $y(e,t){return _u(4,4,e,t)}function Uy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jy(e,t,n){return n=n!=null?n.concat([e]):null,_u(4,4,Uy.bind(null,t,e),n)}function Md(){}function Hy(e,t){var n=en();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&xd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Wy(e,t){var n=en();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&xd(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Zy(e,t,n){return Yi&21?(hn(n,t)||(n=Kv(),Mt.lanes|=n,Xi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=n)}function SS(e,t){var n=gt;gt=n!==0&&4>n?n:4,e(!0);var i=nh.transition;nh.transition={};try{e(!1),t()}finally{gt=n,nh.transition=i}}function qy(){return en().memoizedState}function IS(e,t,n){var i=di(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Gy(e))Ky(t,n);else if(n=Iy(e,t,n,i),n!==null){var o=Ie();cn(n,e,i,o),Qy(n,t,i)}}function CS(e,t,n){var i=di(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gy(e))Ky(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,c=s(l,n);if(o.hasEagerState=!0,o.eagerState=c,hn(c,l)){var f=t.interleaved;f===null?(o.next=o,Pd(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}n=Iy(e,t,o,i),n!==null&&(o=Ie(),cn(n,e,i,o),Qy(n,t,i))}}function Gy(e){var t=e.alternate;return e===Mt||t!==null&&t===Mt}function Ky(e,t){is=zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qy(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ud(e,n)}}var Fl={readContext:tn,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},AS={readContext:tn,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:tn,useEffect:H_,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,cl(4194308,4,Uy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cl(4194308,4,e,t)},useInsertionEffect:function(e,t){return cl(4,2,e,t)},useMemo:function(e,t){var n=vn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=vn();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=IS.bind(null,Mt,e),[i.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:j_,useDebugValue:Md,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=j_(!1),t=e[0];return e=SS.bind(null,e[1]),vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Mt,o=vn();if(xt){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Jt===null)throw Error(N(349));Yi&30||Ny(i,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,H_(Vy.bind(null,i,s,e),[e]),i.flags|=2048,As(9,Oy.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=vn(),t=Jt.identifierPrefix;if(xt){var n=Bn,i=Fn;n=(i&~(1<<32-un(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Is++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=PS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xS={readContext:tn,useCallback:Hy,useContext:tn,useEffect:Ld,useImperativeHandle:jy,useInsertionEffect:by,useLayoutEffect:$y,useMemo:Wy,useReducer:ih,useRef:By,useState:function(){return ih(Cs)},useDebugValue:Md,useDeferredValue:function(e){var t=en();return Zy(t,Wt.memoizedState,e)},useTransition:function(){var e=ih(Cs)[0],t=en().memoizedState;return[e,t]},useMutableSource:My,useSyncExternalStore:Dy,useId:qy,unstable_isNewReconciler:!1},kS={readContext:tn,useCallback:Hy,useContext:tn,useEffect:Ld,useImperativeHandle:jy,useInsertionEffect:by,useLayoutEffect:$y,useMemo:Wy,useReducer:rh,useRef:By,useState:function(){return rh(Cs)},useDebugValue:Md,useDeferredValue:function(e){var t=en();return Wt===null?t.memoizedState=e:Zy(t,Wt.memoizedState,e)},useTransition:function(){var e=rh(Cs)[0],t=en().memoizedState;return[e,t]},useMutableSource:My,useSyncExternalStore:Dy,useId:qy,unstable_isNewReconciler:!1};function Jr(e,t){try{var n="",i=t;do n+=iP(i),i=i.return;while(i);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function oh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function of(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var RS=typeof WeakMap=="function"?WeakMap:Map;function Yy(e,t,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){bl||(bl=!0,mf=i),of(e,t)},n}function Xy(e,t,n){n=$n(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){of(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){of(e,t),typeof i!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function W_(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new RS;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=HS.bind(null,e,t,n),t.then(e,e))}function Z_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function q_(e,t,n,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$n(-1,1),t.tag=2,hi(n,t,1))),n.lanes|=1),e)}var LS=Kn.ReactCurrentOwner,Me=!1;function Pe(e,t,n,i){t.child=e===null?Ry(t,null,n,i):Yr(t,e.child,n,i)}function G_(e,t,n,i,o){n=n.render;var s=t.ref;return Ur(t,o),i=kd(e,t,n,i,s,o),n=Rd(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wn(e,t,o)):(xt&&n&&gd(t),t.flags|=1,Pe(e,t,i,o),t.child)}function K_(e,t,n,i,o){if(e===null){var s=n.type;return typeof s=="function"&&!bd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Jy(e,t,s,i,o)):(e=pl(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:ys,n(l,i)&&e.ref===t.ref)return Wn(e,t,o)}return t.flags|=1,e=pi(s,i),e.ref=t.ref,e.return=t,t.child=e}function Jy(e,t,n,i,o){if(e!==null){var s=e.memoizedProps;if(ys(s,i)&&e.ref===t.ref)if(Me=!1,t.pendingProps=i=s,(e.lanes&o)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,Wn(e,t,o)}return sf(e,t,n,i,o)}function t0(e,t,n){var i=t.pendingProps,o=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Vr,Ve),Ve|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pt(Vr,Ve),Ve|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Pt(Vr,Ve),Ve|=i}else s!==null?(i=s.baseLanes|n,t.memoizedState=null):i=n,Pt(Vr,Ve),Ve|=i;return Pe(e,t,o,n),t.child}function e0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function sf(e,t,n,i,o){var s=Ne(n)?Ki:we.current;return s=Kr(t,s),Ur(t,o),n=kd(e,t,n,i,s,o),i=Rd(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wn(e,t,o)):(xt&&i&&gd(t),t.flags|=1,Pe(e,t,n,o),t.child)}function Q_(e,t,n,i,o){if(Ne(n)){var s=!0;Rl(t)}else s=!1;if(Ur(t,o),t.stateNode===null)hl(e,t),xy(t,n,i),rf(t,n,i,o),i=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var f=l.context,p=n.contextType;typeof p=="object"&&p!==null?p=tn(p):(p=Ne(n)?Ki:we.current,p=Kr(t,p));var _=n.getDerivedStateFromProps,g=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==i||f!==p)&&$_(t,l,i,p),ei=!1;var v=t.memoizedState;l.state=v,Ol(t,i,l,o),f=t.memoizedState,c!==i||v!==f||De.current||ei?(typeof _=="function"&&(nf(t,n,_,i),f=t.memoizedState),(c=ei||b_(t,n,c,i,v,f,p))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),l.props=i,l.state=f,l.context=p,i=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{l=t.stateNode,Cy(e,t),c=t.memoizedProps,p=t.type===t.elementType?c:sn(t.type,c),l.props=p,g=t.pendingProps,v=l.context,f=n.contextType,typeof f=="object"&&f!==null?f=tn(f):(f=Ne(n)?Ki:we.current,f=Kr(t,f));var P=n.getDerivedStateFromProps;(_=typeof P=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==g||v!==f)&&$_(t,l,i,f),ei=!1,v=t.memoizedState,l.state=v,Ol(t,i,l,o);var A=t.memoizedState;c!==g||v!==A||De.current||ei?(typeof P=="function"&&(nf(t,n,P,i),A=t.memoizedState),(p=ei||b_(t,n,p,i,v,A,f)||!1)?(_||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,A,f),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,A,f)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=A),l.props=i,l.state=A,l.context=f,i=p):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),i=!1)}return af(e,t,n,i,s,o)}function af(e,t,n,i,o,s){e0(e,t);var l=(t.flags&128)!==0;if(!i&&!l)return o&&O_(t,n,!1),Wn(e,t,s);i=t.stateNode,LS.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&l?(t.child=Yr(t,e.child,null,s),t.child=Yr(t,null,c,s)):Pe(e,t,c,s),t.memoizedState=i.state,o&&O_(t,n,!0),t.child}function n0(e){var t=e.stateNode;t.pendingContext?N_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&N_(e,t.context,!1),Id(e,t.containerInfo)}function Y_(e,t,n,i,o){return Qr(),yd(o),t.flags|=256,Pe(e,t,n,i),t.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function uf(e){return{baseLanes:e,cachePool:null,transitions:null}}function i0(e,t,n){var i=t.pendingProps,o=Lt.current,s=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Pt(Lt,o&1),e===null)return tf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=yu(l,i,0,null),e=qi(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=uf(n),t.memoizedState=lf,e):Dd(t,l));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return MS(e,t,l,i,c,o,n);if(s){s=i.fallback,l=t.mode,o=e.child,c=o.sibling;var f={mode:"hidden",children:i.children};return!(l&1)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=f,t.deletions=null):(i=pi(o,f),i.subtreeFlags=o.subtreeFlags&14680064),c!==null?s=pi(c,s):(s=qi(s,l,n,null),s.flags|=2),s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=e.child.memoizedState,l=l===null?uf(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=lf,i}return s=e.child,e=s.sibling,i=pi(s,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Dd(e,t){return t=yu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ha(e,t,n,i){return i!==null&&yd(i),Yr(t,e.child,null,n),e=Dd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MS(e,t,n,i,o,s,l){if(n)return t.flags&256?(t.flags&=-257,i=oh(Error(N(422))),Ha(e,t,l,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=yu({mode:"visible",children:i.children},o,0,null),s=qi(s,o,l,null),s.flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,t.mode&1&&Yr(t,e.child,null,l),t.child.memoizedState=uf(l),t.memoizedState=lf,s);if(!(t.mode&1))return Ha(e,t,l,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var c=i.dgst;return i=c,s=Error(N(419)),i=oh(s,i,void 0),Ha(e,t,l,i)}if(c=(l&e.childLanes)!==0,Me||c){if(i=Jt,i!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Hn(e,o),cn(i,e,o,-1))}return Bd(),i=oh(Error(N(421))),Ha(e,t,l,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=WS.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,ze=ci(o.nextSibling),Be=t,xt=!0,ln=null,e!==null&&(Ke[Qe++]=Fn,Ke[Qe++]=Bn,Ke[Qe++]=Qi,Fn=e.id,Bn=e.overflow,Qi=t),t=Dd(t,i.children),t.flags|=4096,t)}function X_(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ef(e.return,t,n)}function sh(e,t,n,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o)}function r0(e,t,n){var i=t.pendingProps,o=i.revealOrder,s=i.tail;if(Pe(e,t,i.children,n),i=Lt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&X_(e,n,t);else if(e.tag===19)X_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Pt(Lt,i),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Vl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),sh(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Vl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}sh(t,!0,n,null,s);break;case"together":sh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DS(e,t,n){switch(t.tag){case 3:n0(t),Qr();break;case 5:Ly(t);break;case 1:Ne(t.type)&&Rl(t);break;case 4:Id(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;Pt(Dl,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Pt(Lt,Lt.current&1),t.flags|=128,null):n&t.child.childLanes?i0(e,t,n):(Pt(Lt,Lt.current&1),e=Wn(e,t,n),e!==null?e.sibling:null);Pt(Lt,Lt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return r0(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Pt(Lt,Lt.current),i)break;return null;case 22:case 23:return t.lanes=0,t0(e,t,n)}return Wn(e,t,n)}var o0,cf,s0,a0;o0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cf=function(){};s0=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Ui(In.current);var s=null;switch(n){case"input":o=Lh(e,o),i=Lh(e,i),s=[];break;case"select":o=Dt({},o,{value:void 0}),i=Dt({},i,{value:void 0}),s=[];break;case"textarea":o=Nh(e,o),i=Nh(e,i),s=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=xl)}Vh(n,i);var l;n=null;for(p in o)if(!i.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var c=o[p];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(fs.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in i){var f=i[p];if(c=o!=null?o[p]:void 0,i.hasOwnProperty(p)&&f!==c&&(f!=null||c!=null))if(p==="style")if(c){for(l in c)!c.hasOwnProperty(l)||f&&f.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in f)f.hasOwnProperty(l)&&c[l]!==f[l]&&(n||(n={}),n[l]=f[l])}else n||(s||(s=[]),s.push(p,n)),n=f;else p==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,c=c?c.__html:void 0,f!=null&&c!==f&&(s=s||[]).push(p,f)):p==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(p,""+f):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(fs.hasOwnProperty(p)?(f!=null&&p==="onScroll"&&St("scroll",e),s||c===f||(s=[])):(s=s||[]).push(p,f))}n&&(s=s||[]).push("style",n);var p=s;(t.updateQueue=p)&&(t.flags|=4)}};a0=function(e,t,n,i){n!==i&&(t.flags|=4)};function Bo(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function de(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function NS(e,t,n){var i=t.pendingProps;switch(vd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(t),null;case 1:return Ne(t.type)&&kl(),de(t),null;case 3:return i=t.stateNode,Xr(),Ct(De),Ct(we),Ad(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ua(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ln!==null&&(vf(ln),ln=null))),cf(e,t),de(t),null;case 5:Cd(t);var o=Ui(Ss.current);if(n=t.type,e!==null&&t.stateNode!=null)s0(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(N(166));return de(t),null}if(e=Ui(In.current),Ua(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[wn]=t,i[Ts]=s,e=(t.mode&1)!==0,n){case"dialog":St("cancel",i),St("close",i);break;case"iframe":case"object":case"embed":St("load",i);break;case"video":case"audio":for(o=0;o<qo.length;o++)St(qo[o],i);break;case"source":St("error",i);break;case"img":case"image":case"link":St("error",i),St("load",i);break;case"details":St("toggle",i);break;case"input":a_(i,s),St("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},St("invalid",i);break;case"textarea":u_(i,s),St("invalid",i)}Vh(n,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];l==="children"?typeof c=="string"?i.textContent!==c&&(s.suppressHydrationWarning!==!0&&$a(i.textContent,c,e),o=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&$a(i.textContent,c,e),o=["children",""+c]):fs.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&St("scroll",i)}switch(n){case"input":Da(i),l_(i,s,!0);break;case"textarea":Da(i),c_(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=xl)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),n==="select"&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[wn]=t,e[Ts]=i,o0(e,t,!1,!1),t.stateNode=e;t:{switch(l=zh(n,i),n){case"dialog":St("cancel",e),St("close",e),o=i;break;case"iframe":case"object":case"embed":St("load",e),o=i;break;case"video":case"audio":for(o=0;o<qo.length;o++)St(qo[o],e);o=i;break;case"source":St("error",e),o=i;break;case"img":case"image":case"link":St("error",e),St("load",e),o=i;break;case"details":St("toggle",e),o=i;break;case"input":a_(e,i),o=Lh(e,i),St("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=Dt({},i,{value:void 0}),St("invalid",e);break;case"textarea":u_(e,i),o=Nh(e,i),St("invalid",e);break;default:o=i}Vh(n,o),c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];s==="style"?zv(e,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Ov(e,f)):s==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&ds(e,f):typeof f=="number"&&ds(e,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fs.hasOwnProperty(s)?f!=null&&s==="onScroll"&&St("scroll",e):f!=null&&id(e,s,f,l))}switch(n){case"input":Da(e),l_(e,i,!1);break;case"textarea":Da(e),c_(e);break;case"option":i.value!=null&&e.setAttribute("value",""+yi(i.value));break;case"select":e.multiple=!!i.multiple,s=i.value,s!=null?Fr(e,!!i.multiple,s,!1):i.defaultValue!=null&&Fr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=xl)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return de(t),null;case 6:if(e&&t.stateNode!=null)a0(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(N(166));if(n=Ui(Ss.current),Ui(In.current),Ua(t)){if(i=t.stateNode,n=t.memoizedProps,i[wn]=t,(s=i.nodeValue!==n)&&(e=Be,e!==null))switch(e.tag){case 3:$a(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$a(i.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[wn]=t,t.stateNode=i}return de(t),null;case 13:if(Ct(Lt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&ze!==null&&t.mode&1&&!(t.flags&128))Sy(),Qr(),t.flags|=98560,s=!1;else if(s=Ua(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(N(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[wn]=t}else Qr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;de(t),s=!1}else ln!==null&&(vf(ln),ln=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Lt.current&1?qt===0&&(qt=3):Bd())),t.updateQueue!==null&&(t.flags|=4),de(t),null);case 4:return Xr(),cf(e,t),e===null&&ws(t.stateNode.containerInfo),de(t),null;case 10:return Td(t.type._context),de(t),null;case 17:return Ne(t.type)&&kl(),de(t),null;case 19:if(Ct(Lt),s=t.memoizedState,s===null)return de(t),null;if(i=(t.flags&128)!==0,l=s.rendering,l===null)if(i)Bo(s,!1);else{if(qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Vl(e),l!==null){for(t.flags|=128,Bo(s,!1),i=l.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)s=n,e=i,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pt(Lt,Lt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ft()>to&&(t.flags|=128,i=!0,Bo(s,!1),t.lanes=4194304)}else{if(!i)if(e=Vl(l),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!xt)return de(t),null}else 2*Ft()-s.renderingStartTime>to&&n!==1073741824&&(t.flags|=128,i=!0,Bo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ft(),t.sibling=null,n=Lt.current,Pt(Lt,i?n&1|2:n&1),t):(de(t),null);case 22:case 23:return Fd(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Ve&1073741824&&(de(t),t.subtreeFlags&6&&(t.flags|=8192)):de(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function OS(e,t){switch(vd(t),t.tag){case 1:return Ne(t.type)&&kl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),Ct(De),Ct(we),Ad(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cd(t),null;case 13:if(Ct(Lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct(Lt),null;case 4:return Xr(),null;case 10:return Td(t.type._context),null;case 22:case 23:return Fd(),null;case 24:return null;default:return null}}var Wa=!1,_e=!1,VS=typeof WeakSet=="function"?WeakSet:Set,$=null;function Or(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ot(e,t,i)}else n.current=null}function hf(e,t,n){try{n()}catch(i){Ot(e,t,i)}}var J_=!1;function zS(e,t){if(qh=Il,e=hy(),_d(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var l=0,c=-1,f=-1,p=0,_=0,g=e,v=null;e:for(;;){for(var P;g!==n||o!==0&&g.nodeType!==3||(c=l+o),g!==s||i!==0&&g.nodeType!==3||(f=l+i),g.nodeType===3&&(l+=g.nodeValue.length),(P=g.firstChild)!==null;)v=g,g=P;for(;;){if(g===e)break e;if(v===n&&++p===o&&(c=l),v===s&&++_===i&&(f=l),(P=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=P}n=c===-1||f===-1?null:{start:c,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gh={focusedElem:e,selectionRange:n},Il=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var C=A.memoizedProps,V=A.memoizedState,E=t.stateNode,w=E.getSnapshotBeforeUpdate(t.elementType===t.type?C:sn(t.type,C),V);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){Ot(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return A=J_,J_=!1,A}function rs(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&hf(t,n,s)}o=o.next}while(o!==i)}}function gu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function ff(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function l0(e){var t=e.alternate;t!==null&&(e.alternate=null,l0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wn],delete t[Ts],delete t[Yh],delete t[yS],delete t[wS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function u0(e){return e.tag===5||e.tag===3||e.tag===4}function tg(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||u0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function df(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xl));else if(i!==4&&(e=e.child,e!==null))for(df(e,t,n),e=e.sibling;e!==null;)df(e,t,n),e=e.sibling}function pf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(pf(e,t,n),e=e.sibling;e!==null;)pf(e,t,n),e=e.sibling}var re=null,an=!1;function Jn(e,t,n){for(n=n.child;n!==null;)c0(e,t,n),n=n.sibling}function c0(e,t,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(uu,n)}catch{}switch(n.tag){case 5:_e||Or(n,t);case 6:var i=re,o=an;re=null,Jn(e,t,n),re=i,an=o,re!==null&&(an?(e=re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):re.removeChild(n.stateNode));break;case 18:re!==null&&(an?(e=re,n=n.stateNode,e.nodeType===8?Jc(e.parentNode,n):e.nodeType===1&&Jc(e,n),gs(e)):Jc(re,n.stateNode));break;case 4:i=re,o=an,re=n.stateNode.containerInfo,an=!0,Jn(e,t,n),re=i,an=o;break;case 0:case 11:case 14:case 15:if(!_e&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&hf(n,t,l),o=o.next}while(o!==i)}Jn(e,t,n);break;case 1:if(!_e&&(Or(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){Ot(n,t,c)}Jn(e,t,n);break;case 21:Jn(e,t,n);break;case 22:n.mode&1?(_e=(i=_e)||n.memoizedState!==null,Jn(e,t,n),_e=i):Jn(e,t,n);break;default:Jn(e,t,n)}}function eg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new VS),t.forEach(function(i){var o=ZS.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}}function on(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var s=e,l=t,c=l;t:for(;c!==null;){switch(c.tag){case 5:re=c.stateNode,an=!1;break t;case 3:re=c.stateNode.containerInfo,an=!0;break t;case 4:re=c.stateNode.containerInfo,an=!0;break t}c=c.return}if(re===null)throw Error(N(160));c0(s,l,o),re=null,an=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(p){Ot(o,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h0(t,e),t=t.sibling}function h0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),gn(e),i&4){try{rs(3,e,e.return),gu(3,e)}catch(C){Ot(e,e.return,C)}try{rs(5,e,e.return)}catch(C){Ot(e,e.return,C)}}break;case 1:on(t,e),gn(e),i&512&&n!==null&&Or(n,n.return);break;case 5:if(on(t,e),gn(e),i&512&&n!==null&&Or(n,n.return),e.flags&32){var o=e.stateNode;try{ds(o,"")}catch(C){Ot(e,e.return,C)}}if(i&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,c=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&Mv(o,s),zh(c,l);var p=zh(c,s);for(l=0;l<f.length;l+=2){var _=f[l],g=f[l+1];_==="style"?zv(o,g):_==="dangerouslySetInnerHTML"?Ov(o,g):_==="children"?ds(o,g):id(o,_,g,p)}switch(c){case"input":Mh(o,s);break;case"textarea":Dv(o,s);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var P=s.value;P!=null?Fr(o,!!s.multiple,P,!1):v!==!!s.multiple&&(s.defaultValue!=null?Fr(o,!!s.multiple,s.defaultValue,!0):Fr(o,!!s.multiple,s.multiple?[]:"",!1))}o[Ts]=s}catch(C){Ot(e,e.return,C)}}break;case 6:if(on(t,e),gn(e),i&4){if(e.stateNode===null)throw Error(N(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(C){Ot(e,e.return,C)}}break;case 3:if(on(t,e),gn(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{gs(t.containerInfo)}catch(C){Ot(e,e.return,C)}break;case 4:on(t,e),gn(e);break;case 13:on(t,e),gn(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Vd=Ft())),i&4&&eg(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(p=_e)||_,on(t,e),_e=p):on(t,e),gn(e),i&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!_&&e.mode&1)for($=e,_=e.child;_!==null;){for(g=$=_;$!==null;){switch(v=$,P=v.child,v.tag){case 0:case 11:case 14:case 15:rs(4,v,v.return);break;case 1:Or(v,v.return);var A=v.stateNode;if(typeof A.componentWillUnmount=="function"){i=v,n=v.return;try{t=i,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(C){Ot(i,n,C)}}break;case 5:Or(v,v.return);break;case 22:if(v.memoizedState!==null){ig(g);continue}}P!==null?(P.return=v,$=P):ig(g)}_=_.sibling}t:for(_=null,g=e;;){if(g.tag===5){if(_===null){_=g;try{o=g.stateNode,p?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=g.stateNode,f=g.memoizedProps.style,l=f!=null&&f.hasOwnProperty("display")?f.display:null,c.style.display=Vv("display",l))}catch(C){Ot(e,e.return,C)}}}else if(g.tag===6){if(_===null)try{g.stateNode.nodeValue=p?"":g.memoizedProps}catch(C){Ot(e,e.return,C)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break t;for(;g.sibling===null;){if(g.return===null||g.return===e)break t;_===g&&(_=null),g=g.return}_===g&&(_=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:on(t,e),gn(e),i&4&&eg(e);break;case 21:break;default:on(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(u0(n)){var i=n;break t}n=n.return}throw Error(N(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(ds(o,""),i.flags&=-33);var s=tg(e);pf(e,s,o);break;case 3:case 4:var l=i.stateNode.containerInfo,c=tg(e);df(e,c,l);break;default:throw Error(N(161))}}catch(f){Ot(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FS(e,t,n){$=e,f0(e)}function f0(e,t,n){for(var i=(e.mode&1)!==0;$!==null;){var o=$,s=o.child;if(o.tag===22&&i){var l=o.memoizedState!==null||Wa;if(!l){var c=o.alternate,f=c!==null&&c.memoizedState!==null||_e;c=Wa;var p=_e;if(Wa=l,(_e=f)&&!p)for($=o;$!==null;)l=$,f=l.child,l.tag===22&&l.memoizedState!==null?rg(o):f!==null?(f.return=l,$=f):rg(o);for(;s!==null;)$=s,f0(s),s=s.sibling;$=o,Wa=c,_e=p}ng(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,$=s):ng(e)}}function ng(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||gu(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!_e)if(n===null)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:sn(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&B_(t,s,i);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}B_(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var _=p.memoizedState;if(_!==null){var g=_.dehydrated;g!==null&&gs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}_e||t.flags&512&&ff(t)}catch(v){Ot(t,t.return,v)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function ig(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function rg(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gu(4,t)}catch(f){Ot(t,n,f)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(f){Ot(t,o,f)}}var s=t.return;try{ff(t)}catch(f){Ot(t,s,f)}break;case 5:var l=t.return;try{ff(t)}catch(f){Ot(t,l,f)}}}catch(f){Ot(t,t.return,f)}if(t===e){$=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$=c;break}$=t.return}}var BS=Math.ceil,Bl=Kn.ReactCurrentDispatcher,Nd=Kn.ReactCurrentOwner,Je=Kn.ReactCurrentBatchConfig,dt=0,Jt=null,jt=null,le=0,Ve=0,Vr=Ci(0),qt=0,xs=null,Xi=0,vu=0,Od=0,os=null,Re=null,Vd=0,to=1/0,Vn=null,bl=!1,mf=null,fi=null,Za=!1,oi=null,$l=0,ss=0,_f=null,fl=-1,dl=0;function Ie(){return dt&6?Ft():fl!==-1?fl:fl=Ft()}function di(e){return e.mode&1?dt&2&&le!==0?le&-le:TS.transition!==null?(dl===0&&(dl=Kv()),dl):(e=gt,e!==0||(e=window.event,e=e===void 0?16:ny(e.type)),e):1}function cn(e,t,n,i){if(50<ss)throw ss=0,_f=null,Error(N(185));Zs(e,n,i),(!(dt&2)||e!==Jt)&&(e===Jt&&(!(dt&2)&&(vu|=n),qt===4&&ii(e,le)),Oe(e,i),n===1&&dt===0&&!(t.mode&1)&&(to=Ft()+500,pu&&Ai()))}function Oe(e,t){var n=e.callbackNode;TP(e,t);var i=Sl(e,e===Jt?le:0);if(i===0)n!==null&&d_(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&d_(n),t===1)e.tag===0?ES(og.bind(null,e)):Ey(og.bind(null,e)),gS(function(){!(dt&6)&&Ai()}),n=null;else{switch(Qv(i)){case 1:n=ld;break;case 4:n=qv;break;case 16:n=Pl;break;case 536870912:n=Gv;break;default:n=Pl}n=w0(n,d0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function d0(e,t){if(fl=-1,dl=0,dt&6)throw Error(N(327));var n=e.callbackNode;if(jr()&&e.callbackNode!==n)return null;var i=Sl(e,e===Jt?le:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Ul(e,i);else{t=i;var o=dt;dt|=2;var s=m0();(Jt!==e||le!==t)&&(Vn=null,to=Ft()+500,Zi(e,t));do try{US();break}catch(c){p0(e,c)}while(1);Ed(),Bl.current=s,dt=o,jt!==null?t=0:(Jt=null,le=0,t=qt)}if(t!==0){if(t===2&&(o=Uh(e),o!==0&&(i=o,t=gf(e,o))),t===1)throw n=xs,Zi(e,0),ii(e,i),Oe(e,Ft()),n;if(t===6)ii(e,i);else{if(o=e.current.alternate,!(i&30)&&!bS(o)&&(t=Ul(e,i),t===2&&(s=Uh(e),s!==0&&(i=s,t=gf(e,s))),t===1))throw n=xs,Zi(e,0),ii(e,i),Oe(e,Ft()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(N(345));case 2:Fi(e,Re,Vn);break;case 3:if(ii(e,i),(i&130023424)===i&&(t=Vd+500-Ft(),10<t)){if(Sl(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){Ie(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Qh(Fi.bind(null,e,Re,Vn),t);break}Fi(e,Re,Vn);break;case 4:if(ii(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var l=31-un(i);s=1<<l,l=t[l],l>o&&(o=l),i&=~s}if(i=o,i=Ft()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*BS(i/1960))-i,10<i){e.timeoutHandle=Qh(Fi.bind(null,e,Re,Vn),i);break}Fi(e,Re,Vn);break;case 5:Fi(e,Re,Vn);break;default:throw Error(N(329))}}}return Oe(e,Ft()),e.callbackNode===n?d0.bind(null,e):null}function gf(e,t){var n=os;return e.current.memoizedState.isDehydrated&&(Zi(e,t).flags|=256),e=Ul(e,t),e!==2&&(t=Re,Re=n,t!==null&&vf(t)),e}function vf(e){Re===null?Re=e:Re.push.apply(Re,e)}function bS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],s=o.getSnapshot;o=o.value;try{if(!hn(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ii(e,t){for(t&=~Od,t&=~vu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-un(t),i=1<<n;e[n]=-1,t&=~i}}function og(e){if(dt&6)throw Error(N(327));jr();var t=Sl(e,0);if(!(t&1))return Oe(e,Ft()),null;var n=Ul(e,t);if(e.tag!==0&&n===2){var i=Uh(e);i!==0&&(t=i,n=gf(e,i))}if(n===1)throw n=xs,Zi(e,0),ii(e,t),Oe(e,Ft()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fi(e,Re,Vn),Oe(e,Ft()),null}function zd(e,t){var n=dt;dt|=1;try{return e(t)}finally{dt=n,dt===0&&(to=Ft()+500,pu&&Ai())}}function Ji(e){oi!==null&&oi.tag===0&&!(dt&6)&&jr();var t=dt;dt|=1;var n=Je.transition,i=gt;try{if(Je.transition=null,gt=1,e)return e()}finally{gt=i,Je.transition=n,dt=t,!(dt&6)&&Ai()}}function Fd(){Ve=Vr.current,Ct(Vr)}function Zi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_S(n)),jt!==null)for(n=jt.return;n!==null;){var i=n;switch(vd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&kl();break;case 3:Xr(),Ct(De),Ct(we),Ad();break;case 5:Cd(i);break;case 4:Xr();break;case 13:Ct(Lt);break;case 19:Ct(Lt);break;case 10:Td(i.type._context);break;case 22:case 23:Fd()}n=n.return}if(Jt=e,jt=e=pi(e.current,null),le=Ve=t,qt=0,xs=null,Od=vu=Xi=0,Re=os=null,$i!==null){for(t=0;t<$i.length;t++)if(n=$i[t],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,s=n.pending;if(s!==null){var l=s.next;s.next=o,i.next=l}n.pending=i}$i=null}return e}function p0(e,t){do{var n=jt;try{if(Ed(),ul.current=Fl,zl){for(var i=Mt.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}zl=!1}if(Yi=0,Xt=Wt=Mt=null,is=!1,Is=0,Nd.current=null,n===null||n.return===null){qt=1,xs=t,jt=null;break}t:{var s=e,l=n.return,c=n,f=t;if(t=le,c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var p=f,_=c,g=_.tag;if(!(_.mode&1)&&(g===0||g===11||g===15)){var v=_.alternate;v?(_.updateQueue=v.updateQueue,_.memoizedState=v.memoizedState,_.lanes=v.lanes):(_.updateQueue=null,_.memoizedState=null)}var P=Z_(l);if(P!==null){P.flags&=-257,q_(P,l,c,s,t),P.mode&1&&W_(s,p,t),t=P,f=p;var A=t.updateQueue;if(A===null){var C=new Set;C.add(f),t.updateQueue=C}else A.add(f);break t}else{if(!(t&1)){W_(s,p,t),Bd();break t}f=Error(N(426))}}else if(xt&&c.mode&1){var V=Z_(l);if(V!==null){!(V.flags&65536)&&(V.flags|=256),q_(V,l,c,s,t),yd(Jr(f,c));break t}}s=f=Jr(f,c),qt!==4&&(qt=2),os===null?os=[s]:os.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var E=Yy(s,f,t);F_(s,E);break t;case 1:c=f;var w=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(fi===null||!fi.has(T)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=Xy(s,c,t);F_(s,x);break t}}s=s.return}while(s!==null)}g0(n)}catch(z){t=z,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(1)}function m0(){var e=Bl.current;return Bl.current=Fl,e===null?Fl:e}function Bd(){(qt===0||qt===3||qt===2)&&(qt=4),Jt===null||!(Xi&268435455)&&!(vu&268435455)||ii(Jt,le)}function Ul(e,t){var n=dt;dt|=2;var i=m0();(Jt!==e||le!==t)&&(Vn=null,Zi(e,t));do try{$S();break}catch(o){p0(e,o)}while(1);if(Ed(),dt=n,Bl.current=i,jt!==null)throw Error(N(261));return Jt=null,le=0,qt}function $S(){for(;jt!==null;)_0(jt)}function US(){for(;jt!==null&&!dP();)_0(jt)}function _0(e){var t=y0(e.alternate,e,Ve);e.memoizedProps=e.pendingProps,t===null?g0(e):jt=t,Nd.current=null}function g0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=OS(n,t),n!==null){n.flags&=32767,jt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qt=6,jt=null;return}}else if(n=NS(n,t,Ve),n!==null){jt=n;return}if(t=t.sibling,t!==null){jt=t;return}jt=t=e}while(t!==null);qt===0&&(qt=5)}function Fi(e,t,n){var i=gt,o=Je.transition;try{Je.transition=null,gt=1,jS(e,t,n,i)}finally{Je.transition=o,gt=i}return null}function jS(e,t,n,i){do jr();while(oi!==null);if(dt&6)throw Error(N(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(PP(e,s),e===Jt&&(jt=Jt=null,le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Za||(Za=!0,w0(Pl,function(){return jr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Je.transition,Je.transition=null;var l=gt;gt=1;var c=dt;dt|=4,Nd.current=null,zS(e,n),h0(n,e),uS(Gh),Il=!!qh,Gh=qh=null,e.current=n,FS(n),pP(),dt=c,gt=l,Je.transition=s}else e.current=n;if(Za&&(Za=!1,oi=e,$l=o),s=e.pendingLanes,s===0&&(fi=null),gP(n.stateNode),Oe(e,Ft()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(bl)throw bl=!1,e=mf,mf=null,e;return $l&1&&e.tag!==0&&jr(),s=e.pendingLanes,s&1?e===_f?ss++:(ss=0,_f=e):ss=0,Ai(),null}function jr(){if(oi!==null){var e=Qv($l),t=Je.transition,n=gt;try{if(Je.transition=null,gt=16>e?16:e,oi===null)var i=!1;else{if(e=oi,oi=null,$l=0,dt&6)throw Error(N(331));var o=dt;for(dt|=4,$=e.current;$!==null;){var s=$,l=s.child;if($.flags&16){var c=s.deletions;if(c!==null){for(var f=0;f<c.length;f++){var p=c[f];for($=p;$!==null;){var _=$;switch(_.tag){case 0:case 11:case 15:rs(8,_,s)}var g=_.child;if(g!==null)g.return=_,$=g;else for(;$!==null;){_=$;var v=_.sibling,P=_.return;if(l0(_),_===p){$=null;break}if(v!==null){v.return=P,$=v;break}$=P}}}var A=s.alternate;if(A!==null){var C=A.child;if(C!==null){A.child=null;do{var V=C.sibling;C.sibling=null,C=V}while(C!==null)}}$=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,$=l;else t:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rs(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,$=E;break t}$=s.return}}var w=e.current;for($=w;$!==null;){l=$;var T=l.child;if(l.subtreeFlags&2064&&T!==null)T.return=l,$=T;else t:for(l=w;$!==null;){if(c=$,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:gu(9,c)}}catch(z){Ot(c,c.return,z)}if(c===l){$=null;break t}var x=c.sibling;if(x!==null){x.return=c.return,$=x;break t}$=c.return}}if(dt=o,Ai(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(uu,e)}catch{}i=!0}return i}finally{gt=n,Je.transition=t}}return!1}function sg(e,t,n){t=Jr(n,t),t=Yy(e,t,1),e=hi(e,t,1),t=Ie(),e!==null&&(Zs(e,1,t),Oe(e,t))}function Ot(e,t,n){if(e.tag===3)sg(e,e,n);else for(;t!==null;){if(t.tag===3){sg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(fi===null||!fi.has(i))){e=Jr(n,e),e=Xy(t,e,1),t=hi(t,e,1),e=Ie(),t!==null&&(Zs(t,1,e),Oe(t,e));break}}t=t.return}}function HS(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,Jt===e&&(le&n)===n&&(qt===4||qt===3&&(le&130023424)===le&&500>Ft()-Vd?Zi(e,0):Od|=n),Oe(e,t)}function v0(e,t){t===0&&(e.mode&1?(t=Va,Va<<=1,!(Va&130023424)&&(Va=4194304)):t=1);var n=Ie();e=Hn(e,t),e!==null&&(Zs(e,t,n),Oe(e,n))}function WS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),v0(e,n)}function ZS(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(N(314))}i!==null&&i.delete(t),v0(e,n)}var y0;y0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)Me=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Me=!1,DS(e,t,n);Me=!!(e.flags&131072)}else Me=!1,xt&&t.flags&1048576&&Ty(t,Ml,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;hl(e,t),e=t.pendingProps;var o=Kr(t,we.current);Ur(t,n),o=kd(null,t,i,e,o,n);var s=Rd();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ne(i)?(s=!0,Rl(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Sd(t),o.updater=mu,t.stateNode=o,o._reactInternals=t,rf(t,i,e,n),t=af(null,t,i,!0,s,n)):(t.tag=0,xt&&s&&gd(t),Pe(null,t,o,n),t=t.child),t;case 16:i=t.elementType;t:{switch(hl(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=GS(i),e=sn(i,e),o){case 0:t=sf(null,t,i,e,n);break t;case 1:t=Q_(null,t,i,e,n);break t;case 11:t=G_(null,t,i,e,n);break t;case 14:t=K_(null,t,i,sn(i.type,e),n);break t}throw Error(N(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:sn(i,o),sf(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:sn(i,o),Q_(e,t,i,o,n);case 3:t:{if(n0(t),e===null)throw Error(N(387));i=t.pendingProps,s=t.memoizedState,o=s.element,Cy(e,t),Ol(t,i,null,n);var l=t.memoizedState;if(i=l.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Jr(Error(N(423)),t),t=Y_(e,t,i,n,o);break t}else if(i!==o){o=Jr(Error(N(424)),t),t=Y_(e,t,i,n,o);break t}else for(ze=ci(t.stateNode.containerInfo.firstChild),Be=t,xt=!0,ln=null,n=Ry(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qr(),i===o){t=Wn(e,t,n);break t}Pe(e,t,i,n)}t=t.child}return t;case 5:return Ly(t),e===null&&tf(t),i=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,l=o.children,Kh(i,o)?l=null:s!==null&&Kh(i,s)&&(t.flags|=32),e0(e,t),Pe(e,t,l,n),t.child;case 6:return e===null&&tf(t),null;case 13:return i0(e,t,n);case 4:return Id(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Yr(t,null,i,n):Pe(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:sn(i,o),G_(e,t,i,o,n);case 7:return Pe(e,t,t.pendingProps,n),t.child;case 8:return Pe(e,t,t.pendingProps.children,n),t.child;case 12:return Pe(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,o=t.pendingProps,s=t.memoizedProps,l=o.value,Pt(Dl,i._currentValue),i._currentValue=l,s!==null)if(hn(s.value,l)){if(s.children===o.children&&!De.current){t=Wn(e,t,n);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){l=s.child;for(var f=c.firstContext;f!==null;){if(f.context===i){if(s.tag===1){f=$n(-1,n&-n),f.tag=2;var p=s.updateQueue;if(p!==null){p=p.shared;var _=p.pending;_===null?f.next=f:(f.next=_.next,_.next=f),p.pending=f}}s.lanes|=n,f=s.alternate,f!==null&&(f.lanes|=n),ef(s.return,n,t),c.lanes|=n;break}f=f.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(N(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),ef(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Pe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Ur(t,n),o=tn(o),i=i(o),t.flags|=1,Pe(e,t,i,n),t.child;case 14:return i=t.type,o=sn(i,t.pendingProps),o=sn(i.type,o),K_(e,t,i,o,n);case 15:return Jy(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:sn(i,o),hl(e,t),t.tag=1,Ne(i)?(e=!0,Rl(t)):e=!1,Ur(t,n),xy(t,i,o),rf(t,i,o,n),af(null,t,i,!0,e,n);case 19:return r0(e,t,n);case 22:return t0(e,t,n)}throw Error(N(156,t.tag))};function w0(e,t){return Zv(e,t)}function qS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,n,i){return new qS(e,t,n,i)}function bd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GS(e){if(typeof e=="function")return bd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===od)return 11;if(e===sd)return 14}return 2}function pi(e,t){var n=e.alternate;return n===null?(n=Xe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pl(e,t,n,i,o,s){var l=2;if(i=e,typeof e=="function")bd(e)&&(l=1);else if(typeof e=="string")l=5;else t:switch(e){case Cr:return qi(n.children,o,s,t);case rd:l=8,o|=8;break;case Ah:return e=Xe(12,n,t,o|2),e.elementType=Ah,e.lanes=s,e;case xh:return e=Xe(13,n,t,o),e.elementType=xh,e.lanes=s,e;case kh:return e=Xe(19,n,t,o),e.elementType=kh,e.lanes=s,e;case kv:return yu(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Av:l=10;break t;case xv:l=9;break t;case od:l=11;break t;case sd:l=14;break t;case ti:l=16,i=null;break t}throw Error(N(130,e==null?e:typeof e,""))}return t=Xe(l,n,t,o),t.elementType=e,t.type=i,t.lanes=s,t}function qi(e,t,n,i){return e=Xe(7,e,i,t),e.lanes=n,e}function yu(e,t,n,i){return e=Xe(22,e,i,t),e.elementType=kv,e.lanes=n,e.stateNode={isHidden:!1},e}function ah(e,t,n){return e=Xe(6,e,null,t),e.lanes=n,e}function lh(e,t,n){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function KS(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uc(0),this.expirationTimes=Uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uc(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $d(e,t,n,i,o,s,l,c,f){return e=new KS(e,t,n,c,f),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Xe(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(s),e}function QS(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ir,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function E0(e){if(!e)return wi;e=e._reactInternals;t:{if(sr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(Ne(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Ne(n))return wy(e,n,t)}return t}function T0(e,t,n,i,o,s,l,c,f){return e=$d(n,i,!0,e,o,s,l,c,f),e.context=E0(null),n=e.current,i=Ie(),o=di(n),s=$n(i,o),s.callback=t??null,hi(n,s,o),e.current.lanes=o,Zs(e,o,i),Oe(e,i),e}function wu(e,t,n,i){var o=t.current,s=Ie(),l=di(o);return n=E0(n),t.context===null?t.context=n:t.pendingContext=n,t=$n(s,l),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=hi(o,t,l),e!==null&&(cn(e,o,l,s),ll(e,o,l)),l}function jl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ag(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ud(e,t){ag(e,t),(e=e.alternate)&&ag(e,t)}function YS(){return null}var P0=typeof reportError=="function"?reportError:function(e){console.error(e)};function jd(e){this._internalRoot=e}Eu.prototype.render=jd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));wu(e,t,null,null)};Eu.prototype.unmount=jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ji(function(){wu(null,e,null,null)}),t[jn]=null}};function Eu(e){this._internalRoot=e}Eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jv();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ni.length&&t!==0&&t<ni[n].priority;n++);ni.splice(n,0,e),n===0&&ey(e)}};function Hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lg(){}function XS(e,t,n,i,o){if(o){if(typeof i=="function"){var s=i;i=function(){var p=jl(l);s.call(p)}}var l=T0(t,i,e,0,null,!1,!1,"",lg);return e._reactRootContainer=l,e[jn]=l.current,ws(e.nodeType===8?e.parentNode:e),Ji(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var c=i;i=function(){var p=jl(f);c.call(p)}}var f=$d(e,0,!1,null,null,!1,!1,"",lg);return e._reactRootContainer=f,e[jn]=f.current,ws(e.nodeType===8?e.parentNode:e),Ji(function(){wu(t,f,n,i)}),f}function Pu(e,t,n,i,o){var s=n._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var c=o;o=function(){var f=jl(l);c.call(f)}}wu(t,l,e,o)}else l=XS(n,t,e,o,i);return jl(l)}Yv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zo(t.pendingLanes);n!==0&&(ud(t,n|1),Oe(t,Ft()),!(dt&6)&&(to=Ft()+500,Ai()))}break;case 13:Ji(function(){var i=Hn(e,1);if(i!==null){var o=Ie();cn(i,e,1,o)}}),Ud(e,1)}};cd=function(e){if(e.tag===13){var t=Hn(e,134217728);if(t!==null){var n=Ie();cn(t,e,134217728,n)}Ud(e,134217728)}};Xv=function(e){if(e.tag===13){var t=di(e),n=Hn(e,t);if(n!==null){var i=Ie();cn(n,e,t,i)}Ud(e,t)}};Jv=function(){return gt};ty=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}};Bh=function(e,t,n){switch(t){case"input":if(Mh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=du(i);if(!o)throw Error(N(90));Lv(i),Mh(i,o)}}}break;case"textarea":Dv(e,n);break;case"select":t=n.value,t!=null&&Fr(e,!!n.multiple,t,!1)}};bv=zd;$v=Ji;var JS={usingClientEntryPoint:!1,Events:[Gs,Rr,du,Fv,Bv,zd]},bo={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},tI={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hv(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||YS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qa.isDisabled&&qa.supportsFiber)try{uu=qa.inject(tI),Sn=qa}catch{}}je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JS;je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hd(t))throw Error(N(200));return QS(e,t,null,n)};je.createRoot=function(e,t){if(!Hd(e))throw Error(N(299));var n=!1,i="",o=P0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=$d(e,1,!1,null,null,n,!1,i,o),e[jn]=t.current,ws(e.nodeType===8?e.parentNode:e),new jd(t)};je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Hv(t),e=e===null?null:e.stateNode,e};je.flushSync=function(e){return Ji(e)};je.hydrate=function(e,t,n){if(!Tu(t))throw Error(N(200));return Pu(null,e,t,!0,n)};je.hydrateRoot=function(e,t,n){if(!Hd(e))throw Error(N(405));var i=n!=null&&n.hydratedSources||null,o=!1,s="",l=P0;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=T0(t,null,e,1,n??null,o,!1,s,l),e[jn]=t.current,ws(e),i)for(e=0;e<i.length;e++)n=i[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Eu(t)};je.render=function(e,t,n){if(!Tu(t))throw Error(N(200));return Pu(null,e,t,!1,n)};je.unmountComponentAtNode=function(e){if(!Tu(e))throw Error(N(40));return e._reactRootContainer?(Ji(function(){Pu(null,null,e,!1,function(){e._reactRootContainer=null,e[jn]=null})}),!0):!1};je.unstable_batchedUpdates=zd;je.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Tu(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Pu(e,t,n,!1,i)};je.version="18.2.0-next-9e3b772b8-20220608";function S0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S0)}catch(e){console.error(e)}}S0(),Tv.exports=je;var I0=Tv.exports,ug=I0;Ih.createRoot=ug.createRoot,Ih.hydrateRoot=ug.hydrateRoot;function eI(){const e=["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"];let t=[];for(let n=0;n<36;n++)n===8||n===13||n===18||n===23?t[n]="-":t[n]=e[Math.ceil(Math.random()*e.length-1)];return t.join("")}var nI=eI;const iI=hv(nI);function C0(e,t){const n=st.useRef(t);st.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const rI=1;function oI(e){return Object.freeze({__version:rI,map:e})}function sI(e,t){return Object.freeze({...e,...t})}const A0=st.createContext(null),x0=A0.Provider;function Wd(){const e=st.useContext(A0);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function aI(e){function t(n,i){const{instance:o,context:s}=e(n).current;return st.useImperativeHandle(i,()=>o),n.children==null?null:yl.createElement(x0,{value:s},n.children)}return st.forwardRef(t)}function lI(e){function t(n,i){const[o,s]=st.useState(!1),{instance:l}=e(n,s).current;st.useImperativeHandle(i,()=>l),st.useEffect(function(){o&&l.update()},[l,o,n.children]);const c=l._contentNode;return c?I0.createPortal(n.children,c):null}return st.forwardRef(t)}function uI(e){function t(n,i){const{instance:o}=e(n).current;return st.useImperativeHandle(i,()=>o),null}return st.forwardRef(t)}function k0(e,t){const n=st.useRef();st.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Zd(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function cI(e,t){return function(i,o){const s=Wd(),l=e(Zd(i,s),s);return C0(s.map,i.attribution),k0(l.current,i.eventHandlers),t(l.current,s,i,o),l}}var yf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,i){i(t)})(RT,function(n){var i="1.9.4";function o(r){var a,u,h,d;for(u=1,h=arguments.length;u<h;u++){d=arguments[u];for(a in d)r[a]=d[a]}return r}var s=Object.create||function(){function r(){}return function(a){return r.prototype=a,new r}}();function l(r,a){var u=Array.prototype.slice;if(r.bind)return r.bind.apply(r,u.call(arguments,1));var h=u.call(arguments,2);return function(){return r.apply(a,h.length?h.concat(u.call(arguments)):arguments)}}var c=0;function f(r){return"_leaflet_id"in r||(r._leaflet_id=++c),r._leaflet_id}function p(r,a,u){var h,d,m,y;return y=function(){h=!1,d&&(m.apply(u,d),d=!1)},m=function(){h?d=arguments:(r.apply(u,arguments),setTimeout(y,a),h=!0)},m}function _(r,a,u){var h=a[1],d=a[0],m=h-d;return r===h&&u?r:((r-d)%m+m)%m+d}function g(){return!1}function v(r,a){if(a===!1)return r;var u=Math.pow(10,a===void 0?6:a);return Math.round(r*u)/u}function P(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function A(r){return P(r).split(/\s+/)}function C(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?s(r.options):{});for(var u in a)r.options[u]=a[u];return r.options}function V(r,a,u){var h=[];for(var d in r)h.push(encodeURIComponent(u?d.toUpperCase():d)+"="+encodeURIComponent(r[d]));return(!a||a.indexOf("?")===-1?"?":"&")+h.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function w(r,a){return r.replace(E,function(u,h){var d=a[h];if(d===void 0)throw new Error("No value provided for variable "+u);return typeof d=="function"&&(d=d(a)),d})}var T=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function x(r,a){for(var u=0;u<r.length;u++)if(r[u]===a)return u;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var U=0;function H(r){var a=+new Date,u=Math.max(0,16-(a-U));return U=a+u,window.setTimeout(r,u)}var wt=window.requestAnimationFrame||b("RequestAnimationFrame")||H,it=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function Et(r,a,u){if(u&&wt===H)r.call(a);else return wt.call(window,l(r,a))}function Kt(r){r&&it.call(window,r)}var Li={__proto__:null,extend:o,create:s,bind:l,get lastId(){return c},stamp:f,throttle:p,wrapNum:_,falseFn:g,formatNum:v,trim:P,splitWords:A,setOptions:C,getParamString:V,template:w,isArray:T,indexOf:x,emptyImageUrl:z,requestFn:wt,cancelFn:it,requestAnimFrame:Et,cancelAnimFrame:Kt};function We(){}We.extend=function(r){var a=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,h=s(u);h.constructor=a,a.prototype=h;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(a[d]=this[d]);return r.statics&&o(a,r.statics),r.includes&&(nc(r.includes),o.apply(null,[h].concat(r.includes))),o(h,r),delete h.statics,delete h.includes,h.options&&(h.options=u.options?s(u.options):{},o(h.options,r.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,y=h._initHooks.length;m<y;m++)h._initHooks[m].call(this)}},a},We.include=function(r){var a=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},We.mergeOptions=function(r){return o(this.prototype.options,r),this},We.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),u=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function nc(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=T(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ne={on:function(r,a,u){if(typeof r=="object")for(var h in r)this._on(h,r[h],a);else{r=A(r);for(var d=0,m=r.length;d<m;d++)this._on(r[d],a,u)}return this},off:function(r,a,u){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var h in r)this._off(h,r[h],a);else{r=A(r);for(var d=arguments.length===1,m=0,y=r.length;m<y;m++)d?this._off(r[m]):this._off(r[m],a,u)}return this},_on:function(r,a,u,h){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,u)===!1){u===this&&(u=void 0);var d={fn:a,ctx:u};h&&(d.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(d)}},_off:function(r,a,u){var h,d,m;if(this._events&&(h=this._events[r],!!h)){if(arguments.length===1){if(this._firingCount)for(d=0,m=h.length;d<m;d++)h[d].fn=g;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var y=this._listens(r,a,u);if(y!==!1){var S=h[y];this._firingCount&&(S.fn=g,this._events[r]=h=h.slice()),h.splice(y,1)}}},fire:function(r,a,u){if(!this.listens(r,u))return this;var h=o({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var d=this._events[r];if(d){this._firingCount=this._firingCount+1||1;for(var m=0,y=d.length;m<y;m++){var S=d[m],I=S.fn;S.once&&this.off(r,I,S.ctx),I.call(S.ctx||this,h)}this._firingCount--}}return u&&this._propagateEvent(h),this},listens:function(r,a,u,h){typeof r!="string"&&console.warn('"string" type argument expected');var d=a;typeof a!="function"&&(h=!!a,d=void 0,u=void 0);var m=this._events&&this._events[r];if(m&&m.length&&this._listens(r,d,u)!==!1)return!0;if(h){for(var y in this._eventParents)if(this._eventParents[y].listens(r,a,u,h))return!0}return!1},_listens:function(r,a,u){if(!this._events)return!1;var h=this._events[r]||[];if(!a)return!!h.length;u===this&&(u=void 0);for(var d=0,m=h.length;d<m;d++)if(h[d].fn===a&&h[d].ctx===u)return d;return!1},once:function(r,a,u){if(typeof r=="object")for(var h in r)this._on(h,r[h],a,!0);else{r=A(r);for(var d=0,m=r.length;d<m;d++)this._on(r[d],a,u,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[f(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[f(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};ne.addEventListener=ne.on,ne.removeEventListener=ne.clearAllEventListeners=ne.off,ne.addOneTimeEventListener=ne.once,ne.fireEvent=ne.fire,ne.hasEventListeners=ne.listens;var Ln=We.extend(ne);function k(r,a,u){this.x=u?Math.round(r):r,this.y=u?Math.round(a):a}var X=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};k.prototype={clone:function(){return new k(this.x,this.y)},add:function(r){return this.clone()._add(O(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(O(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new k(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new k(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=X(this.x),this.y=X(this.y),this},distanceTo:function(r){r=O(r);var a=r.x-this.x,u=r.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(r){return r=O(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=O(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function O(r,a,u){return r instanceof k?r:T(r)?new k(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new k(r.x,r.y):new k(r,a,u)}function Q(r,a){if(r)for(var u=a?[r,a]:r,h=0,d=u.length;h<d;h++)this.extend(u[h])}Q.prototype={extend:function(r){var a,u;if(!r)return this;if(r instanceof k||typeof r[0]=="number"||"x"in r)a=u=O(r);else if(r=ht(r),a=r.min,u=r.max,!a||!u)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=u.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(r){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,u;return typeof r[0]=="number"||r instanceof k?r=O(r):r=ht(r),r instanceof Q?(a=r.min,u=r.max):a=u=r,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(r){r=ht(r);var a=this.min,u=this.max,h=r.min,d=r.max,m=d.x>=a.x&&h.x<=u.x,y=d.y>=a.y&&h.y<=u.y;return m&&y},overlaps:function(r){r=ht(r);var a=this.min,u=this.max,h=r.min,d=r.max,m=d.x>a.x&&h.x<u.x,y=d.y>a.y&&h.y<u.y;return m&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,u=this.max,h=Math.abs(a.x-u.x)*r,d=Math.abs(a.y-u.y)*r;return ht(O(a.x-h,a.y-d),O(u.x+h,u.y+d))},equals:function(r){return r?(r=ht(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ht(r,a){return!r||r instanceof Q?r:new Q(r,a)}function Ht(r,a){if(r)for(var u=a?[r,a]:r,h=0,d=u.length;h<d;h++)this.extend(u[h])}Ht.prototype={extend:function(r){var a=this._southWest,u=this._northEast,h,d;if(r instanceof pt)h=r,d=r;else if(r instanceof Ht){if(h=r._southWest,d=r._northEast,!h||!d)return this}else return r?this.extend(tt(r)||yt(r)):this;return!a&&!u?(this._southWest=new pt(h.lat,h.lng),this._northEast=new pt(d.lat,d.lng)):(a.lat=Math.min(h.lat,a.lat),a.lng=Math.min(h.lng,a.lng),u.lat=Math.max(d.lat,u.lat),u.lng=Math.max(d.lng,u.lng)),this},pad:function(r){var a=this._southWest,u=this._northEast,h=Math.abs(a.lat-u.lat)*r,d=Math.abs(a.lng-u.lng)*r;return new Ht(new pt(a.lat-h,a.lng-d),new pt(u.lat+h,u.lng+d))},getCenter:function(){return new pt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pt(this.getNorth(),this.getWest())},getSouthEast:function(){return new pt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof pt||"lat"in r?r=tt(r):r=yt(r);var a=this._southWest,u=this._northEast,h,d;return r instanceof Ht?(h=r.getSouthWest(),d=r.getNorthEast()):h=d=r,h.lat>=a.lat&&d.lat<=u.lat&&h.lng>=a.lng&&d.lng<=u.lng},intersects:function(r){r=yt(r);var a=this._southWest,u=this._northEast,h=r.getSouthWest(),d=r.getNorthEast(),m=d.lat>=a.lat&&h.lat<=u.lat,y=d.lng>=a.lng&&h.lng<=u.lng;return m&&y},overlaps:function(r){r=yt(r);var a=this._southWest,u=this._northEast,h=r.getSouthWest(),d=r.getNorthEast(),m=d.lat>a.lat&&h.lat<u.lat,y=d.lng>a.lng&&h.lng<u.lng;return m&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=yt(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function yt(r,a){return r instanceof Ht?r:new Ht(r,a)}function pt(r,a,u){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,u!==void 0&&(this.alt=+u)}pt.prototype={equals:function(r,a){if(!r)return!1;r=tt(r);var u=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return u<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+v(this.lat,r)+", "+v(this.lng,r)+")"},distanceTo:function(r){return Qn.distance(this,tt(r))},wrap:function(){return Qn.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,u=a/Math.cos(Math.PI/180*this.lat);return yt([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new pt(this.lat,this.lng,this.alt)}};function tt(r,a,u){return r instanceof pt?r:T(r)&&typeof r[0]!="object"?r.length===3?new pt(r[0],r[1],r[2]):r.length===2?new pt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new pt(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new pt(r,a,u)}var xe={latLngToPoint:function(r,a){var u=this.projection.project(r),h=this.scale(a);return this.transformation._transform(u,h)},pointToLatLng:function(r,a){var u=this.scale(a),h=this.transformation.untransform(r,u);return this.projection.unproject(h)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(r),h=this.transformation.transform(a.min,u),d=this.transformation.transform(a.max,u);return new Q(h,d)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?_(r.lng,this.wrapLng,!0):r.lng,u=this.wrapLat?_(r.lat,this.wrapLat,!0):r.lat,h=r.alt;return new pt(u,a,h)},wrapLatLngBounds:function(r){var a=r.getCenter(),u=this.wrapLatLng(a),h=a.lat-u.lat,d=a.lng-u.lng;if(h===0&&d===0)return r;var m=r.getSouthWest(),y=r.getNorthEast(),S=new pt(m.lat-h,m.lng-d),I=new pt(y.lat-h,y.lng-d);return new Ht(S,I)}},Qn=o({},xe,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var u=Math.PI/180,h=r.lat*u,d=a.lat*u,m=Math.sin((a.lat-r.lat)*u/2),y=Math.sin((a.lng-r.lng)*u/2),S=m*m+Math.cos(h)*Math.cos(d)*y*y,I=2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S));return this.R*I}}),Wp=6378137,ic={R:Wp,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,u=this.MAX_LATITUDE,h=Math.max(Math.min(u,r.lat),-u),d=Math.sin(h*a);return new k(this.R*r.lng*a,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(r){var a=180/Math.PI;return new pt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:function(){var r=Wp*Math.PI;return new Q([-r,-r],[r,r])}()};function rc(r,a,u,h){if(T(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=u,this._d=h}rc.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new k((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function yo(r,a,u,h){return new rc(r,a,u,h)}var oc=o({},Qn,{code:"EPSG:3857",projection:ic,transformation:function(){var r=.5/(Math.PI*ic.R);return yo(r,.5,-r,.5)}()}),rE=o({},oc,{code:"EPSG:900913"});function Zp(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function qp(r,a){var u="",h,d,m,y,S,I;for(h=0,m=r.length;h<m;h++){for(S=r[h],d=0,y=S.length;d<y;d++)I=S[d],u+=(d?"L":"M")+I.x+" "+I.y;u+=a?W.svg?"z":"x":""}return u||"M0 0"}var sc=document.documentElement.style,fa="ActiveXObject"in window,oE=fa&&!document.addEventListener,Gp="msLaunchUri"in navigator&&!("documentMode"in document),ac=dn("webkit"),Kp=dn("android"),Qp=dn("android 2")||dn("android 3"),sE=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),aE=Kp&&dn("Google")&&sE<537&&!("AudioNode"in window),lc=!!window.opera,Yp=!Gp&&dn("chrome"),Xp=dn("gecko")&&!ac&&!lc&&!fa,lE=!Yp&&dn("safari"),Jp=dn("phantom"),tm="OTransition"in sc,uE=navigator.platform.indexOf("Win")===0,em=fa&&"transition"in sc,uc="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qp,nm="MozPerspective"in sc,cE=!window.L_DISABLE_3D&&(em||uc||nm)&&!tm&&!Jp,wo=typeof orientation<"u"||dn("mobile"),hE=wo&&ac,fE=wo&&uc,im=!window.PointerEvent&&window.MSPointerEvent,rm=!!(window.PointerEvent||im),om="ontouchstart"in window||!!window.TouchEvent,dE=!window.L_NO_TOUCH&&(om||rm),pE=wo&&lc,mE=wo&&Xp,_E=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gE=function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",g,a),window.removeEventListener("testPassiveEventSupport",g,a)}catch{}return r}(),vE=function(){return!!document.createElement("canvas").getContext}(),cc=!!(document.createElementNS&&Zp("svg").createSVGRect),yE=!!cc&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),wE=!cc&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),EE=navigator.platform.indexOf("Mac")===0,TE=navigator.platform.indexOf("Linux")===0;function dn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var W={ie:fa,ielt9:oE,edge:Gp,webkit:ac,android:Kp,android23:Qp,androidStock:aE,opera:lc,chrome:Yp,gecko:Xp,safari:lE,phantom:Jp,opera12:tm,win:uE,ie3d:em,webkit3d:uc,gecko3d:nm,any3d:cE,mobile:wo,mobileWebkit:hE,mobileWebkit3d:fE,msPointer:im,pointer:rm,touch:dE,touchNative:om,mobileOpera:pE,mobileGecko:mE,retina:_E,passiveEvents:gE,canvas:vE,svg:cc,vml:wE,inlineSvg:yE,mac:EE,linux:TE},sm=W.msPointer?"MSPointerDown":"pointerdown",am=W.msPointer?"MSPointerMove":"pointermove",lm=W.msPointer?"MSPointerUp":"pointerup",um=W.msPointer?"MSPointerCancel":"pointercancel",hc={touchstart:sm,touchmove:am,touchend:lm,touchcancel:um},cm={touchstart:xE,touchmove:da,touchend:da,touchcancel:da},cr={},hm=!1;function PE(r,a,u){return a==="touchstart"&&AE(),cm[a]?(u=cm[a].bind(this,u),r.addEventListener(hc[a],u,!1),u):(console.warn("wrong event specified:",a),g)}function SE(r,a,u){if(!hc[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(hc[a],u,!1)}function IE(r){cr[r.pointerId]=r}function CE(r){cr[r.pointerId]&&(cr[r.pointerId]=r)}function fm(r){delete cr[r.pointerId]}function AE(){hm||(document.addEventListener(sm,IE,!0),document.addEventListener(am,CE,!0),document.addEventListener(lm,fm,!0),document.addEventListener(um,fm,!0),hm=!0)}function da(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var u in cr)a.touches.push(cr[u]);a.changedTouches=[a],r(a)}}function xE(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&ie(a),da(r,a)}function kE(r){var a={},u,h;for(h in r)u=r[h],a[h]=u&&u.bind?u.bind(r):u;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var RE=200;function LE(r,a){r.addEventListener("dblclick",a);var u=0,h;function d(m){if(m.detail!==1){h=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var y=gm(m);if(!(y.some(function(I){return I instanceof HTMLLabelElement&&I.attributes.for})&&!y.some(function(I){return I instanceof HTMLInputElement||I instanceof HTMLSelectElement}))){var S=Date.now();S-u<=RE?(h++,h===2&&a(kE(m))):h=1,u=S}}}return r.addEventListener("click",d),{dblclick:a,simDblclick:d}}function ME(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var fc=_a(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Eo=_a(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),dm=Eo==="webkitTransition"||Eo==="OTransition"?Eo+"End":"transitionend";function pm(r){return typeof r=="string"?document.getElementById(r):r}function To(r,a){var u=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!u||u==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(r,null);u=h?h[a]:null}return u==="auto"?null:u}function mt(r,a,u){var h=document.createElement(r);return h.className=a||"",u&&u.appendChild(h),h}function Rt(r){var a=r.parentNode;a&&a.removeChild(r)}function pa(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function hr(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function fr(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function dc(r,a){if(r.classList!==void 0)return r.classList.contains(a);var u=ma(r);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function rt(r,a){if(r.classList!==void 0)for(var u=A(a),h=0,d=u.length;h<d;h++)r.classList.add(u[h]);else if(!dc(r,a)){var m=ma(r);pc(r,(m?m+" ":"")+a)}}function zt(r,a){r.classList!==void 0?r.classList.remove(a):pc(r,P((" "+ma(r)+" ").replace(" "+a+" "," ")))}function pc(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function ma(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ze(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&DE(r,a)}function DE(r,a){var u=!1,h="DXImageTransform.Microsoft.Alpha";try{u=r.filters.item(h)}catch{if(a===1)return}a=Math.round(a*100),u?(u.Enabled=a!==100,u.Opacity=a):r.style.filter+=" progid:"+h+"(opacity="+a+")"}function _a(r){for(var a=document.documentElement.style,u=0;u<r.length;u++)if(r[u]in a)return r[u];return!1}function Mi(r,a,u){var h=a||new k(0,0);r.style[fc]=(W.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(u?" scale("+u+")":"")}function Bt(r,a){r._leaflet_pos=a,W.any3d?Mi(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function Di(r){return r._leaflet_pos||new k(0,0)}var Po,So,mc;if("onselectstart"in document)Po=function(){et(window,"selectstart",ie)},So=function(){Tt(window,"selectstart",ie)};else{var Io=_a(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Po=function(){if(Io){var r=document.documentElement.style;mc=r[Io],r[Io]="none"}},So=function(){Io&&(document.documentElement.style[Io]=mc,mc=void 0)}}function _c(){et(window,"dragstart",ie)}function gc(){Tt(window,"dragstart",ie)}var ga,vc;function yc(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(va(),ga=r,vc=r.style.outlineStyle,r.style.outlineStyle="none",et(window,"keydown",va))}function va(){ga&&(ga.style.outlineStyle=vc,ga=void 0,vc=void 0,Tt(window,"keydown",va))}function mm(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function wc(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var NE={__proto__:null,TRANSFORM:fc,TRANSITION:Eo,TRANSITION_END:dm,get:pm,getStyle:To,create:mt,remove:Rt,empty:pa,toFront:hr,toBack:fr,hasClass:dc,addClass:rt,removeClass:zt,setClass:pc,getClass:ma,setOpacity:Ze,testProp:_a,setTransform:Mi,setPosition:Bt,getPosition:Di,get disableTextSelection(){return Po},get enableTextSelection(){return So},disableImageDrag:_c,enableImageDrag:gc,preventOutline:yc,restoreOutline:va,getSizedParentNode:mm,getScale:wc};function et(r,a,u,h){if(a&&typeof a=="object")for(var d in a)Tc(r,d,a[d],u);else{a=A(a);for(var m=0,y=a.length;m<y;m++)Tc(r,a[m],u,h)}return this}var pn="_leaflet_events";function Tt(r,a,u,h){if(arguments.length===1)_m(r),delete r[pn];else if(a&&typeof a=="object")for(var d in a)Pc(r,d,a[d],u);else if(a=A(a),arguments.length===2)_m(r,function(S){return x(a,S)!==-1});else for(var m=0,y=a.length;m<y;m++)Pc(r,a[m],u,h);return this}function _m(r,a){for(var u in r[pn]){var h=u.split(/\d/)[0];(!a||a(h))&&Pc(r,h,null,null,u)}}var Ec={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Tc(r,a,u,h){var d=a+f(u)+(h?"_"+f(h):"");if(r[pn]&&r[pn][d])return this;var m=function(S){return u.call(h||r,S||window.event)},y=m;!W.touchNative&&W.pointer&&a.indexOf("touch")===0?m=PE(r,a,m):W.touch&&a==="dblclick"?m=LE(r,m):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(Ec[a]||a,m,W.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(m=function(S){S=S||window.event,Ic(r,S)&&y(S)},r.addEventListener(Ec[a],m,!1)):r.addEventListener(a,y,!1):r.attachEvent("on"+a,m),r[pn]=r[pn]||{},r[pn][d]=m}function Pc(r,a,u,h,d){d=d||a+f(u)+(h?"_"+f(h):"");var m=r[pn]&&r[pn][d];if(!m)return this;!W.touchNative&&W.pointer&&a.indexOf("touch")===0?SE(r,a,m):W.touch&&a==="dblclick"?ME(r,m):"removeEventListener"in r?r.removeEventListener(Ec[a]||a,m,!1):r.detachEvent("on"+a,m),r[pn][d]=null}function Ni(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Sc(r){return Tc(r,"wheel",Ni),this}function Co(r){return et(r,"mousedown touchstart dblclick contextmenu",Ni),r._leaflet_disable_click=!0,this}function ie(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Oi(r){return ie(r),Ni(r),this}function gm(r){if(r.composedPath)return r.composedPath();for(var a=[],u=r.target;u;)a.push(u),u=u.parentNode;return a}function vm(r,a){if(!a)return new k(r.clientX,r.clientY);var u=wc(a),h=u.boundingClientRect;return new k((r.clientX-h.left)/u.x-a.clientLeft,(r.clientY-h.top)/u.y-a.clientTop)}var OE=W.linux&&W.chrome?window.devicePixelRatio:W.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ym(r){return W.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/OE:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ic(r,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==r;)u=u.parentNode}catch{return!1}return u!==r}var VE={__proto__:null,on:et,off:Tt,stopPropagation:Ni,disableScrollPropagation:Sc,disableClickPropagation:Co,preventDefault:ie,stop:Oi,getPropagationPath:gm,getMousePosition:vm,getWheelDelta:ym,isExternalTarget:Ic,addListener:et,removeListener:Tt},wm=Ln.extend({run:function(r,a,u,h){this.stop(),this._el=r,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=Di(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Et(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,u=this._duration*1e3;a<u?this._runFrame(this._easeOut(a/u),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var u=this._startPos.add(this._offset.multiplyBy(r));a&&u._round(),Bt(this._el,u),this.fire("step")},_complete:function(){Kt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),ut=Ln.extend({options:{crs:oc,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=C(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(tt(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Eo&&W.any3d&&!W.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),et(this._proxy,dm,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,u){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(tt(r),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=o({animate:u.animate},u.zoom),u.pan=o({animate:u.animate,duration:u.duration},u.pan));var h=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,u.zoom):this._tryAnimatedPan(r,u.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,u.pan&&u.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,u){var h=this.getZoomScale(a),d=this.getSize().divideBy(2),m=r instanceof k?r:this.latLngToContainerPoint(r),y=m.subtract(d).multiplyBy(1-1/h),S=this.containerPointToLatLng(d.add(y));return this.setView(S,a,{zoom:u})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():yt(r);var u=O(a.paddingTopLeft||a.padding||[0,0]),h=O(a.paddingBottomRight||a.padding||[0,0]),d=this.getBoundsZoom(r,!1,u.add(h));if(d=typeof a.maxZoom=="number"?Math.min(a.maxZoom,d):d,d===1/0)return{center:r.getCenter(),zoom:d};var m=h.subtract(u).divideBy(2),y=this.project(r.getSouthWest(),d),S=this.project(r.getNorthEast(),d),I=this.unproject(y.add(S).divideBy(2).add(m),d);return{center:I,zoom:d}},fitBounds:function(r,a){if(r=yt(r),!r.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(r,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=O(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new wm,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){rt(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,u){if(u=u||{},u.animate===!1||!W.any3d)return this.setView(r,a,u);this._stop();var h=this.project(this.getCenter()),d=this.project(r),m=this.getSize(),y=this._zoom;r=tt(r),a=a===void 0?y:a;var S=Math.max(m.x,m.y),I=S*this.getZoomScale(y,a),R=d.distanceTo(h)||1,B=1.42,G=B*B;function ot(bt){var Ra=bt?-1:1,ST=bt?I:S,IT=I*I-S*S+Ra*G*G*R*R,CT=2*ST*G*R,Vc=IT/CT,t_=Math.sqrt(Vc*Vc+1)-Vc,AT=t_<1e-9?-18:Math.log(t_);return AT}function Te(bt){return(Math.exp(bt)-Math.exp(-bt))/2}function Qt(bt){return(Math.exp(bt)+Math.exp(-bt))/2}function Ge(bt){return Te(bt)/Qt(bt)}var ke=ot(0);function vr(bt){return S*(Qt(ke)/Qt(ke+B*bt))}function wT(bt){return S*(Qt(ke)*Ge(ke+B*bt)-Te(ke))/G}function ET(bt){return 1-Math.pow(1-bt,1.5)}var TT=Date.now(),Xm=(ot(1)-ke)/B,PT=u.duration?1e3*u.duration:1e3*Xm*.8;function Jm(){var bt=(Date.now()-TT)/PT,Ra=ET(bt)*Xm;bt<=1?(this._flyToFrame=Et(Jm,this),this._move(this.unproject(h.add(d.subtract(h).multiplyBy(wT(Ra)/R)),y),this.getScaleZoom(S/vr(Ra),y),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Jm.call(this),this},flyToBounds:function(r,a){var u=this._getBoundsCenterZoom(r,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(r){return r=yt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var u=this.getCenter(),h=this._limitCenter(u,this._zoom,yt(r));return u.equals(h)||this.panTo(h,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var u=O(a.paddingTopLeft||a.padding||[0,0]),h=O(a.paddingBottomRight||a.padding||[0,0]),d=this.project(this.getCenter()),m=this.project(r),y=this.getPixelBounds(),S=ht([y.min.add(u),y.max.subtract(h)]),I=S.getSize();if(!S.contains(m)){this._enforcingBounds=!0;var R=m.subtract(S.getCenter()),B=S.extend(m).getSize().subtract(I);d.x+=R.x<0?-B.x:B.x,d.y+=R.y<0?-B.y:B.y,this.panTo(this.unproject(d),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),h=a.divideBy(2).round(),d=u.divideBy(2).round(),m=h.subtract(d);return!m.x&&!m.y?this:(r.animate&&r.pan?this.panBy(m):(r.pan&&this._rawPanBy(m),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,r):navigator.geolocation.getCurrentPosition(a,u,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,u=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,u=r.coords.longitude,h=new pt(a,u),d=h.toBounds(r.coords.accuracy*2),m=this._locateOptions;if(m.setView){var y=this.getBoundsZoom(d);this.setView(h,m.maxZoom?Math.min(y,m.maxZoom):y)}var S={latlng:h,bounds:d,timestamp:r.timestamp};for(var I in r.coords)typeof r.coords[I]=="number"&&(S[I]=r.coords[I]);this.fire("locationfound",S)}},addHandler:function(r,a){if(!a)return this;var u=this[r]=new a(this);return this._handlers.push(u),this.options[r]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Rt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Kt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Rt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var u="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),h=mt("div",u,a||this._mapPane);return r&&(this._panes[r]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),u=this.unproject(r.getTopRight());return new Ht(a,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,u){r=yt(r),u=O(u||[0,0]);var h=this.getZoom()||0,d=this.getMinZoom(),m=this.getMaxZoom(),y=r.getNorthWest(),S=r.getSouthEast(),I=this.getSize().subtract(u),R=ht(this.project(S,h),this.project(y,h)).getSize(),B=W.any3d?this.options.zoomSnap:1,G=I.x/R.x,ot=I.y/R.y,Te=a?Math.max(G,ot):Math.min(G,ot);return h=this.getScaleZoom(Te,h),B&&(h=Math.round(h/(B/100))*(B/100),h=a?Math.ceil(h/B)*B:Math.floor(h/B)*B),Math.max(d,Math.min(m,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new k(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var u=this._getTopLeftPoint(r,a);return new Q(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var u=this.options.crs;return a=a===void 0?this._zoom:a,u.scale(r)/u.scale(a)},getScaleZoom:function(r,a){var u=this.options.crs;a=a===void 0?this._zoom:a;var h=u.zoom(r*u.scale(a));return isNaN(h)?1/0:h},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(tt(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(O(r),a)},layerPointToLatLng:function(r){var a=O(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(tt(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(tt(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(yt(r))},distance:function(r,a){return this.options.crs.distance(tt(r),tt(a))},containerPointToLayerPoint:function(r){return O(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return O(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(O(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(tt(r)))},mouseEventToContainerPoint:function(r){return vm(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=pm(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");et(a,"scroll",this._onScroll,this),this._containerId=f(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&W.any3d,rt(r,"leaflet-container"+(W.touch?" leaflet-touch":"")+(W.retina?" leaflet-retina":"")+(W.ielt9?" leaflet-oldie":"")+(W.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=To(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Bt(this._mapPane,new k(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(rt(r.markerPane,"leaflet-zoom-hide"),rt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,u){Bt(this._mapPane,new k(0,0));var h=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var d=this._zoom!==a;this._moveStart(d,u)._move(r,a)._moveEnd(d),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,u,h){a===void 0&&(a=this._zoom);var d=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),h?u&&u.pinch&&this.fire("zoom",u):((d||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Kt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Bt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[f(this._container)]=this;var a=r?Tt:et;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),W.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Kt(this._resizeRequest),this._resizeRequest=Et(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var u=[],h,d=a==="mouseout"||a==="mouseover",m=r.target||r.srcElement,y=!1;m;){if(h=this._targets[f(m)],h&&(a==="click"||a==="preclick")&&this._draggableMoved(h)){y=!0;break}if(h&&h.listens(a,!0)&&(d&&!Ic(m,r)||(u.push(h),d))||m===this._container)break;m=m.parentNode}return!u.length&&!y&&!d&&this.listens(a,!0)&&(u=[this]),u},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var u=r.type;u==="mousedown"&&yc(a),this._fireDOMEvent(r,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,u){if(r.type==="click"){var h=o({},r);h.type="preclick",this._fireDOMEvent(h,h.type,u)}var d=this._findEventTargets(r,a);if(u){for(var m=[],y=0;y<u.length;y++)u[y].listens(a,!0)&&m.push(u[y]);d=m.concat(d)}if(d.length){a==="contextmenu"&&ie(r);var S=d[0],I={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var R=S.getLatLng&&(!S._radius||S._radius<=10);I.containerPoint=R?this.latLngToContainerPoint(S.getLatLng()):this.mouseEventToContainerPoint(r),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=R?S.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(y=0;y<d.length;y++)if(d[y].fire(a,I,!0),I.originalEvent._stopped||d[y].options.bubblingMouseEvents===!1&&x(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return Di(this._mapPane)||new k(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var u=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var u=this.getSize()._divideBy(2);return this.project(r,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,u){var h=this._getNewPixelOrigin(u,a);return this.project(r,a)._subtract(h)},_latLngBoundsToNewLayerBounds:function(r,a,u){var h=this._getNewPixelOrigin(u,a);return ht([this.project(r.getSouthWest(),a)._subtract(h),this.project(r.getNorthWest(),a)._subtract(h),this.project(r.getSouthEast(),a)._subtract(h),this.project(r.getNorthEast(),a)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,u){if(!u)return r;var h=this.project(r,a),d=this.getSize().divideBy(2),m=new Q(h.subtract(d),h.add(d)),y=this._getBoundsOffset(m,u,a);return Math.abs(y.x)<=1&&Math.abs(y.y)<=1?r:this.unproject(h.add(y),a)},_limitOffset:function(r,a){if(!a)return r;var u=this.getPixelBounds(),h=new Q(u.min.add(r),u.max.add(r));return r.add(this._getBoundsOffset(h,a))},_getBoundsOffset:function(r,a,u){var h=ht(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),d=h.min.subtract(r.min),m=h.max.subtract(r.max),y=this._rebound(d.x,-m.x),S=this._rebound(d.y,-m.y);return new k(y,S)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),u=this.getMaxZoom(),h=W.any3d?this.options.zoomSnap:1;return h&&(r=Math.round(r/h)*h),Math.max(a,Math.min(u,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){zt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var u=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,a),!0)},_createAnimProxy:function(){var r=this._proxy=mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var u=fc,h=this._proxy.style[u];Mi(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),h===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Rt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();Mi(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(a),d=this._getCenterOffset(r)._divideBy(1-1/h);return u.animate!==!0&&!this.getSize().contains(d)?!1:(Et(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,u,h){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&zt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function zE(r,a){return new ut(r,a)}var nn=We.extend({options:{position:"topright"},initialize:function(r){C(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),u=this.getPosition(),h=r._controlCorners[u];return rt(a,"leaflet-control"),u.indexOf("bottom")!==-1?h.insertBefore(a,h.firstChild):h.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Rt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Ao=function(r){return new nn(r)};ut.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",u=this._controlContainer=mt("div",a+"control-container",this._container);function h(d,m){var y=a+d+" "+a+m;r[d+m]=mt("div",y,u)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Rt(this._controlCorners[r]);Rt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Em=nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,u,h){return u<h?-1:h<u?1:0}},initialize:function(r,a,u){C(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in r)this._addLayer(r[h],h);for(h in a)this._addLayer(a[h],h,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return nn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(f(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):zt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return zt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=mt("div",r),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Co(a),Sc(a);var h=this._section=mt("section",r+"-list");u&&(this._map.on("click",this.collapse,this),et(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=mt("a",r+"-toggle",a);d.href="#",d.title="Layers",d.setAttribute("role","button"),et(d,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){ie(m),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=mt("div",r+"-base",h),this._separator=mt("div",r+"-separator",h),this._overlaysList=mt("div",r+"-overlays",h),a.appendChild(h)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&f(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,u){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(h,d){return this.options.sortFunction(h.layer,d.layer,h.name,d.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pa(this._baseLayersList),pa(this._overlaysList),this._layerControlInputs=[];var r,a,u,h,d=0;for(u=0;u<this._layers.length;u++)h=this._layers[u],this._addItem(h),a=a||h.overlay,r=r||!h.overlay,d+=h.overlay?0:1;return this.options.hideSingleBase&&(r=r&&d>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(f(r.target)),u=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(r,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=u,h.firstChild},_addItem:function(r){var a=document.createElement("label"),u=this._map.hasLayer(r.layer),h;r.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=u):h=this._createRadioElement("leaflet-base-layers_"+f(this),u),this._layerControlInputs.push(h),h.layerId=f(r.layer),et(h,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+r.name;var m=document.createElement("span");a.appendChild(m),m.appendChild(h),m.appendChild(d);var y=r.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,u,h=[],d=[];this._handlingClick=!0;for(var m=r.length-1;m>=0;m--)a=r[m],u=this._getLayer(a.layerId).layer,a.checked?h.push(u):a.checked||d.push(u);for(m=0;m<d.length;m++)this._map.hasLayer(d[m])&&this._map.removeLayer(d[m]);for(m=0;m<h.length;m++)this._map.hasLayer(h[m])||this._map.addLayer(h[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,u,h=this._map.getZoom(),d=r.length-1;d>=0;d--)a=r[d],u=this._getLayer(a.layerId).layer,a.disabled=u.options.minZoom!==void 0&&h<u.options.minZoom||u.options.maxZoom!==void 0&&h>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,et(r,"click",ie),this.expand();var a=this;setTimeout(function(){Tt(r,"click",ie),a._preventClick=!1})}}),FE=function(r,a,u){return new Em(r,a,u)},Cc=nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",u=mt("div",a+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,u,h,d){var m=mt("a",u,h);return m.innerHTML=r,m.href="#",m.title=a,m.setAttribute("role","button"),m.setAttribute("aria-label",a),Co(m),et(m,"click",Oi),et(m,"click",d,this),et(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";zt(this._zoomInButton,a),zt(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(rt(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(rt(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});ut.mergeOptions({zoomControl:!0}),ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Cc,this.addControl(this.zoomControl))});var BE=function(r){return new Cc(r)},Tm=nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",u=mt("div",a),h=this.options;return this._addScales(h,a+"-line",u),r.on(h.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),u},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,u){r.metric&&(this._mScale=mt("div",a,u)),r.imperial&&(this._iScale=mt("div",a,u))},_update:function(){var r=this._map,a=r.getSize().y/2,u=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),u=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,u,a/r)},_updateImperial:function(r){var a=r*3.2808399,u,h,d;a>5280?(u=a/5280,h=this._getRoundNum(u),this._updateScale(this._iScale,h+" mi",h/u)):(d=this._getRoundNum(a),this._updateScale(this._iScale,d+" ft",d/a))},_updateScale:function(r,a,u){r.style.width=Math.round(this.options.maxWidth*u)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),u=r/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,a*u}}),bE=function(r){return new Tm(r)},$E='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ac=nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(W.inlineSvg?$E+" ":"")+"Leaflet</a>"},initialize:function(r){C(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=mt("div","leaflet-control-attribution"),Co(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),r.length&&u.push(r.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});ut.mergeOptions({attributionControl:!0}),ut.addInitHook(function(){this.options.attributionControl&&new Ac().addTo(this)});var UE=function(r){return new Ac(r)};nn.Layers=Em,nn.Zoom=Cc,nn.Scale=Tm,nn.Attribution=Ac,Ao.layers=FE,Ao.zoom=BE,Ao.scale=bE,Ao.attribution=UE;var mn=We.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});mn.addTo=function(r,a){return r.addHandler(a,this),this};var jE={Events:ne},Pm=W.touch?"touchstart mousedown":"mousedown",Yn=Ln.extend({options:{clickTolerance:3},initialize:function(r,a,u,h){C(this,h),this._element=r,this._dragStartTarget=a||r,this._preventOutline=u},enable:function(){this._enabled||(et(this._dragStartTarget,Pm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yn._dragging===this&&this.finishDrag(!0),Tt(this._dragStartTarget,Pm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!dc(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Yn._dragging===this&&this.finishDrag();return}if(!(Yn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Yn._dragging=this,this._preventOutline&&yc(this._element),_c(),Po(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,u=mm(this._element);this._startPoint=new k(a.clientX,a.clientY),this._startPos=Di(this._element),this._parentScale=wc(u);var h=r.type==="mousedown";et(document,h?"mousemove":"touchmove",this._onMove,this),et(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,u=new k(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,ie(r),this._moved||(this.fire("dragstart"),this._moved=!0,rt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Bt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){zt(document.body,"leaflet-dragging"),this._lastTarget&&(zt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Tt(document,"mousemove touchmove",this._onMove,this),Tt(document,"mouseup touchend touchcancel",this._onUp,this),gc(),So();var a=this._moved&&this._moving;this._moving=!1,Yn._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Sm(r,a,u){var h,d=[1,4,2,8],m,y,S,I,R,B,G,ot;for(m=0,B=r.length;m<B;m++)r[m]._code=Vi(r[m],a);for(S=0;S<4;S++){for(G=d[S],h=[],m=0,B=r.length,y=B-1;m<B;y=m++)I=r[m],R=r[y],I._code&G?R._code&G||(ot=ya(R,I,G,a,u),ot._code=Vi(ot,a),h.push(ot)):(R._code&G&&(ot=ya(R,I,G,a,u),ot._code=Vi(ot,a),h.push(ot)),h.push(I));r=h}return r}function Im(r,a){var u,h,d,m,y,S,I,R,B;if(!r||r.length===0)throw new Error("latlngs not passed");qe(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var G=tt([0,0]),ot=yt(r),Te=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());Te<1700&&(G=xc(r));var Qt=r.length,Ge=[];for(u=0;u<Qt;u++){var ke=tt(r[u]);Ge.push(a.project(tt([ke.lat-G.lat,ke.lng-G.lng])))}for(S=I=R=0,u=0,h=Qt-1;u<Qt;h=u++)d=Ge[u],m=Ge[h],y=d.y*m.x-m.y*d.x,I+=(d.x+m.x)*y,R+=(d.y+m.y)*y,S+=y*3;S===0?B=Ge[0]:B=[I/S,R/S];var vr=a.unproject(O(B));return tt([vr.lat+G.lat,vr.lng+G.lng])}function xc(r){for(var a=0,u=0,h=0,d=0;d<r.length;d++){var m=tt(r[d]);a+=m.lat,u+=m.lng,h++}return tt([a/h,u/h])}var HE={__proto__:null,clipPolygon:Sm,polygonCenter:Im,centroid:xc};function Cm(r,a){if(!a||!r.length)return r.slice();var u=a*a;return r=qE(r,u),r=ZE(r,u),r}function Am(r,a,u){return Math.sqrt(xo(r,a,u,!0))}function WE(r,a,u){return xo(r,a,u)}function ZE(r,a){var u=r.length,h=typeof Uint8Array!=void 0+""?Uint8Array:Array,d=new h(u);d[0]=d[u-1]=1,kc(r,d,a,0,u-1);var m,y=[];for(m=0;m<u;m++)d[m]&&y.push(r[m]);return y}function kc(r,a,u,h,d){var m=0,y,S,I;for(S=h+1;S<=d-1;S++)I=xo(r[S],r[h],r[d],!0),I>m&&(y=S,m=I);m>u&&(a[y]=1,kc(r,a,u,h,y),kc(r,a,u,y,d))}function qE(r,a){for(var u=[r[0]],h=1,d=0,m=r.length;h<m;h++)GE(r[h],r[d])>a&&(u.push(r[h]),d=h);return d<m-1&&u.push(r[m-1]),u}var xm;function km(r,a,u,h,d){var m=h?xm:Vi(r,u),y=Vi(a,u),S,I,R;for(xm=y;;){if(!(m|y))return[r,a];if(m&y)return!1;S=m||y,I=ya(r,a,S,u,d),R=Vi(I,u),S===m?(r=I,m=R):(a=I,y=R)}}function ya(r,a,u,h,d){var m=a.x-r.x,y=a.y-r.y,S=h.min,I=h.max,R,B;return u&8?(R=r.x+m*(I.y-r.y)/y,B=I.y):u&4?(R=r.x+m*(S.y-r.y)/y,B=S.y):u&2?(R=I.x,B=r.y+y*(I.x-r.x)/m):u&1&&(R=S.x,B=r.y+y*(S.x-r.x)/m),new k(R,B,d)}function Vi(r,a){var u=0;return r.x<a.min.x?u|=1:r.x>a.max.x&&(u|=2),r.y<a.min.y?u|=4:r.y>a.max.y&&(u|=8),u}function GE(r,a){var u=a.x-r.x,h=a.y-r.y;return u*u+h*h}function xo(r,a,u,h){var d=a.x,m=a.y,y=u.x-d,S=u.y-m,I=y*y+S*S,R;return I>0&&(R=((r.x-d)*y+(r.y-m)*S)/I,R>1?(d=u.x,m=u.y):R>0&&(d+=y*R,m+=S*R)),y=r.x-d,S=r.y-m,h?y*y+S*S:new k(d,m)}function qe(r){return!T(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Rm(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qe(r)}function Lm(r,a){var u,h,d,m,y,S,I,R;if(!r||r.length===0)throw new Error("latlngs not passed");qe(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var B=tt([0,0]),G=yt(r),ot=G.getNorthWest().distanceTo(G.getSouthWest())*G.getNorthEast().distanceTo(G.getNorthWest());ot<1700&&(B=xc(r));var Te=r.length,Qt=[];for(u=0;u<Te;u++){var Ge=tt(r[u]);Qt.push(a.project(tt([Ge.lat-B.lat,Ge.lng-B.lng])))}for(u=0,h=0;u<Te-1;u++)h+=Qt[u].distanceTo(Qt[u+1])/2;if(h===0)R=Qt[0];else for(u=0,m=0;u<Te-1;u++)if(y=Qt[u],S=Qt[u+1],d=y.distanceTo(S),m+=d,m>h){I=(m-h)/d,R=[S.x-I*(S.x-y.x),S.y-I*(S.y-y.y)];break}var ke=a.unproject(O(R));return tt([ke.lat+B.lat,ke.lng+B.lng])}var KE={__proto__:null,simplify:Cm,pointToSegmentDistance:Am,closestPointOnSegment:WE,clipSegment:km,_getEdgeIntersection:ya,_getBitCode:Vi,_sqClosestPointOnSegment:xo,isFlat:qe,_flat:Rm,polylineCenter:Lm},Rc={project:function(r){return new k(r.lng,r.lat)},unproject:function(r){return new pt(r.y,r.x)},bounds:new Q([-180,-90],[180,90])},Lc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,u=this.R,h=r.lat*a,d=this.R_MINOR/u,m=Math.sqrt(1-d*d),y=m*Math.sin(h),S=Math.tan(Math.PI/4-h/2)/Math.pow((1-y)/(1+y),m/2);return h=-u*Math.log(Math.max(S,1e-10)),new k(r.lng*a*u,h)},unproject:function(r){for(var a=180/Math.PI,u=this.R,h=this.R_MINOR/u,d=Math.sqrt(1-h*h),m=Math.exp(-r.y/u),y=Math.PI/2-2*Math.atan(m),S=0,I=.1,R;S<15&&Math.abs(I)>1e-7;S++)R=d*Math.sin(y),R=Math.pow((1-R)/(1+R),d/2),I=Math.PI/2-2*Math.atan(m*R)-y,y+=I;return new pt(y*a,r.x*a/u)}},QE={__proto__:null,LonLat:Rc,Mercator:Lc,SphericalMercator:ic},YE=o({},Qn,{code:"EPSG:3395",projection:Lc,transformation:function(){var r=.5/(Math.PI*Lc.R);return yo(r,.5,-r,.5)}()}),Mm=o({},Qn,{code:"EPSG:4326",projection:Rc,transformation:yo(1/180,1,-1/180,.5)}),XE=o({},xe,{projection:Rc,transformation:yo(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var u=a.lng-r.lng,h=a.lat-r.lat;return Math.sqrt(u*u+h*h)},infinite:!0});xe.Earth=Qn,xe.EPSG3395=YE,xe.EPSG3857=oc,xe.EPSG900913=rE,xe.EPSG4326=Mm,xe.Simple=XE;var rn=Ln.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[f(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[f(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});ut.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=f(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=f(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return f(r)in this._layers},eachLayer:function(r,a){for(var u in this._layers)r.call(a,this._layers[u]);return this},_addLayers:function(r){r=r?T(r)?r:[r]:[];for(var a=0,u=r.length;a<u;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[f(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=f(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,u=this._getZoomSpan();for(var h in this._zoomBoundLayers){var d=this._zoomBoundLayers[h].options;r=d.minZoom===void 0?r:Math.min(r,d.minZoom),a=d.maxZoom===void 0?a:Math.max(a,d.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var dr=rn.extend({initialize:function(r,a){C(this,a),this._layers={};var u,h;if(r)for(u=0,h=r.length;u<h;u++)this.addLayer(r[u])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),u,h;for(u in this._layers)h=this._layers[u],h[r]&&h[r].apply(h,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var u in this._layers)r.call(a,this._layers[u]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return f(r)}}),JE=function(r,a){return new dr(r,a)},Mn=dr.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),dr.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),dr.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Ht;for(var a in this._layers){var u=this._layers[a];r.extend(u.getBounds?u.getBounds():u.getLatLng())}return r}}),tT=function(r,a){return new Mn(r,a)},pr=We.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){C(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var u=this._getIconUrl(r);if(!u){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(u,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(h,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(r,a){var u=this.options,h=u[a+"Size"];typeof h=="number"&&(h=[h,h]);var d=O(h),m=O(a==="shadow"&&u.shadowAnchor||u.iconAnchor||d&&d.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(u.className||""),m&&(r.style.marginLeft=-m.x+"px",r.style.marginTop=-m.y+"px"),d&&(r.style.width=d.x+"px",r.style.height=d.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return W.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function eT(r){return new pr(r)}var ko=pr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof ko.imagePath!="string"&&(ko.imagePath=this._detectIconPath()),(this.options.imagePath||ko.imagePath)+pr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(u,h,d){var m=h.exec(u);return m&&m[d]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=mt("div","leaflet-default-icon-path",document.body),a=To(r,"background-image")||To(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Dm=mn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Yn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),rt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&zt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,u=a._map,h=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,m=Di(a._icon),y=u.getPixelBounds(),S=u.getPixelOrigin(),I=ht(y.min._subtract(S).add(d),y.max._subtract(S).subtract(d));if(!I.contains(m)){var R=O((Math.max(I.max.x,m.x)-I.max.x)/(y.max.x-I.max.x)-(Math.min(I.min.x,m.x)-I.min.x)/(y.min.x-I.min.x),(Math.max(I.max.y,m.y)-I.max.y)/(y.max.y-I.max.y)-(Math.min(I.min.y,m.y)-I.min.y)/(y.min.y-I.min.y)).multiplyBy(h);u.panBy(R,{animate:!1}),this._draggable._newPos._add(R),this._draggable._startPos._add(R),Bt(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=Et(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Kt(this._panRequest),this._panRequest=Et(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,u=a._shadow,h=Di(a._icon),d=a._map.layerPointToLatLng(h);u&&Bt(u,h),a._latlng=d,r.latlng=d,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Kt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),wa=rn.extend({options:{icon:new ko,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){C(this,a),this._latlng=tt(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=tt(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=r.icon.createIcon(this._icon),h=!1;u!==this._icon&&(this._icon&&this._removeIcon(),h=!0,r.title&&(u.title=r.title),u.tagName==="IMG"&&(u.alt=r.alt||"")),rt(u,a),r.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&et(u,"focus",this._panOnFocus,this);var d=r.icon.createShadow(this._shadow),m=!1;d!==this._shadow&&(this._removeShadow(),m=!0),d&&(rt(d,a),d.alt=""),this._shadow=d,r.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&m&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Tt(this._icon,"focus",this._panOnFocus,this),Rt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Rt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Bt(this._icon,r),this._shadow&&Bt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Dm)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Dm(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ze(this._icon,r),this._shadow&&Ze(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,u=a.iconSize?O(a.iconSize):O(0,0),h=a.iconAnchor?O(a.iconAnchor):O(0,0);r.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:u.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nT(r,a){return new wa(r,a)}var Xn=rn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return C(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ea=Xn.extend({options:{fill:!0,radius:10},initialize:function(r,a){C(this,a),this._latlng=tt(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=tt(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return Xn.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,u=this._clickTolerance(),h=[r+u,a+u];this._pxBounds=new Q(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function iT(r,a){return new Ea(r,a)}var Mc=Ea.extend({initialize:function(r,a,u){if(typeof a=="number"&&(a=o({},u,{radius:a})),C(this,a),this._latlng=tt(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Ht(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Xn.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,u=this._map,h=u.options.crs;if(h.distance===Qn.distance){var d=Math.PI/180,m=this._mRadius/Qn.R/d,y=u.project([a+m,r]),S=u.project([a-m,r]),I=y.add(S).divideBy(2),R=u.unproject(I).lat,B=Math.acos((Math.cos(m*d)-Math.sin(a*d)*Math.sin(R*d))/(Math.cos(a*d)*Math.cos(R*d)))/d;(isNaN(B)||B===0)&&(B=m/Math.cos(Math.PI/180*a)),this._point=I.subtract(u.getPixelOrigin()),this._radius=isNaN(B)?0:I.x-u.project([R,r-B]).x,this._radiusY=I.y-y.y}else{var G=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(G).x}this._updateBounds()}});function rT(r,a,u){return new Mc(r,a,u)}var Dn=Xn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){C(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,u=null,h=xo,d,m,y=0,S=this._parts.length;y<S;y++)for(var I=this._parts[y],R=1,B=I.length;R<B;R++){d=I[R-1],m=I[R];var G=h(r,d,m,!0);G<a&&(a=G,u=h(r,d,m))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lm(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=tt(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Ht,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return qe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],u=qe(r),h=0,d=r.length;h<d;h++)u?(a[h]=tt(r[h]),this._bounds.extend(a[h])):a[h]=this._convertLatLngs(r[h]);return a},_project:function(){var r=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new k(r,r);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,u){var h=r[0]instanceof pt,d=r.length,m,y;if(h){for(y=[],m=0;m<d;m++)y[m]=this._map.latLngToLayerPoint(r[m]),u.extend(y[m]);a.push(y)}else for(m=0;m<d;m++)this._projectLatlngs(r[m],a,u)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,u,h,d,m,y,S,I;for(u=0,d=0,m=this._rings.length;u<m;u++)for(I=this._rings[u],h=0,y=I.length;h<y-1;h++)S=km(I[h],I[h+1],r,h,!0),S&&(a[d]=a[d]||[],a[d].push(S[0]),(S[1]!==I[h+1]||h===y-2)&&(a[d].push(S[1]),d++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,u=0,h=r.length;u<h;u++)r[u]=Cm(r[u],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var u,h,d,m,y,S,I=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(u=0,m=this._parts.length;u<m;u++)for(S=this._parts[u],h=0,y=S.length,d=y-1;h<y;d=h++)if(!(!a&&h===0)&&Am(r,S[d],S[h])<=I)return!0;return!1}});function oT(r,a){return new Dn(r,a)}Dn._flat=Rm;var mr=Dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Im(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=Dn.prototype._convertLatLngs.call(this,r),u=a.length;return u>=2&&a[0]instanceof pt&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(r){Dn.prototype._setLatLngs.call(this,r),qe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,u=new k(a,a);if(r=new Q(r.min.subtract(u),r.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,d=this._rings.length,m;h<d;h++)m=Sm(this._rings[h],r,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,u,h,d,m,y,S,I,R;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(m=0,I=this._parts.length;m<I;m++)for(u=this._parts[m],y=0,R=u.length,S=R-1;y<R;S=y++)h=u[y],d=u[S],h.y>r.y!=d.y>r.y&&r.x<(d.x-h.x)*(r.y-h.y)/(d.y-h.y)+h.x&&(a=!a);return a||Dn.prototype._containsPoint.call(this,r,!0)}});function sT(r,a){return new mr(r,a)}var Nn=Mn.extend({initialize:function(r,a){C(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=T(r)?r:r.features,u,h,d;if(a){for(u=0,h=a.length;u<h;u++)d=a[u],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var m=this.options;if(m.filter&&!m.filter(r))return this;var y=Ta(r,m);return y?(y.feature=Ia(r),y.defaultOptions=y.options,this.resetStyle(y),m.onEachFeature&&m.onEachFeature(r,y),this.addLayer(y)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function Ta(r,a){var u=r.type==="Feature"?r.geometry:r,h=u?u.coordinates:null,d=[],m=a&&a.pointToLayer,y=a&&a.coordsToLatLng||Dc,S,I,R,B;if(!h&&!u)return null;switch(u.type){case"Point":return S=y(h),Nm(m,r,S,a);case"MultiPoint":for(R=0,B=h.length;R<B;R++)S=y(h[R]),d.push(Nm(m,r,S,a));return new Mn(d);case"LineString":case"MultiLineString":return I=Pa(h,u.type==="LineString"?0:1,y),new Dn(I,a);case"Polygon":case"MultiPolygon":return I=Pa(h,u.type==="Polygon"?1:2,y),new mr(I,a);case"GeometryCollection":for(R=0,B=u.geometries.length;R<B;R++){var G=Ta({geometry:u.geometries[R],type:"Feature",properties:r.properties},a);G&&d.push(G)}return new Mn(d);case"FeatureCollection":for(R=0,B=u.features.length;R<B;R++){var ot=Ta(u.features[R],a);ot&&d.push(ot)}return new Mn(d);default:throw new Error("Invalid GeoJSON object.")}}function Nm(r,a,u,h){return r?r(a,u):new wa(u,h&&h.markersInheritOptions&&h)}function Dc(r){return new pt(r[1],r[0],r[2])}function Pa(r,a,u){for(var h=[],d=0,m=r.length,y;d<m;d++)y=a?Pa(r[d],a-1,u):(u||Dc)(r[d]),h.push(y);return h}function Nc(r,a){return r=tt(r),r.alt!==void 0?[v(r.lng,a),v(r.lat,a),v(r.alt,a)]:[v(r.lng,a),v(r.lat,a)]}function Sa(r,a,u,h){for(var d=[],m=0,y=r.length;m<y;m++)d.push(a?Sa(r[m],qe(r[m])?0:a-1,u,h):Nc(r[m],h));return!a&&u&&d.length>0&&d.push(d[0].slice()),d}function _r(r,a){return r.feature?o({},r.feature,{geometry:a}):Ia(a)}function Ia(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Oc={toGeoJSON:function(r){return _r(this,{type:"Point",coordinates:Nc(this.getLatLng(),r)})}};wa.include(Oc),Mc.include(Oc),Ea.include(Oc),Dn.include({toGeoJSON:function(r){var a=!qe(this._latlngs),u=Sa(this._latlngs,a?1:0,!1,r);return _r(this,{type:(a?"Multi":"")+"LineString",coordinates:u})}}),mr.include({toGeoJSON:function(r){var a=!qe(this._latlngs),u=a&&!qe(this._latlngs[0]),h=Sa(this._latlngs,u?2:a?1:0,!0,r);return a||(h=[h]),_r(this,{type:(u?"Multi":"")+"Polygon",coordinates:h})}}),dr.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(r).geometry.coordinates)}),_r(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var u=a==="GeometryCollection",h=[];return this.eachLayer(function(d){if(d.toGeoJSON){var m=d.toGeoJSON(r);if(u)h.push(m.geometry);else{var y=Ia(m);y.type==="FeatureCollection"?h.push.apply(h,y.features):h.push(y)}}}),u?_r(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function Om(r,a){return new Nn(r,a)}var aT=Om,Ca=rn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,u){this._url=r,this._bounds=yt(a),C(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Rt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&hr(this._image),this},bringToBack:function(){return this._map&&fr(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=yt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:mt("img");if(rt(a,"leaflet-image-layer"),this._zoomAnimated&&rt(a,"leaflet-zoom-animated"),this.options.className&&rt(a,this.options.className),a.onselectstart=g,a.onmousemove=g,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Mi(this._image,u,a)},_reset:function(){var r=this._image,a=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();Bt(r,a.min),r.style.width=u.x+"px",r.style.height=u.y+"px"},_updateOpacity:function(){Ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),lT=function(r,a,u){return new Ca(r,a,u)},Vm=Ca.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:mt("video");if(rt(a,"leaflet-image-layer"),this._zoomAnimated&&rt(a,"leaflet-zoom-animated"),this.options.className&&rt(a,this.options.className),a.onselectstart=g,a.onmousemove=g,a.onloadeddata=l(this.fire,this,"load"),r){for(var u=a.getElementsByTagName("source"),h=[],d=0;d<u.length;d++)h.push(u[d].src);this._url=u.length>0?h:[a.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var y=mt("source");y.src=this._url[m],a.appendChild(y)}}});function uT(r,a,u){return new Vm(r,a,u)}var zm=Ca.extend({_initImage:function(){var r=this._image=this._url;rt(r,"leaflet-image-layer"),this._zoomAnimated&&rt(r,"leaflet-zoom-animated"),this.options.className&&rt(r,this.options.className),r.onselectstart=g,r.onmousemove=g}});function cT(r,a,u){return new zm(r,a,u)}var _n=rn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof pt||T(r))?(this._latlng=tt(r),C(this,a)):(C(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ze(this._container,1),this.bringToFront(),this.options.interactive&&(rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ze(this._container,0),this._removeTimeout=setTimeout(l(Rt,void 0,this._container),200)):Rt(this._container),this.options.interactive&&(zt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=tt(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hr(this._container),this},bringToBack:function(){return this._map&&fr(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof Mn){a=null;var u=this._source._layers;for(var h in u)if(u[h]._map){a=u[h];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=O(this.options.offset),u=this._getAnchor();this._zoomAnimated?Bt(this._container,r.add(u)):a=a.add(r).add(u);var h=this._containerBottom=-a.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=h+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});ut.include({_initOverlay:function(r,a,u,h){var d=a;return d instanceof r||(d=new r(h).setContent(a)),u&&d.setLatLng(u),d}}),rn.include({_initOverlay:function(r,a,u,h){var d=u;return d instanceof r?(C(d,h),d._source=this):(d=a&&!h?a:new r(h,this),d.setContent(u)),d}});var Aa=_n.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,_n.prototype.openOn.call(this,r)},onAdd:function(r){_n.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xn||this._source.on("preclick",Ni))},onRemove:function(r){_n.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xn||this._source.off("preclick",Ni))},getEvents:function(){var r=_n.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=mt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=mt("div",r+"-content-wrapper",a);if(this._contentNode=mt("div",r+"-content",u),Co(a),Sc(this._contentNode),et(a,"contextmenu",Ni),this._tipContainer=mt("div",r+"-tip-container",a),this._tip=mt("div",r+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=mt("a",r+"-close-button",a);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',et(h,"click",function(d){ie(d),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var u=r.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var h=r.offsetHeight,d=this.options.maxHeight,m="leaflet-popup-scrolled";d&&h>d?(a.height=d+"px",rt(r,m)):zt(r,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),u=this._getAnchor();Bt(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(To(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,h=this._containerWidth,d=new k(this._containerLeft,-u-this._containerBottom);d._add(Di(this._container));var m=r.layerPointToContainerPoint(d),y=O(this.options.autoPanPadding),S=O(this.options.autoPanPaddingTopLeft||y),I=O(this.options.autoPanPaddingBottomRight||y),R=r.getSize(),B=0,G=0;m.x+h+I.x>R.x&&(B=m.x+h-R.x+I.x),m.x-B-S.x<0&&(B=m.x-S.x),m.y+u+I.y>R.y&&(G=m.y+u-R.y+I.y),m.y-G-S.y<0&&(G=m.y-S.y),(B||G)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([B,G]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hT=function(r,a){return new Aa(r,a)};ut.mergeOptions({closePopupOnClick:!0}),ut.include({openPopup:function(r,a,u){return this._initOverlay(Aa,r,a,u).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),rn.include({bindPopup:function(r,a){return this._popup=this._initOverlay(Aa,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Mn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Oi(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof Xn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var xa=_n.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){_n.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){_n.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=_n.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=mt("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,u,h=this._map,d=this._container,m=h.latLngToContainerPoint(h.getCenter()),y=h.layerPointToContainerPoint(r),S=this.options.direction,I=d.offsetWidth,R=d.offsetHeight,B=O(this.options.offset),G=this._getAnchor();S==="top"?(a=I/2,u=R):S==="bottom"?(a=I/2,u=0):S==="center"?(a=I/2,u=R/2):S==="right"?(a=0,u=R/2):S==="left"?(a=I,u=R/2):y.x<m.x?(S="right",a=0,u=R/2):(S="left",a=I+(B.x+G.x)*2,u=R/2),r=r.subtract(O(a,u,!0)).add(B).add(G),zt(d,"leaflet-tooltip-right"),zt(d,"leaflet-tooltip-left"),zt(d,"leaflet-tooltip-top"),zt(d,"leaflet-tooltip-bottom"),rt(d,"leaflet-tooltip-"+S),Bt(d,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ze(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),fT=function(r,a){return new xa(r,a)};ut.include({openTooltip:function(r,a,u){return this._initOverlay(xa,r,a,u).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),rn.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xa,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[a](u),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Mn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(et(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),et(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,u,h;this._tooltip.options.sticky&&r.originalEvent&&(u=this._map.mouseEventToContainerPoint(r.originalEvent),h=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(a)}});var Fm=pr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),u=this.options;if(u.html instanceof Element?(pa(a),a.appendChild(u.html)):a.innerHTML=u.html!==!1?u.html:"",u.bgPos){var h=O(u.bgPos);a.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function dT(r){return new Fm(r)}pr.Default=ko;var Ro=rn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:W.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){C(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Rt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof k?r:new k(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,u=-r(-1/0,1/0),h=0,d=a.length,m;h<d;h++)m=a[h].style.zIndex,a[h]!==this._container&&m&&(u=r(u,+m));isFinite(u)&&(this.options.zIndex=u+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!W.ielt9){Ze(this._container,this.options.opacity);var r=+new Date,a=!1,u=!1;for(var h in this._tiles){var d=this._tiles[h];if(!(!d.current||!d.loaded)){var m=Math.min(1,(r-d.loaded)/200);Ze(d.el,m),m<1?a=!0:(d.active?u=!0:this._onOpaqueTile(d),d.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(Kt(this._fadeFrame),this._fadeFrame=Et(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===r?(this._levels[u].el.style.zIndex=a-Math.abs(r-u),this._onUpdateLevel(u)):(Rt(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var h=this._levels[r],d=this._map;return h||(h=this._levels[r]={},h.el=mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=a,h.origin=d.project(d.unproject(d.getPixelOrigin()),r).round(),h.zoom=r,this._setZoomTransform(h,d.getCenter(),d.getZoom()),g(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var r,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var h=a.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Rt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,u,h){var d=Math.floor(r/2),m=Math.floor(a/2),y=u-1,S=new k(+d,+m);S.z=+y;var I=this._tileCoordsToKey(S),R=this._tiles[I];return R&&R.active?(R.retain=!0,!0):(R&&R.loaded&&(R.retain=!0),y>h?this._retainParent(d,m,y,h):!1)},_retainChildren:function(r,a,u,h){for(var d=2*r;d<2*r+2;d++)for(var m=2*a;m<2*a+2;m++){var y=new k(d,m);y.z=u+1;var S=this._tileCoordsToKey(y),I=this._tiles[S];if(I&&I.active){I.retain=!0;continue}else I&&I.loaded&&(I.retain=!0);u+1<h&&this._retainChildren(d,m,u+1,h)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,u,h){var d=Math.round(a);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var m=this.options.updateWhenZooming&&d!==this._tileZoom;(!h||m)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(r),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],r,a)},_setZoomTransform:function(r,a,u){var h=this._map.getZoomScale(u,r.zoom),d=r.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(a,u)).round();W.any3d?Mi(r.el,d,h):Bt(r.el,d)},_resetGrid:function(){var r=this._map,a=r.options.crs,u=this._tileSize=this.getTileSize(),h=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],h).x/u.x),Math.ceil(r.project([0,a.wrapLng[1]],h).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],h).y/u.x),Math.ceil(r.project([a.wrapLat[1],0],h).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),h=a.getZoomScale(u,this._tileZoom),d=a.project(r,this._tileZoom).floor(),m=a.getSize().divideBy(h*2);return new Q(d.subtract(m),d.add(m))},_update:function(r){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(r),d=this._pxBoundsToTileRange(h),m=d.getCenter(),y=[],S=this.options.keepBuffer,I=new Q(d.getBottomLeft().subtract([S,-S]),d.getTopRight().add([S,-S]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var R in this._tiles){var B=this._tiles[R].coords;(B.z!==this._tileZoom||!I.contains(new k(B.x,B.y)))&&(this._tiles[R].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(r,u);return}for(var G=d.min.y;G<=d.max.y;G++)for(var ot=d.min.x;ot<=d.max.x;ot++){var Te=new k(ot,G);if(Te.z=this._tileZoom,!!this._isValidTile(Te)){var Qt=this._tiles[this._tileCoordsToKey(Te)];Qt?Qt.current=!0:y.push(Te)}}if(y.sort(function(ke,vr){return ke.distanceTo(m)-vr.distanceTo(m)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ge=document.createDocumentFragment();for(ot=0;ot<y.length;ot++)this._addTile(y[ot],Ge);this._level.el.appendChild(Ge)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(r.x<u.min.x||r.x>u.max.x)||!a.wrapLat&&(r.y<u.min.y||r.y>u.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(r);return yt(this.options.bounds).overlaps(h)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,u=this.getTileSize(),h=r.scaleBy(u),d=h.add(u),m=a.unproject(h,r.z),y=a.unproject(d,r.z);return[m,y]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),u=new Ht(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),u=new k(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(r){var a=this._tiles[r];a&&(Rt(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){rt(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=g,r.onmousemove=g,W.ielt9&&this.options.opacity<1&&Ze(r,this.options.opacity)},_addTile:function(r,a){var u=this._getTilePos(r),h=this._tileCoordsToKey(r),d=this.createTile(this._wrapCoords(r),l(this._tileReady,this,r));this._initTile(d),this.createTile.length<2&&Et(l(this._tileReady,this,r,null,d)),Bt(d,u),this._tiles[h]={el:d,coords:r,current:!0},a.appendChild(d),this.fire("tileloadstart",{tile:d,coords:r})},_tileReady:function(r,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:r});var h=this._tileCoordsToKey(r);u=this._tiles[h],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Ze(u.el,0),Kt(this._fadeFrame),this._fadeFrame=Et(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(rt(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),W.ielt9||!this._map._fadeAnimated?Et(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new k(this._wrapX?_(r.x,this._wrapX):r.x,this._wrapY?_(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new Q(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function pT(r){return new Ro(r)}var gr=Ro.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=C(this,a),a.detectRetina&&W.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var u=document.createElement("img");return et(u,"load",l(this._tileOnLoad,this,a,u)),et(u,"error",l(this._tileOnError,this,a,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(r),u},getTileUrl:function(r){var a={r:W.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=u),a["-y"]=u}return w(this._url,o(a,this.options))},_tileOnLoad:function(r,a){W.ielt9?setTimeout(l(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,u){var h=this.options.errorTileUrl;h&&a.getAttribute("src")!==h&&(a.src=h),r(u,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,u=this.options.zoomReverse,h=this.options.zoomOffset;return u&&(r=a-r),r+h},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=g,a.onerror=g,!a.complete)){a.src=z;var u=this._tiles[r].coords;Rt(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:u})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",z),Ro.prototype._removeTile.call(this,r)},_tileReady:function(r,a,u){if(!(!this._map||u&&u.getAttribute("src")===z))return Ro.prototype._tileReady.call(this,r,a,u)}});function Bm(r,a){return new gr(r,a)}var bm=gr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var u=o({},this.defaultWmsParams);for(var h in a)h in this.options||(u[h]=a[h]);a=C(this,a);var d=a.detectRetina&&W.retina?2:1,m=this.getTileSize();u.width=m.x*d,u.height=m.y*d,this.wmsParams=u},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,gr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),u=this._crs,h=ht(u.project(a[0]),u.project(a[1])),d=h.min,m=h.max,y=(this._wmsVersion>=1.3&&this._crs===Mm?[d.y,d.x,m.y,m.x]:[d.x,d.y,m.x,m.y]).join(","),S=gr.prototype.getTileUrl.call(this,r);return S+V(this.wmsParams,S,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(r,a){return o(this.wmsParams,r),a||this.redraw(),this}});function mT(r,a){return new bm(r,a)}gr.WMS=bm,Bm.wms=mT;var On=rn.extend({options:{padding:.1},initialize:function(r){C(this,r),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var u=this._map.getZoomScale(a,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,a),m=h.multiplyBy(-u).add(d).subtract(this._map._getNewPixelOrigin(r,a));W.any3d?Mi(this._container,m,u):Bt(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new Q(u,u.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$m=On.extend({options:{tolerance:0},getEvents:function(){var r=On.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){On.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");et(r,"mousemove",this._onMouseMove,this),et(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),et(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Kt(this._redrawRequest),delete this._ctx,Rt(this._container),Tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){On.prototype._update.call(this);var r=this._bounds,a=this._container,u=r.getSize(),h=W.retina?2:1;Bt(a,r.min),a.width=h*u.x,a.height=h*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",W.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){On.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[f(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,u=a.next,h=a.prev;u?u.prev=h:this._drawLast=h,h?h.next=u:this._drawFirst=u,delete r._order,delete this._layers[f(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),u=[],h,d;for(d=0;d<a.length;d++){if(h=Number(a[d]),isNaN(h))return;u.push(h)}r.options._dashArray=u}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||Et(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)r=h.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var u,h,d,m,y=r._parts,S=y.length,I=this._ctx;if(S){for(I.beginPath(),u=0;u<S;u++){for(h=0,d=y[u].length;h<d;h++)m=y[u][h],I[h?"lineTo":"moveTo"](m.x,m.y);a&&I.closePath()}this._fillStroke(I,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,u=this._ctx,h=Math.max(Math.round(r._radius),1),d=(Math.max(Math.round(r._radiusY),1)||h)/h;d!==1&&(u.save(),u.scale(1,d)),u.beginPath(),u.arc(a.x,a.y/d,h,0,Math.PI*2,!1),d!==1&&u.restore(),this._fillStroke(u,r)}},_fillStroke:function(r,a){var u=a.options;u.fill&&(r.globalAlpha=u.fillOpacity,r.fillStyle=u.fillColor||u.color,r.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=u.opacity,r.lineWidth=u.weight,r.strokeStyle=u.color,r.lineCap=u.lineCap,r.lineJoin=u.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),u,h,d=this._drawFirst;d;d=d.next)u=d.layer,u.options.interactive&&u._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(u))&&(h=u);this._fireEvent(h?[h]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(zt(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var u,h,d=this._drawFirst;d;d=d.next)u=d.layer,u.options.interactive&&u._containsPoint(a)&&(h=u);h!==this._hoveredLayer&&(this._handleMouseOut(r),h&&(rt(this._container,"leaflet-interactive"),this._fireEvent([h],r,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,u){this._map._fireDOMEvent(a,u||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var u=a.next,h=a.prev;if(u)u.prev=h;else return;h?h.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var u=a.next,h=a.prev;if(h)h.next=u;else return;u?u.prev=h:h&&(this._drawLast=h),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function Um(r){return W.canvas?new $m(r):null}var Lo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),_T={_initContainer:function(){this._container=mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(On.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=Lo("shape");rt(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=Lo("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[f(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;Rt(a),r.removeInteractiveTarget(a),delete this._layers[f(r)]},_updateStyle:function(r){var a=r._stroke,u=r._fill,h=r.options,d=r._container;d.stroked=!!h.stroke,d.filled=!!h.fill,h.stroke?(a||(a=r._stroke=Lo("stroke")),d.appendChild(a),a.weight=h.weight+"px",a.color=h.color,a.opacity=h.opacity,h.dashArray?a.dashStyle=T(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=h.lineCap.replace("butt","flat"),a.joinstyle=h.lineJoin):a&&(d.removeChild(a),r._stroke=null),h.fill?(u||(u=r._fill=Lo("fill")),d.appendChild(u),u.color=h.fillColor||h.color,u.opacity=h.fillOpacity):u&&(d.removeChild(u),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),u=Math.round(r._radius),h=Math.round(r._radiusY||u);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+h+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){hr(r._container)},_bringToBack:function(r){fr(r._container)}},ka=W.vml?Lo:Zp,Mo=On.extend({_initContainer:function(){this._container=ka("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ka("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Rt(this._container),Tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){On.prototype._update.call(this);var r=this._bounds,a=r.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),Bt(u,r.min),u.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=ka("path");r.options.className&&rt(a,r.options.className),r.options.interactive&&rt(a,"leaflet-interactive"),this._updateStyle(r),this._layers[f(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Rt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[f(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,u=r.options;a&&(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,qp(r._parts,a))},_updateCircle:function(r){var a=r._point,u=Math.max(Math.round(r._radius),1),h=Math.max(Math.round(r._radiusY),1)||u,d="a"+u+","+h+" 0 1,0 ",m=r._empty()?"M0 0":"M"+(a.x-u)+","+a.y+d+u*2+",0 "+d+-u*2+",0 ";this._setPath(r,m)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){hr(r._path)},_bringToBack:function(r){fr(r._path)}});W.vml&&Mo.include(_T);function jm(r){return W.svg||W.vml?new Mo(r):null}ut.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&Um(r)||jm(r)}});var Hm=mr.extend({initialize:function(r,a){mr.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=yt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function gT(r,a){return new Hm(r,a)}Mo.create=ka,Mo.pointsToPath=qp,Nn.geometryToLayer=Ta,Nn.coordsToLatLng=Dc,Nn.coordsToLatLngs=Pa,Nn.latLngToCoords=Nc,Nn.latLngsToCoords=Sa,Nn.getFeature=_r,Nn.asFeature=Ia,ut.mergeOptions({boxZoom:!0});var Wm=mn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){et(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Rt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Po(),_c(),this._startPoint=this._map.mouseEventToContainerPoint(r),et(document,{contextmenu:Oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=mt("div","leaflet-zoom-box",this._container),rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new Q(this._point,this._startPoint),u=a.getSize();Bt(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Rt(this._box),zt(this._container,"leaflet-crosshair")),So(),gc(),Tt(document,{contextmenu:Oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new Ht(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ut.addInitHook("addHandler","boxZoom",Wm),ut.mergeOptions({doubleClickZoom:!0});var Zm=mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,u=a.getZoom(),h=a.options.zoomDelta,d=r.originalEvent.shiftKey?u-h:u+h;a.options.doubleClickZoom==="center"?a.setZoom(d):a.setZoomAround(r.containerPoint,d)}});ut.addInitHook("addHandler","doubleClickZoom",Zm),ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qm=mn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Yn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){zt(this._map._container,"leaflet-grab"),zt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=yt(this._map.options.maxBounds);this._offsetLimit=ht(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),u=this._initialWorldOffset,h=this._draggable._newPos.x,d=(h-a+u)%r+a-u,m=(h+a+u)%r-a-u,y=Math.abs(d+u)<Math.abs(m+u)?d:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(r){var a=this._map,u=a.options,h=!u.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),h)a.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,y=u.easeLinearity,S=d.multiplyBy(y/m),I=S.distanceTo([0,0]),R=Math.min(u.inertiaMaxSpeed,I),B=S.multiplyBy(R/I),G=R/(u.inertiaDeceleration*y),ot=B.multiplyBy(-G/2).round();!ot.x&&!ot.y?a.fire("moveend"):(ot=a._limitOffset(ot,a.options.maxBounds),Et(function(){a.panBy(ot,{duration:G,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});ut.addInitHook("addHandler","dragging",qm),ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Gm=mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),et(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,u=r.scrollTop||a.scrollTop,h=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(h,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},u=this.keyCodes,h,d;for(h=0,d=u.left.length;h<d;h++)a[u.left[h]]=[-1*r,0];for(h=0,d=u.right.length;h<d;h++)a[u.right[h]]=[r,0];for(h=0,d=u.down.length;h<d;h++)a[u.down[h]]=[0,r];for(h=0,d=u.up.length;h<d;h++)a[u.up[h]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},u=this.keyCodes,h,d;for(h=0,d=u.zoomIn.length;h<d;h++)a[u.zoomIn[h]]=r;for(h=0,d=u.zoomOut.length;h<d;h++)a[u.zoomOut[h]]=-r},_addHooks:function(){et(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,u=this._map,h;if(a in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(h=this._panKeys[a],r.shiftKey&&(h=O(h).multiplyBy(3)),u.options.maxBounds&&(h=u._limitOffset(O(h),u.options.maxBounds)),u.options.worldCopyJump){var d=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(h)));u.panTo(d)}else u.panBy(h)}else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Oi(r)}}});ut.addInitHook("addHandler","keyboard",Gm),ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Km=mn.extend({addHooks:function(){et(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=ym(r),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var h=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),h),Oi(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),u=this._map.options.zoomSnap||0;r._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,m=u?Math.ceil(d/u)*u:d,y=r._limitZoom(a+(this._delta>0?m:-m))-a;this._delta=0,this._startTime=null,y&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+y):r.setZoomAround(this._lastMousePos,a+y))}});ut.addInitHook("addHandler","scrollWheelZoom",Km);var vT=600;ut.mergeOptions({tapHold:W.touchNative&&W.safari&&W.mobile,tapTolerance:15});var Qm=mn.extend({addHooks:function(){et(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new k(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(et(document,"touchend",ie),et(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),vT),et(document,"touchend touchcancel contextmenu",this._cancel,this),et(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Tt(document,"touchend",ie),Tt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Tt(document,"touchend touchcancel contextmenu",this._cancel,this),Tt(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new k(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var u=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});u._simulated=!0,a.target.dispatchEvent(u)}});ut.addInitHook("addHandler","tapHold",Qm),ut.mergeOptions({touchZoom:W.touch,bounceAtZoomLimits:!0});var Ym=mn.extend({addHooks:function(){rt(this._map._container,"leaflet-touch-zoom"),et(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){zt(this._map._container,"leaflet-touch-zoom"),Tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var u=a.mouseEventToContainerPoint(r.touches[0]),h=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(h)._divideBy(2))),this._startDist=u.distanceTo(h),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),et(document,"touchmove",this._onTouchMove,this),et(document,"touchend touchcancel",this._onTouchEnd,this),ie(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,u=a.mouseEventToContainerPoint(r.touches[0]),h=a.mouseEventToContainerPoint(r.touches[1]),d=u.distanceTo(h)/this._startDist;if(this._zoom=a.getScaleZoom(d,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&d<1||this._zoom>a.getMaxZoom()&&d>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var m=u._add(h)._divideBy(2)._subtract(this._centerPoint);if(d===1&&m.x===0&&m.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Kt(this._animRequest);var y=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Et(y,this,!0),ie(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Kt(this._animRequest),Tt(document,"touchmove",this._onTouchMove,this),Tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ut.addInitHook("addHandler","touchZoom",Ym),ut.BoxZoom=Wm,ut.DoubleClickZoom=Zm,ut.Drag=qm,ut.Keyboard=Gm,ut.ScrollWheelZoom=Km,ut.TapHold=Qm,ut.TouchZoom=Ym,n.Bounds=Q,n.Browser=W,n.CRS=xe,n.Canvas=$m,n.Circle=Mc,n.CircleMarker=Ea,n.Class=We,n.Control=nn,n.DivIcon=Fm,n.DivOverlay=_n,n.DomEvent=VE,n.DomUtil=NE,n.Draggable=Yn,n.Evented=Ln,n.FeatureGroup=Mn,n.GeoJSON=Nn,n.GridLayer=Ro,n.Handler=mn,n.Icon=pr,n.ImageOverlay=Ca,n.LatLng=pt,n.LatLngBounds=Ht,n.Layer=rn,n.LayerGroup=dr,n.LineUtil=KE,n.Map=ut,n.Marker=wa,n.Mixin=jE,n.Path=Xn,n.Point=k,n.PolyUtil=HE,n.Polygon=mr,n.Polyline=Dn,n.Popup=Aa,n.PosAnimation=wm,n.Projection=QE,n.Rectangle=Hm,n.Renderer=On,n.SVG=Mo,n.SVGOverlay=zm,n.TileLayer=gr,n.Tooltip=xa,n.Transformation=rc,n.Util=Li,n.VideoOverlay=Vm,n.bind=l,n.bounds=ht,n.canvas=Um,n.circle=rT,n.circleMarker=iT,n.control=Ao,n.divIcon=dT,n.extend=o,n.featureGroup=tT,n.geoJSON=Om,n.geoJson=aT,n.gridLayer=pT,n.icon=eT,n.imageOverlay=lT,n.latLng=tt,n.latLngBounds=yt,n.layerGroup=JE,n.map=zE,n.marker=nT,n.point=O,n.polygon=sT,n.polyline=oT,n.popup=hT,n.rectangle=gT,n.setOptions=C,n.stamp=f,n.svg=jm,n.svgOverlay=cT,n.tileLayer=Bm,n.tooltip=fT,n.transformation=yo,n.version=i,n.videoOverlay=uT;var yT=window.L;n.noConflict=function(){return window.L=yT,this},window.L=n})})(yf,yf.exports);var Qs=yf.exports;function Su(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function qd(e,t){return t==null?function(i,o){const s=st.useRef();return s.current||(s.current=e(i,o)),s}:function(i,o){const s=st.useRef();s.current||(s.current=e(i,o));const l=st.useRef(i),{instance:c}=s.current;return st.useEffect(function(){l.current!==i&&(t(c,i,l.current),l.current=i)},[c,i,o]),s}}function hI(e,t){st.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var s;(s=t.layerContainer)==null||s.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function R0(e){return function(n){const i=Wd(),o=e(Zd(n,i),i);return C0(i.map,n.attribution),k0(o.current,n.eventHandlers),hI(o.current,i),o}}function fI(e,t){const n=qd(e,t),i=R0(n);return aI(i)}function L0(e,t){const n=qd(e),i=cI(n,t);return lI(i)}function dI(e,t){const n=qd(e,t),i=R0(n);return uI(i)}function pI(e,t,n){const{opacity:i,zIndex:o}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function mI(){return Wd().map}function _I(e){const t=mI();return st.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function wf(){return wf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wf.apply(this,arguments)}function gI({bounds:e,boundsOptions:t,center:n,children:i,className:o,id:s,placeholder:l,style:c,whenReady:f,zoom:p,..._},g){const[v]=st.useState({className:o,id:s,style:c}),[P,A]=st.useState(null);st.useImperativeHandle(g,()=>(P==null?void 0:P.map)??null,[P]);const C=st.useCallback(E=>{if(E!==null&&P===null){const w=new Qs.Map(E,_);n!=null&&p!=null?w.setView(n,p):e!=null&&w.fitBounds(e,t),f!=null&&w.whenReady(f),A(oI(w))}},[]);st.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const V=P?yl.createElement(x0,{value:P},i):l??null;return yl.createElement("div",wf({},v,{ref:C}),V)}const vI=st.forwardRef(gI),yI=fI(function({position:t,...n},i){const o=new Qs.Marker(t,n);return Su(o,sI(i,{overlayContainer:o}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),wI=L0(function(t,n){const i=new Qs.Popup(t,n.overlayContainer);return Su(i,n)},function(t,n,{position:i},o){st.useEffect(function(){const{instance:l}=t;function c(p){p.popup===l&&(l.update(),o(!0))}function f(p){p.popup===l&&o(!1)}return n.map.on({popupopen:c,popupclose:f}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var _;n.map.off({popupopen:c,popupclose:f}),(_=n.overlayContainer)==null||_.unbindPopup(),n.map.removeLayer(l)}},[t,n,o,i])}),EI=dI(function({url:t,...n},i){const o=new Qs.TileLayer(t,Zd(n,i));return Su(o,i)},function(t,n,i){pI(t,n,i);const{url:o}=n;o!=null&&o!==i.url&&t.setUrl(o)}),TI=L0(function(t,n){const i=new Qs.Tooltip(t,n.overlayContainer);return Su(i,n)},function(t,n,{position:i},o){st.useEffect(function(){const l=n.overlayContainer;if(l==null)return;const{instance:c}=t,f=_=>{_.tooltip===c&&(i!=null&&c.setLatLng(i),c.update(),o(!0))},p=_=>{_.tooltip===c&&o(!1)};return l.on({tooltipopen:f,tooltipclose:p}),l.bindTooltip(c),function(){l.off({tooltipopen:f,tooltipclose:p}),l._map!=null&&l.unbindTooltip()}},[t,n,o,i])});class PI{constructor(t,n){yr(this,"location");yr(this,"timestamp");yr(this,"next");this.location=t,this.timestamp=n,this.next=null}}class SI{constructor(){yr(this,"first");yr(this,"last");this.first=null,this.last=null}enqueue(t,n){const i=new PI(t,n);this.last===null?(this.first=i,this.last=i):(this.last.next=i,this.last=i)}dequeue(){if(this.first===null)return null;const t=this.first;return this.first=this.first.next,this.first===null&&(this.last=null),t}}const Gd=new SI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},II=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){const s=e[n++];t[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=e[n++],l=e[n++],c=e[n++],f=((o&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const s=e[n++],l=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|l&63)}}return t.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<e.length;o+=3){const s=e[o],l=o+1<e.length,c=l?e[o+1]:0,f=o+2<e.length,p=f?e[o+2]:0,_=s>>2,g=(s&3)<<4|c>>4;let v=(c&15)<<2|p>>6,P=p&63;f||(P=64,l||(v=64)),i.push(n[_],n[g],n[v],n[P])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(M0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):II(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<e.length;){const s=n[e.charAt(o++)],c=o<e.length?n[e.charAt(o)]:0;++o;const p=o<e.length?n[e.charAt(o)]:64;++o;const g=o<e.length?n[e.charAt(o)]:64;if(++o,s==null||c==null||p==null||g==null)throw new CI;const v=s<<2|c>>4;if(i.push(v),p!==64){const P=c<<4&240|p>>2;if(i.push(P),g!==64){const A=p<<6&192|g;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class CI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AI=function(e){const t=M0(e);return D0.encodeByteArray(t,!0)},Hl=function(e){return AI(e).replace(/\./g,"")},xI=function(e){try{return D0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=()=>kI().__FIREBASE_DEFAULTS__,LI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},MI=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&xI(e[1]);return t&&JSON.parse(t)},N0=()=>{try{return RI()||LI()||MI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},DI=e=>{var t,n;return(n=(t=N0())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},NI=e=>{const t=DI(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},O0=()=>{var e;return(e=N0())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),c="";return[Hl(JSON.stringify(n)),Hl(JSON.stringify(l)),c].join(".")}function zI(){try{return typeof indexedDB=="object"}catch{return!1}}function FI(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;t(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="FirebaseError";class fo extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=BI,Object.setPrototypeOf(this,fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V0.prototype.create)}}class V0{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},o=`${this.service}/${t}`,s=this.errors[t],l=s?bI(s,i):"Error",c=`${this.serviceName}: ${l} (${o}).`;return new fo(o,c,i)}}function bI(e,t){return e.replace($I,(n,i)=>{const o=t[i];return o!=null?String(o):`<${i}?>`})}const $I=/\{\$([^}]+)}/g;function Ef(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const o of n){if(!i.includes(o))return!1;const s=e[o],l=t[o];if(cg(s)&&cg(l)){if(!Ef(s,l))return!1}else if(s!==l)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function cg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(e){return e&&e._delegate?e._delegate:e}class ks{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new OI;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HI(t))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});i.resolve(s)}catch{}}}}clearInstance(t=Bi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Bi){return this.instances.has(t)}getOptions(t=Bi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);i===c&&l.resolve(o)}return o}onInit(t,n){var i;const o=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(o,s);const l=this.instances.get(o);return l&&t(l,o),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jI(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Bi){return this.component?this.component.multipleInstances?t:Bi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jI(e){return e===Bi?void 0:e}function HI(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new UI(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ft||(ft={}));const ZI={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},qI=ft.INFO,GI={[ft.DEBUG]:"log",[ft.VERBOSE]:"log",[ft.INFO]:"info",[ft.WARN]:"warn",[ft.ERROR]:"error"},KI=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),o=GI[t];if(o)console[o](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class z0{constructor(t){this.name=t,this._logLevel=qI,this._logHandler=KI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ZI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ft.DEBUG,...t),this._logHandler(this,ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ft.VERBOSE,...t),this._logHandler(this,ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ft.INFO,...t),this._logHandler(this,ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ft.WARN,...t),this._logHandler(this,ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ft.ERROR,...t),this._logHandler(this,ft.ERROR,...t)}}const QI=(e,t)=>t.some(n=>e instanceof n);let hg,fg;function YI(){return hg||(hg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XI(){return fg||(fg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F0=new WeakMap,Tf=new WeakMap,B0=new WeakMap,uh=new WeakMap,Kd=new WeakMap;function JI(e){const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("success",s),e.removeEventListener("error",l)},s=()=>{n(mi(e.result)),o()},l=()=>{i(e.error),o()};e.addEventListener("success",s),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&F0.set(n,e)}).catch(()=>{}),Kd.set(t,e),t}function tC(e){if(Tf.has(e))return;const t=new Promise((n,i)=>{const o=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",l),e.removeEventListener("abort",l)},s=()=>{n(),o()},l=()=>{i(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",s),e.addEventListener("error",l),e.addEventListener("abort",l)});Tf.set(e,t)}let Pf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Tf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||B0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function eC(e){Pf=e(Pf)}function nC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(ch(this),t,...n);return B0.set(i,t.sort?t.sort():[t]),mi(i)}:XI().includes(e)?function(...t){return e.apply(ch(this),t),mi(F0.get(this))}:function(...t){return mi(e.apply(ch(this),t))}}function iC(e){return typeof e=="function"?nC(e):(e instanceof IDBTransaction&&tC(e),QI(e,YI())?new Proxy(e,Pf):e)}function mi(e){if(e instanceof IDBRequest)return JI(e);if(uh.has(e))return uh.get(e);const t=iC(e);return t!==e&&(uh.set(e,t),Kd.set(t,e)),t}const ch=e=>Kd.get(e);function rC(e,t,{blocked:n,upgrade:i,blocking:o,terminated:s}={}){const l=indexedDB.open(e,t),c=mi(l);return i&&l.addEventListener("upgradeneeded",f=>{i(mi(l.result),f.oldVersion,f.newVersion,mi(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const oC=["get","getKey","getAll","getAllKeys","count"],sC=["put","add","delete","clear"],hh=new Map;function dg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(hh.get(t))return hh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,o=sC.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||oC.includes(n)))return;const s=async function(l,...c){const f=this.transaction(l,o?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),o&&f.done]))[0]};return hh.set(t,s),s}eC(e=>({...e,get:(t,n,i)=>dg(t,n)||e.get(t,n,i),has:(t,n)=>!!dg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lC(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function lC(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sf="@firebase/app",pg="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new z0("@firebase/app"),uC="@firebase/app-compat",cC="@firebase/analytics-compat",hC="@firebase/analytics",fC="@firebase/app-check-compat",dC="@firebase/app-check",pC="@firebase/auth",mC="@firebase/auth-compat",_C="@firebase/database",gC="@firebase/database-compat",vC="@firebase/functions",yC="@firebase/functions-compat",wC="@firebase/installations",EC="@firebase/installations-compat",TC="@firebase/messaging",PC="@firebase/messaging-compat",SC="@firebase/performance",IC="@firebase/performance-compat",CC="@firebase/remote-config",AC="@firebase/remote-config-compat",xC="@firebase/storage",kC="@firebase/storage-compat",RC="@firebase/firestore",LC="@firebase/firestore-compat",MC="firebase",DC="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",NC={[Sf]:"fire-core",[uC]:"fire-core-compat",[hC]:"fire-analytics",[cC]:"fire-analytics-compat",[dC]:"fire-app-check",[fC]:"fire-app-check-compat",[pC]:"fire-auth",[mC]:"fire-auth-compat",[_C]:"fire-rtdb",[gC]:"fire-rtdb-compat",[vC]:"fire-fn",[yC]:"fire-fn-compat",[wC]:"fire-iid",[EC]:"fire-iid-compat",[TC]:"fire-fcm",[PC]:"fire-fcm-compat",[SC]:"fire-perf",[IC]:"fire-perf-compat",[CC]:"fire-rc",[AC]:"fire-rc-compat",[xC]:"fire-gcs",[kC]:"fire-gcs-compat",[RC]:"fire-fst",[LC]:"fire-fst-compat","fire-js":"fire-js",[MC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new Map,Cf=new Map;function OC(e,t){try{e.container.addComponent(t)}catch(n){tr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Zl(e){const t=e.name;if(Cf.has(t))return tr.debug(`There were multiple attempts to register component ${t}.`),!1;Cf.set(t,e);for(const n of Wl.values())OC(n,e);return!0}function VC(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},_i=new V0("app","Firebase",zC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=DC;function b0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:If,automaticDataCollectionEnabled:!1},t),o=i.name;if(typeof o!="string"||!o)throw _i.create("bad-app-name",{appName:String(o)});if(n||(n=O0()),!n)throw _i.create("no-options");const s=Wl.get(o);if(s){if(Ef(n,s.options)&&Ef(i,s.config))return s;throw _i.create("duplicate-app",{appName:o})}const l=new WI(o);for(const f of Cf.values())l.addComponent(f);const c=new FC(n,i,l);return Wl.set(o,c),c}function bC(e=If){const t=Wl.get(e);if(!t&&e===If&&O0())return b0();if(!t)throw _i.create("no-app",{appName:e});return t}function Hr(e,t,n){var i;let o=(i=NC[e])!==null&&i!==void 0?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),l=t.match(/\s|\//);if(s||l){const c=[`Unable to register library "${o}" with version "${t}":`];s&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tr.warn(c.join(" "));return}Zl(new ks(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="firebase-heartbeat-database",UC=1,Rs="firebase-heartbeat-store";let fh=null;function $0(){return fh||(fh=rC($C,UC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Rs)}}}).catch(e=>{throw _i.create("idb-open",{originalErrorMessage:e.message})})),fh}async function jC(e){try{return await(await $0()).transaction(Rs).objectStore(Rs).get(U0(e))}catch(t){if(t instanceof fo)tr.warn(t.message);else{const n=_i.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});tr.warn(n.message)}}}async function mg(e,t){try{const i=(await $0()).transaction(Rs,"readwrite");await i.objectStore(Rs).put(t,U0(e)),await i.done}catch(n){if(n instanceof fo)tr.warn(n.message);else{const i=_i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(i.message)}}}function U0(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=1024,WC=30*24*60*60*1e3;class ZC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_g();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=WC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_g(),{heartbeatsToSend:n,unsentEntries:i}=qC(this._heartbeatsCache.heartbeats),o=Hl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function _g(){return new Date().toISOString().substring(0,10)}function qC(e,t=HC){const n=[];let i=e.slice();for(const o of e){const s=n.find(l=>l.agent===o.agent);if(s){if(s.dates.push(o.date),gg(n)>t){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),gg(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class GC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zI()?FI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return mg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return mg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function gg(e){return Hl(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(e){Zl(new ks("platform-logger",t=>new aC(t),"PRIVATE")),Zl(new ks("heartbeat",t=>new ZC(t),"PRIVATE")),Hr(Sf,pg,e),Hr(Sf,pg,"esm2017"),Hr("fire-js","")}KC("");var QC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,Qd=Qd||{},Y=QC||self;function Iu(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ys(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function YC(e){return Object.prototype.hasOwnProperty.call(e,dh)&&e[dh]||(e[dh]=++XC)}var dh="closure_uid_"+(1e9*Math.random()>>>0),XC=0;function JC(e,t,n){return e.call.apply(e.bind,arguments)}function tA(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function ve(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ve=JC:ve=tA,ve.apply(null,arguments)}function Ga(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function ee(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,o,s){for(var l=Array(arguments.length-2),c=2;c<arguments.length;c++)l[c-2]=arguments[c];return t.prototype[o].apply(i,l)}}function xi(){this.s=this.s,this.o=this.o}var eA=0;xi.prototype.s=!1;xi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),eA!=0)&&YC(this)};xi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const j0=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Yd(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function vg(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Iu(i)){const o=e.length||0,s=i.length||0;e.length=o+s;for(let l=0;l<s;l++)e[o+l]=i[l]}else e.push(i)}}function ye(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var nA=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Y.addEventListener("test",()=>{},t),Y.removeEventListener("test",()=>{},t)}catch{}return e}();function Ls(e){return/^[\s\xa0]*$/.test(e)}function Cu(){var e=Y.navigator;return e&&(e=e.userAgent)?e:""}function En(e){return Cu().indexOf(e)!=-1}function Xd(e){return Xd[" "](e),e}Xd[" "]=function(){};function iA(e,t){var n=KA;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var rA=En("Opera"),eo=En("Trident")||En("MSIE"),H0=En("Edge"),Af=H0||eo,W0=En("Gecko")&&!(Cu().toLowerCase().indexOf("webkit")!=-1&&!En("Edge"))&&!(En("Trident")||En("MSIE"))&&!En("Edge"),oA=Cu().toLowerCase().indexOf("webkit")!=-1&&!En("Edge");function Z0(){var e=Y.document;return e?e.documentMode:void 0}var xf;t:{var ph="",mh=function(){var e=Cu();if(W0)return/rv:([^\);]+)(\)|;)/.exec(e);if(H0)return/Edge\/([\d\.]+)/.exec(e);if(eo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(oA)return/WebKit\/(\S+)/.exec(e);if(rA)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(mh&&(ph=mh?mh[1]:""),eo){var _h=Z0();if(_h!=null&&_h>parseFloat(ph)){xf=String(_h);break t}}xf=ph}var kf;if(Y.document&&eo){var yg=Z0();kf=yg||parseInt(xf,10)||void 0}else kf=void 0;var sA=kf;function Ms(e,t){if(ye.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(W0){t:{try{Xd(t.nodeName);var o=!0;break t}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:aA[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ms.$.h.call(this)}}ee(Ms,ye);var aA={2:"touch",3:"pen",4:"mouse"};Ms.prototype.h=function(){Ms.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xs="closure_listenable_"+(1e6*Math.random()|0),lA=0;function uA(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=o,this.key=++lA,this.fa=this.ia=!1}function Au(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Jd(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function cA(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function q0(e){const t={};for(const n in e)t[n]=e[n];return t}const wg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G0(e,t){let n,i;for(let o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(let s=0;s<wg.length;s++)n=wg[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function xu(e){this.src=e,this.g={},this.h=0}xu.prototype.add=function(e,t,n,i,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var l=Lf(e,t,i,o);return-1<l?(t=e[l],n||(t.ia=!1)):(t=new uA(t,this.src,s,!!i,o),t.ia=n,e.push(t)),t};function Rf(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=j0(i,t),s;(s=0<=o)&&Array.prototype.splice.call(i,o,1),s&&(Au(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Lf(e,t,n,i){for(var o=0;o<e.length;++o){var s=e[o];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==i)return o}return-1}var tp="closure_lm_"+(1e6*Math.random()|0),gh={};function K0(e,t,n,i,o){if(i&&i.once)return Y0(e,t,n,i,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)K0(e,t[s],n,i,o);return null}return n=ip(n),e&&e[Xs]?e.O(t,n,Ys(i)?!!i.capture:!!i,o):Q0(e,t,n,!1,i,o)}function Q0(e,t,n,i,o,s){if(!t)throw Error("Invalid event type");var l=Ys(o)?!!o.capture:!!o,c=np(e);if(c||(e[tp]=c=new xu(e)),n=c.add(t,n,i,l,s),n.proxy)return n;if(i=hA(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)nA||(o=l),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(J0(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hA(){function e(n){return t.call(e.src,e.listener,n)}const t=fA;return e}function Y0(e,t,n,i,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Y0(e,t[s],n,i,o);return null}return n=ip(n),e&&e[Xs]?e.P(t,n,Ys(i)?!!i.capture:!!i,o):Q0(e,t,n,!0,i,o)}function X0(e,t,n,i,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)X0(e,t[s],n,i,o);else i=Ys(i)?!!i.capture:!!i,n=ip(n),e&&e[Xs]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Lf(s,n,i,o),-1<n&&(Au(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=np(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Lf(t,n,i,o)),(n=-1<e?t[e]:null)&&ep(n))}function ep(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Xs])Rf(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(J0(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=np(t))?(Rf(n,e),n.h==0&&(n.src=null,t[tp]=null)):Au(e)}}}function J0(e){return e in gh?gh[e]:gh[e]="on"+e}function fA(e,t){if(e.fa)e=!0;else{t=new Ms(t,this);var n=e.listener,i=e.la||e.src;e.ia&&ep(e),e=n.call(i,t)}return e}function np(e){return e=e[tp],e instanceof xu?e:null}var vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ip(e){return typeof e=="function"?e:(e[vh]||(e[vh]=function(t){return e.handleEvent(t)}),e[vh])}function te(){xi.call(this),this.i=new xu(this),this.S=this,this.J=null}ee(te,xi);te.prototype[Xs]=!0;te.prototype.removeEventListener=function(e,t,n,i){X0(this,e,t,n,i)};function ue(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new ye(t,e);else if(t instanceof ye)t.target=t.target||e;else{var o=t;t=new ye(i,e),G0(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var l=t.g=n[s];o=Ka(l,i,!0,t)&&o}if(l=t.g=e,o=Ka(l,i,!0,t)&&o,o=Ka(l,i,!1,t)&&o,n)for(s=0;s<n.length;s++)l=t.g=n[s],o=Ka(l,i,!1,t)&&o}te.prototype.N=function(){if(te.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Au(n[i]);delete e.g[t],e.h--}}this.J=null};te.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};te.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Ka(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var l=t[s];if(l&&!l.fa&&l.capture==n){var c=l.listener,f=l.la||l.src;l.ia&&Rf(e.i,l),o=c.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var rp=Y.JSON.stringify;class dA{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function pA(){var e=op;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class mA{constructor(){this.h=this.g=null}add(t,n){const i=tw.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var tw=new dA(()=>new _A,e=>e.reset());class _A{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gA(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function vA(e){Y.setTimeout(()=>{throw e},0)}let Ds,Ns=!1,op=new mA,ew=()=>{const e=Y.Promise.resolve(void 0);Ds=()=>{e.then(yA)}};var yA=()=>{for(var e;e=pA();){try{e.h.call(e.g)}catch(n){vA(n)}var t=tw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ns=!1};function ku(e,t){te.call(this),this.h=e||1,this.g=t||Y,this.j=ve(this.qb,this),this.l=Date.now()}ee(ku,te);F=ku.prototype;F.ga=!1;F.T=null;F.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ue(this,"tick"),this.ga&&(sp(this),this.start()))}};F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sp(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}F.N=function(){ku.$.N.call(this),sp(this),delete this.g};function ap(e,t,n){if(typeof e=="function")n&&(e=ve(e,n));else if(e&&typeof e.handleEvent=="function")e=ve(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Y.setTimeout(e,t||0)}function nw(e){e.g=ap(()=>{e.g=null,e.i&&(e.i=!1,nw(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class wA extends xi{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:nw(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(e){xi.call(this),this.h=e,this.g={}}ee(Os,xi);var Eg=[];function iw(e,t,n,i){Array.isArray(n)||(n&&(Eg[0]=n.toString()),n=Eg);for(var o=0;o<n.length;o++){var s=K0(t,n[o],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function rw(e){Jd(e.g,function(t,n){this.g.hasOwnProperty(n)&&ep(t)},e),e.g={}}Os.prototype.N=function(){Os.$.N.call(this),rw(this)};Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ru(){this.g=!0}Ru.prototype.Ea=function(){this.g=!1};function EA(e,t,n,i,o,s){e.info(function(){if(e.g)if(s)for(var l="",c=s.split("&"),f=0;f<c.length;f++){var p=c[f].split("=");if(1<p.length){var _=p[0];p=p[1];var g=_.split("_");l=2<=g.length&&g[1]=="type"?l+(_+"="+p+"&"):l+(_+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+l})}function TA(e,t,n,i,o,s,l){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+l})}function zr(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+SA(e,n)+(i?" "+i:"")})}function PA(e,t){e.info(function(){return"TIMEOUT: "+t})}Ru.prototype.info=function(){};function SA(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var l=1;l<o.length;l++)o[l]=""}}}}return rp(n)}catch{return t}}var ar={},Tg=null;function Lu(){return Tg=Tg||new te}ar.Ta="serverreachability";function ow(e){ye.call(this,ar.Ta,e)}ee(ow,ye);function Vs(e){const t=Lu();ue(t,new ow(t))}ar.STAT_EVENT="statevent";function sw(e,t){ye.call(this,ar.STAT_EVENT,e),this.stat=t}ee(sw,ye);function Se(e){const t=Lu();ue(t,new sw(t,e))}ar.Ua="timingevent";function aw(e,t){ye.call(this,ar.Ua,e),this.size=t}ee(aw,ye);function Js(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){e()},t)}var Mu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lp(){}lp.prototype.h=null;function Pg(e){return e.h||(e.h=e.i())}function uw(){}var ta={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function up(){ye.call(this,"d")}ee(up,ye);function cp(){ye.call(this,"c")}ee(cp,ye);var Mf;function Du(){}ee(Du,lp);Du.prototype.g=function(){return new XMLHttpRequest};Du.prototype.i=function(){return{}};Mf=new Du;function ea(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new Os(this),this.P=IA,e=Af?125:void 0,this.V=new ku(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cw}function cw(){this.i=null,this.g="",this.h=!1}var IA=45e3,Df={},ql={};F=ea.prototype;F.setTimeout=function(e){this.P=e};function Nf(e,t,n){e.L=1,e.v=Ou(Zn(t)),e.s=n,e.S=!0,hw(e,null)}function hw(e,t){e.G=Date.now(),na(e),e.A=Zn(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),yw(n.i,"t",i),e.C=0,n=e.l.J,e.h=new cw,e.g=bw(e.l,n?t:null,!e.s),0<e.O&&(e.M=new wA(ve(e.Pa,e,e.g),e.O)),iw(e.U,e.g,"readystatechange",e.nb),t=e.I?q0(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Vs(),EA(e.j,e.u,e.A,e.m,e.W,e.s)}F.nb=function(e){e=e.target;const t=this.M;t&&Tn(e)==3?t.l():this.Pa(e)};F.Pa=function(e){try{if(e==this.g)t:{const _=Tn(this.g);var t=this.g.Ia();const g=this.g.da();if(!(3>_)&&(_!=3||Af||this.g&&(this.h.h||this.g.ja()||Ag(this.g)))){this.J||_!=4||t==7||(t==8||0>=g?Vs(3):Vs(2)),Nu(this);var n=this.g.da();this.ca=n;e:if(fw(this)){var i=Ag(this.g);e="";var o=i.length,s=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ji(this),as(this);var l="";break e}this.h.i=new Y.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==o-1});i.splice(0,o),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=n==200,TA(this.j,this.u,this.A,this.m,this.W,_,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var c,f=this.g;if((c=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ls(c)){var p=c;break e}}p=null}if(n=p)zr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Of(this,n);else{this.i=!1,this.o=3,Se(12),ji(this),as(this);break t}}this.S?(dw(this,_,l),Af&&this.i&&_==3&&(iw(this.U,this.V,"tick",this.mb),this.V.start())):(zr(this.j,this.m,l,null),Of(this,l)),_==4&&ji(this),this.i&&!this.J&&(_==4?Vw(this.l,this):(this.i=!1,na(this)))}else ZA(this.g),n==400&&0<l.indexOf("Unknown SID")?(this.o=3,Se(12)):(this.o=0,Se(13)),ji(this),as(this)}}}catch{}finally{}};function fw(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function dw(e,t,n){let i=!0,o;for(;!e.J&&e.C<n.length;)if(o=CA(e,n),o==ql){t==4&&(e.o=4,Se(14),i=!1),zr(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Df){e.o=4,Se(15),zr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else zr(e.j,e.m,o,null),Of(e,o);fw(e)&&o!=ql&&o!=Df&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Se(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_p(t),t.M=!0,Se(11))):(zr(e.j,e.m,n,"[Invalid Chunked Response]"),ji(e),as(e))}F.mb=function(){if(this.g){var e=Tn(this.g),t=this.g.ja();this.C<t.length&&(Nu(this),dw(this,e,t),this.i&&e!=4&&na(this))}};function CA(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?ql:(n=Number(t.substring(n,i)),isNaN(n)?Df:(i+=1,i+n>t.length?ql:(t=t.slice(i,i+n),e.C=i+n,t)))}F.cancel=function(){this.J=!0,ji(this)};function na(e){e.Y=Date.now()+e.P,pw(e,e.P)}function pw(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Js(ve(e.lb,e),t)}function Nu(e){e.B&&(Y.clearTimeout(e.B),e.B=null)}F.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(PA(this.j,this.A),this.L!=2&&(Vs(),Se(17)),ji(this),this.o=2,as(this)):pw(this,this.Y-e)};function as(e){e.l.H==0||e.J||Vw(e.l,e)}function ji(e){Nu(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,sp(e.V),rw(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Of(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Vf(n.i,e))){if(!e.K&&Vf(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Ql(n),Fu(n);else break t;mp(n),Se(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=Js(ve(n.ib,n),6e3));if(1>=Tw(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Hi(n,11)}else if((e.K||n.g==e)&&Ql(n),!Ls(t))for(o=n.Ja.g.parse(t),t=0;t<o.length;t++){let p=o[t];if(n.V=p[0],p=p[1],n.H==2)if(p[0]=="c"){n.K=p[1],n.pa=p[2];const _=p[3];_!=null&&(n.ra=_,n.l.info("VER="+n.ra));const g=p[4];g!=null&&(n.Ga=g,n.l.info("SVER="+n.Ga));const v=p[5];v!=null&&typeof v=="number"&&0<v&&(i=1.5*v,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const P=e.g;if(P){const A=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var s=i.i;s.g||A.indexOf("spdy")==-1&&A.indexOf("quic")==-1&&A.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(hp(s,s.h),s.h=null))}if(i.F){const C=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(i.Da=C,It(i.I,i.F,C))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var l=e;if(i.wa=Bw(i,i.J?i.pa:null,i.Y),l.K){Pw(i.i,l);var c=l,f=i.L;f&&c.setTimeout(f),c.B&&(Nu(c),na(c)),i.g=l}else Nw(i);0<n.j.length&&Bu(n)}else p[0]!="stop"&&p[0]!="close"||Hi(n,7);else n.H==3&&(p[0]=="stop"||p[0]=="close"?p[0]=="stop"?Hi(n,7):pp(n):p[0]!="noop"&&n.h&&n.h.Aa(p),n.A=0)}}Vs(4)}catch{}}function AA(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Iu(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function xA(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Iu(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function mw(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Iu(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=xA(e),i=AA(e),o=i.length,s=0;s<o;s++)t.call(void 0,i[s],n&&n[s],e)}var _w=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kA(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var s=e[n].substring(0,i);o=e[n].substring(i+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Gi(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Gi){this.h=e.h,Gl(this,e.j),this.s=e.s,this.g=e.g,Kl(this,e.m),this.l=e.l;var t=e.i,n=new zs;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Sg(this,n),this.o=e.o}else e&&(t=String(e).match(_w))?(this.h=!1,Gl(this,t[1]||"",!0),this.s=Go(t[2]||""),this.g=Go(t[3]||"",!0),Kl(this,t[4]),this.l=Go(t[5]||"",!0),Sg(this,t[6]||"",!0),this.o=Go(t[7]||"")):(this.h=!1,this.i=new zs(null,this.h))}Gi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ko(t,Ig,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ko(t,Ig,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Ko(n,n.charAt(0)=="/"?MA:LA,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ko(n,NA)),e.join("")};function Zn(e){return new Gi(e)}function Gl(e,t,n){e.j=n?Go(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Kl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Sg(e,t,n){t instanceof zs?(e.i=t,OA(e.i,e.h)):(n||(t=Ko(t,DA)),e.i=new zs(t,e.h))}function It(e,t,n){e.i.set(t,n)}function Ou(e){return It(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Go(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ko(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,RA),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function RA(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ig=/[#\/\?@]/g,LA=/[#\?:]/g,MA=/[#\?]/g,DA=/[#\?@]/g,NA=/#/g;function zs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ki(e){e.g||(e.g=new Map,e.h=0,e.i&&kA(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}F=zs.prototype;F.add=function(e,t){ki(this),this.i=null,e=po(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function gw(e,t){ki(e),t=po(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vw(e,t){return ki(e),t=po(e,t),e.g.has(t)}F.forEach=function(e,t){ki(this),this.g.forEach(function(n,i){n.forEach(function(o){e.call(t,o,i,this)},this)},this)};F.ta=function(){ki(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const o=e[i];for(let s=0;s<o.length;s++)n.push(t[i])}return n};F.Z=function(e){ki(this);let t=[];if(typeof e=="string")vw(this,e)&&(t=t.concat(this.g.get(po(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};F.set=function(e,t){return ki(this),this.i=null,e=po(this,e),vw(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};F.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function yw(e,t,n){gw(e,t),0<n.length&&(e.i=null,e.g.set(po(e,t),Yd(n)),e.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var o=s;l[i]!==""&&(o+="="+encodeURIComponent(String(l[i]))),e.push(o)}}return this.i=e.join("&")};function po(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function OA(e,t){t&&!e.j&&(ki(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(gw(this,i),yw(this,o,n))},e)),e.j=t}var VA=class{constructor(e,t){this.g=e,this.map=t}};function ww(e){this.l=e||zA,Y.PerformanceNavigationTiming?(e=Y.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zA=10;function Ew(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Tw(e){return e.h?1:e.g?e.g.size:0}function Vf(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function hp(e,t){e.g?e.g.add(t):e.h=t}function Pw(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}ww.prototype.cancel=function(){if(this.i=Sw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Sw(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Yd(e.i)}var FA=class{stringify(e){return Y.JSON.stringify(e,void 0)}parse(e){return Y.JSON.parse(e,void 0)}};function BA(){this.g=new FA}function bA(e,t,n){const i=n||"";try{mw(e,function(o,s){let l=o;Ys(o)&&(l=rp(o)),t.push(i+s+"="+encodeURIComponent(l))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function $A(e,t){const n=new Ru;if(Y.Image){const i=new Image;i.onload=Ga(Qa,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Ga(Qa,n,i,"TestLoadImage: error",!1,t),i.onabort=Ga(Qa,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Ga(Qa,n,i,"TestLoadImage: timeout",!1,t),Y.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Qa(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function ia(e){this.l=e.ec||null,this.j=e.ob||!1}ee(ia,lp);ia.prototype.g=function(){return new Vu(this.l,this.j)};ia.prototype.i=function(e){return function(){return e}}({});function Vu(e,t){te.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=fp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ee(Vu,te);var fp=0;F=Vu.prototype;F.open=function(e,t){if(this.readyState!=fp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fs(this)};F.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Y).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ra(this)),this.readyState=fp};F.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fs(this)),this.g&&(this.readyState=3,Fs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Iw(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Iw(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}F.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ra(this):Fs(this),this.readyState==3&&Iw(this)}};F.Za=function(e){this.g&&(this.response=this.responseText=e,ra(this))};F.Ya=function(e){this.g&&(this.response=e,ra(this))};F.ka=function(){this.g&&ra(this)};function ra(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fs(e)}F.setRequestHeader=function(e,t){this.v.append(e,t)};F.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Fs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var UA=Y.JSON.parse;function Vt(e){te.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Cw,this.L=this.M=!1}ee(Vt,te);var Cw="",jA=/^https?$/i,HA=["POST","PUT"];F=Vt.prototype;F.Oa=function(e){this.M=e};F.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Mf.g(),this.C=this.u?Pg(this.u):Pg(Mf),this.g.onreadystatechange=ve(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){Cg(this,s);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var o in i)n.set(o,i[o]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),o=Y.FormData&&e instanceof Y.FormData,!(0<=j0(HA,t))||i||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of n)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kw(this),0<this.B&&((this.L=WA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ve(this.ua,this)):this.A=ap(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Cg(this,s)}};function WA(e){return eo&&typeof e.timeout=="number"&&e.ontimeout!==void 0}F.ua=function(){typeof Qd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ue(this,"timeout"),this.abort(8))};function Cg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Aw(e),zu(e)}function Aw(e){e.F||(e.F=!0,ue(e,"complete"),ue(e,"error"))}F.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ue(this,"complete"),ue(this,"abort"),zu(this))};F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zu(this,!0)),Vt.$.N.call(this)};F.La=function(){this.s||(this.G||this.v||this.l?xw(this):this.kb())};F.kb=function(){xw(this)};function xw(e){if(e.h&&typeof Qd<"u"&&(!e.C[1]||Tn(e)!=4||e.da()!=2)){if(e.v&&Tn(e)==4)ap(e.La,0,e);else if(ue(e,"readystatechange"),Tn(e)==4){e.h=!1;try{const l=e.da();t:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=l===0){var o=String(e.I).match(_w)[1]||null;!o&&Y.self&&Y.self.location&&(o=Y.self.location.protocol.slice(0,-1)),i=!jA.test(o?o.toLowerCase():"")}n=i}if(n)ue(e,"complete"),ue(e,"success");else{e.m=6;try{var s=2<Tn(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",Aw(e)}}finally{zu(e)}}}}function zu(e,t){if(e.g){kw(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ue(e,"ready");try{n.onreadystatechange=i}catch{}}}function kw(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Y.clearTimeout(e.A),e.A=null)}F.isActive=function(){return!!this.g};function Tn(e){return e.g?e.g.readyState:0}F.da=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}};F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),UA(t)}};function Ag(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Cw:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function ZA(e){const t={};e=(e.g&&2<=Tn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(Ls(e[i]))continue;var n=gA(e[i]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[o]||[];t[o]=s,s.push(n)}cA(t,function(i){return i.join(", ")})}F.Ia=function(){return this.m};F.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Rw(e){let t="";return Jd(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function dp(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Rw(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):It(e,t,n))}function $o(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Lw(e){this.Ga=0,this.j=[],this.l=new Ru,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$o("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$o("baseRetryDelayMs",5e3,e),this.hb=$o("retryDelaySeedMs",1e4,e),this.eb=$o("forwardChannelMaxRetries",2,e),this.xa=$o("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ww(e&&e.concurrentRequestLimit),this.Ja=new BA,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}F=Lw.prototype;F.ra=8;F.H=1;function pp(e){if(Mw(e),e.H==3){var t=e.W++,n=Zn(e.I);if(It(n,"SID",e.K),It(n,"RID",t),It(n,"TYPE","terminate"),oa(e,n),t=new ea(e,e.l,t),t.L=2,t.v=Ou(Zn(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=t.v,n=!0),n||(t.g=bw(t.l,null),t.g.ha(t.v)),t.G=Date.now(),na(t)}Fw(e)}function Fu(e){e.g&&(_p(e),e.g.cancel(),e.g=null)}function Mw(e){Fu(e),e.u&&(Y.clearTimeout(e.u),e.u=null),Ql(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Y.clearTimeout(e.m),e.m=null)}function Bu(e){if(!Ew(e.i)&&!e.m){e.m=!0;var t=e.Na;Ds||ew(),Ns||(Ds(),Ns=!0),op.add(t,e),e.C=0}}function qA(e,t){return Tw(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Js(ve(e.Na,e,t),zw(e,e.C)),e.C++,!0)}F.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const o=new ea(this,this.l,e);let s=this.s;if(this.U&&(s?(s=q0(s),G0(s,this.U)):s=this.U),this.o!==null||this.O||(o.I=s,s=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=Dw(this,o,t),n=Zn(this.I),It(n,"RID",e),It(n,"CVER",22),this.F&&It(n,"X-HTTP-Session-Id",this.F),oa(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Rw(s)))+"&"+t:this.o&&dp(n,this.o,s)),hp(this.i,o),this.bb&&It(n,"TYPE","init"),this.P?(It(n,"$req",t),It(n,"SID","null"),o.aa=!0,Nf(o,n,null)):Nf(o,n,t),this.H=2}}else this.H==3&&(e?xg(this,e):this.j.length==0||Ew(this.i)||xg(this))};function xg(e,t){var n;t?n=t.m:n=e.W++;const i=Zn(e.I);It(i,"SID",e.K),It(i,"RID",n),It(i,"AID",e.V),oa(e,i),e.o&&e.s&&dp(i,e.o,e.s),n=new ea(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Dw(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),hp(e.i,n),Nf(n,i,t)}function oa(e,t){e.na&&Jd(e.na,function(n,i){It(t,i,n)}),e.h&&mw({},function(n,i){It(t,i,n)})}function Dw(e,t,n){n=Math.min(e.j.length,n);var i=e.h?ve(e.h.Va,e.h,e):null;t:{var o=e.j;let s=-1;for(;;){const l=["count="+n];s==-1?0<n?(s=o[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let c=!0;for(let f=0;f<n;f++){let p=o[f].g;const _=o[f].map;if(p-=s,0>p)s=Math.max(0,o[f].g-100),c=!1;else try{bA(_,l,"req"+p+"_")}catch{i&&i(_)}}if(c){i=l.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function Nw(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ds||ew(),Ns||(Ds(),Ns=!0),op.add(t,e),e.A=0}}function mp(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Js(ve(e.Ma,e),zw(e,e.A)),e.A++,!0)}F.Ma=function(){if(this.u=null,Ow(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Js(ve(this.jb,this),e)}};F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Se(10),Fu(this),Ow(this))};function _p(e){e.B!=null&&(Y.clearTimeout(e.B),e.B=null)}function Ow(e){e.g=new ea(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Zn(e.wa);It(t,"RID","rpc"),It(t,"SID",e.K),It(t,"AID",e.V),It(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&It(t,"TO",e.qa),It(t,"TYPE","xmlhttp"),oa(e,t),e.o&&e.s&&dp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Ou(Zn(t)),n.s=null,n.S=!0,hw(n,e)}F.ib=function(){this.v!=null&&(this.v=null,Fu(this),mp(this),Se(19))};function Ql(e){e.v!=null&&(Y.clearTimeout(e.v),e.v=null)}function Vw(e,t){var n=null;if(e.g==t){Ql(e),_p(e),e.g=null;var i=2}else if(Vf(e.i,t))n=t.F,Pw(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var o=e.C;i=Lu(),ue(i,new aw(i,n)),Bu(e)}else Nw(e);else if(o=t.o,o==3||o==0&&0<t.ca||!(i==1&&qA(e,t)||i==2&&mp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Hi(e,5);break;case 4:Hi(e,10);break;case 3:Hi(e,6);break;default:Hi(e,2)}}}function zw(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Hi(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=ve(e.pb,e);n||(n=new Gi("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||Gl(n,"https"),Ou(n)),$A(n.toString(),i)}else Se(2);e.H=0,e.h&&e.h.za(t),Fw(e),Mw(e)}F.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Se(2)):(this.l.info("Failed to ping google.com"),Se(1))};function Fw(e){if(e.H=0,e.ma=[],e.h){const t=Sw(e.i);(t.length!=0||e.j.length!=0)&&(vg(e.ma,t),vg(e.ma,e.j),e.i.i.length=0,Yd(e.j),e.j.length=0),e.h.ya()}}function Bw(e,t,n){var i=n instanceof Gi?Zn(n):new Gi(n);if(i.g!="")t&&(i.g=t+"."+i.g),Kl(i,i.m);else{var o=Y.location;i=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var s=new Gi(null);i&&Gl(s,i),t&&(s.g=t),o&&Kl(s,o),n&&(s.l=n),i=s}return n=e.F,t=e.Da,n&&t&&It(i,n,t),It(i,"VER",e.ra),oa(e,i),i}function bw(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Vt(new ia({ob:!0})):new Vt(e.va),t.Oa(e.J),t}F.isActive=function(){return!!this.h&&this.h.isActive(this)};function $w(){}F=$w.prototype;F.Ba=function(){};F.Aa=function(){};F.za=function(){};F.ya=function(){};F.isActive=function(){return!0};F.Va=function(){};function Yl(){if(eo&&!(10<=Number(sA)))throw Error("Environmental error: no available transport.")}Yl.prototype.g=function(e,t){return new Ue(e,t)};function Ue(e,t){te.call(this),this.g=new Lw(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ls(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ls(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new mo(this)}ee(Ue,te);Ue.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Se(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Bw(e,null,e.Y),Bu(e)};Ue.prototype.close=function(){pp(this.g)};Ue.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=rp(e),e=n);t.j.push(new VA(t.fb++,e)),t.H==3&&Bu(t)};Ue.prototype.N=function(){this.g.h=null,delete this.j,pp(this.g),delete this.g,Ue.$.N.call(this)};function Uw(e){up.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ee(Uw,up);function jw(){cp.call(this),this.status=1}ee(jw,cp);function mo(e){this.g=e}ee(mo,$w);mo.prototype.Ba=function(){ue(this.g,"a")};mo.prototype.Aa=function(e){ue(this.g,new Uw(e))};mo.prototype.za=function(e){ue(this.g,new jw)};mo.prototype.ya=function(){ue(this.g,"b")};function GA(){this.blockSize=-1}function fn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ee(fn,GA);fn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function yh(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var o=0;16>o;++o)i[o]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(o=0;16>o;++o)i[o]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],o=e.g[2];var s=e.g[3],l=t+(s^n&(o^s))+i[0]+3614090360&4294967295;t=n+(l<<7&4294967295|l>>>25),l=s+(o^t&(n^o))+i[1]+3905402710&4294967295,s=t+(l<<12&4294967295|l>>>20),l=o+(n^s&(t^n))+i[2]+606105819&4294967295,o=s+(l<<17&4294967295|l>>>15),l=n+(t^o&(s^t))+i[3]+3250441966&4294967295,n=o+(l<<22&4294967295|l>>>10),l=t+(s^n&(o^s))+i[4]+4118548399&4294967295,t=n+(l<<7&4294967295|l>>>25),l=s+(o^t&(n^o))+i[5]+1200080426&4294967295,s=t+(l<<12&4294967295|l>>>20),l=o+(n^s&(t^n))+i[6]+2821735955&4294967295,o=s+(l<<17&4294967295|l>>>15),l=n+(t^o&(s^t))+i[7]+4249261313&4294967295,n=o+(l<<22&4294967295|l>>>10),l=t+(s^n&(o^s))+i[8]+1770035416&4294967295,t=n+(l<<7&4294967295|l>>>25),l=s+(o^t&(n^o))+i[9]+2336552879&4294967295,s=t+(l<<12&4294967295|l>>>20),l=o+(n^s&(t^n))+i[10]+4294925233&4294967295,o=s+(l<<17&4294967295|l>>>15),l=n+(t^o&(s^t))+i[11]+2304563134&4294967295,n=o+(l<<22&4294967295|l>>>10),l=t+(s^n&(o^s))+i[12]+1804603682&4294967295,t=n+(l<<7&4294967295|l>>>25),l=s+(o^t&(n^o))+i[13]+4254626195&4294967295,s=t+(l<<12&4294967295|l>>>20),l=o+(n^s&(t^n))+i[14]+2792965006&4294967295,o=s+(l<<17&4294967295|l>>>15),l=n+(t^o&(s^t))+i[15]+1236535329&4294967295,n=o+(l<<22&4294967295|l>>>10),l=t+(o^s&(n^o))+i[1]+4129170786&4294967295,t=n+(l<<5&4294967295|l>>>27),l=s+(n^o&(t^n))+i[6]+3225465664&4294967295,s=t+(l<<9&4294967295|l>>>23),l=o+(t^n&(s^t))+i[11]+643717713&4294967295,o=s+(l<<14&4294967295|l>>>18),l=n+(s^t&(o^s))+i[0]+3921069994&4294967295,n=o+(l<<20&4294967295|l>>>12),l=t+(o^s&(n^o))+i[5]+3593408605&4294967295,t=n+(l<<5&4294967295|l>>>27),l=s+(n^o&(t^n))+i[10]+38016083&4294967295,s=t+(l<<9&4294967295|l>>>23),l=o+(t^n&(s^t))+i[15]+3634488961&4294967295,o=s+(l<<14&4294967295|l>>>18),l=n+(s^t&(o^s))+i[4]+3889429448&4294967295,n=o+(l<<20&4294967295|l>>>12),l=t+(o^s&(n^o))+i[9]+568446438&4294967295,t=n+(l<<5&4294967295|l>>>27),l=s+(n^o&(t^n))+i[14]+3275163606&4294967295,s=t+(l<<9&4294967295|l>>>23),l=o+(t^n&(s^t))+i[3]+4107603335&4294967295,o=s+(l<<14&4294967295|l>>>18),l=n+(s^t&(o^s))+i[8]+1163531501&4294967295,n=o+(l<<20&4294967295|l>>>12),l=t+(o^s&(n^o))+i[13]+2850285829&4294967295,t=n+(l<<5&4294967295|l>>>27),l=s+(n^o&(t^n))+i[2]+4243563512&4294967295,s=t+(l<<9&4294967295|l>>>23),l=o+(t^n&(s^t))+i[7]+1735328473&4294967295,o=s+(l<<14&4294967295|l>>>18),l=n+(s^t&(o^s))+i[12]+2368359562&4294967295,n=o+(l<<20&4294967295|l>>>12),l=t+(n^o^s)+i[5]+4294588738&4294967295,t=n+(l<<4&4294967295|l>>>28),l=s+(t^n^o)+i[8]+2272392833&4294967295,s=t+(l<<11&4294967295|l>>>21),l=o+(s^t^n)+i[11]+1839030562&4294967295,o=s+(l<<16&4294967295|l>>>16),l=n+(o^s^t)+i[14]+4259657740&4294967295,n=o+(l<<23&4294967295|l>>>9),l=t+(n^o^s)+i[1]+2763975236&4294967295,t=n+(l<<4&4294967295|l>>>28),l=s+(t^n^o)+i[4]+1272893353&4294967295,s=t+(l<<11&4294967295|l>>>21),l=o+(s^t^n)+i[7]+4139469664&4294967295,o=s+(l<<16&4294967295|l>>>16),l=n+(o^s^t)+i[10]+3200236656&4294967295,n=o+(l<<23&4294967295|l>>>9),l=t+(n^o^s)+i[13]+681279174&4294967295,t=n+(l<<4&4294967295|l>>>28),l=s+(t^n^o)+i[0]+3936430074&4294967295,s=t+(l<<11&4294967295|l>>>21),l=o+(s^t^n)+i[3]+3572445317&4294967295,o=s+(l<<16&4294967295|l>>>16),l=n+(o^s^t)+i[6]+76029189&4294967295,n=o+(l<<23&4294967295|l>>>9),l=t+(n^o^s)+i[9]+3654602809&4294967295,t=n+(l<<4&4294967295|l>>>28),l=s+(t^n^o)+i[12]+3873151461&4294967295,s=t+(l<<11&4294967295|l>>>21),l=o+(s^t^n)+i[15]+530742520&4294967295,o=s+(l<<16&4294967295|l>>>16),l=n+(o^s^t)+i[2]+3299628645&4294967295,n=o+(l<<23&4294967295|l>>>9),l=t+(o^(n|~s))+i[0]+4096336452&4294967295,t=n+(l<<6&4294967295|l>>>26),l=s+(n^(t|~o))+i[7]+1126891415&4294967295,s=t+(l<<10&4294967295|l>>>22),l=o+(t^(s|~n))+i[14]+2878612391&4294967295,o=s+(l<<15&4294967295|l>>>17),l=n+(s^(o|~t))+i[5]+4237533241&4294967295,n=o+(l<<21&4294967295|l>>>11),l=t+(o^(n|~s))+i[12]+1700485571&4294967295,t=n+(l<<6&4294967295|l>>>26),l=s+(n^(t|~o))+i[3]+2399980690&4294967295,s=t+(l<<10&4294967295|l>>>22),l=o+(t^(s|~n))+i[10]+4293915773&4294967295,o=s+(l<<15&4294967295|l>>>17),l=n+(s^(o|~t))+i[1]+2240044497&4294967295,n=o+(l<<21&4294967295|l>>>11),l=t+(o^(n|~s))+i[8]+1873313359&4294967295,t=n+(l<<6&4294967295|l>>>26),l=s+(n^(t|~o))+i[15]+4264355552&4294967295,s=t+(l<<10&4294967295|l>>>22),l=o+(t^(s|~n))+i[6]+2734768916&4294967295,o=s+(l<<15&4294967295|l>>>17),l=n+(s^(o|~t))+i[13]+1309151649&4294967295,n=o+(l<<21&4294967295|l>>>11),l=t+(o^(n|~s))+i[4]+4149444226&4294967295,t=n+(l<<6&4294967295|l>>>26),l=s+(n^(t|~o))+i[11]+3174756917&4294967295,s=t+(l<<10&4294967295|l>>>22),l=o+(t^(s|~n))+i[2]+718787259&4294967295,o=s+(l<<15&4294967295|l>>>17),l=n+(s^(o|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(o+(l<<21&4294967295|l>>>11))&4294967295,e.g[2]=e.g[2]+o&4294967295,e.g[3]=e.g[3]+s&4294967295}fn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,o=this.h,s=0;s<t;){if(o==0)for(;s<=n;)yh(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(i[o++]=e.charCodeAt(s++),o==this.blockSize){yh(this,i),o=0;break}}else for(;s<t;)if(i[o++]=e[s++],o==this.blockSize){yh(this,i),o=0;break}}this.h=o,this.i+=t};fn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function vt(e,t){this.h=t;for(var n=[],i=!0,o=e.length-1;0<=o;o--){var s=e[o]|0;i&&s==t||(n[o]=s,i=!1)}this.g=n}var KA={};function gp(e){return-128<=e&&128>e?iA(e,function(t){return new vt([t|0],0>t?-1:0)}):new vt([e|0],0>e?-1:0)}function Pn(e){if(isNaN(e)||!isFinite(e))return Wr;if(0>e)return se(Pn(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=zf;return new vt(t,0)}function Hw(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return se(Hw(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Pn(Math.pow(t,8)),i=Wr,o=0;o<e.length;o+=8){var s=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+s),t);8>s?(s=Pn(Math.pow(t,s)),i=i.R(s).add(Pn(l))):(i=i.R(n),i=i.add(Pn(l)))}return i}var zf=4294967296,Wr=gp(0),Ff=gp(1),kg=gp(16777216);F=vt.prototype;F.ea=function(){if(Ye(this))return-se(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:zf+i)*t,t*=zf}return e};F.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(bn(this))return"0";if(Ye(this))return"-"+se(this).toString(e);for(var t=Pn(Math.pow(e,6)),n=this,i="";;){var o=Jl(n,t).g;n=Xl(n,o.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=o,bn(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};F.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function bn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Ye(e){return e.h==-1}F.X=function(e){return e=Xl(this,e),Ye(e)?-1:bn(e)?0:1};function se(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new vt(n,~e.h).add(Ff)}F.abs=function(){return Ye(this)?se(this):this};F.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var s=i+(this.D(o)&65535)+(e.D(o)&65535),l=(s>>>16)+(this.D(o)>>>16)+(e.D(o)>>>16);i=l>>>16,s&=65535,l&=65535,n[o]=l<<16|s}return new vt(n,n[n.length-1]&-2147483648?-1:0)};function Xl(e,t){return e.add(se(t))}F.R=function(e){if(bn(this)||bn(e))return Wr;if(Ye(this))return Ye(e)?se(this).R(se(e)):se(se(this).R(e));if(Ye(e))return se(this.R(se(e)));if(0>this.X(kg)&&0>e.X(kg))return Pn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var s=this.D(i)>>>16,l=this.D(i)&65535,c=e.D(o)>>>16,f=e.D(o)&65535;n[2*i+2*o]+=l*f,Ya(n,2*i+2*o),n[2*i+2*o+1]+=s*f,Ya(n,2*i+2*o+1),n[2*i+2*o+1]+=l*c,Ya(n,2*i+2*o+1),n[2*i+2*o+2]+=s*c,Ya(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new vt(n,0)};function Ya(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Uo(e,t){this.g=e,this.h=t}function Jl(e,t){if(bn(t))throw Error("division by zero");if(bn(e))return new Uo(Wr,Wr);if(Ye(e))return t=Jl(se(e),t),new Uo(se(t.g),se(t.h));if(Ye(t))return t=Jl(e,se(t)),new Uo(se(t.g),t.h);if(30<e.g.length){if(Ye(e)||Ye(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ff,i=t;0>=i.X(e);)n=Rg(n),i=Rg(i);var o=Er(n,1),s=Er(i,1);for(i=Er(i,2),n=Er(n,2);!bn(i);){var l=s.add(i);0>=l.X(e)&&(o=o.add(n),s=l),i=Er(i,1),n=Er(n,1)}return t=Xl(e,o.R(t)),new Uo(o,t)}for(o=Wr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=Pn(n),l=s.R(t);Ye(l)||0<l.X(e);)n-=i,s=Pn(n),l=s.R(t);bn(s)&&(s=Ff),o=o.add(s),e=Xl(e,l)}return new Uo(o,e)}F.gb=function(e){return Jl(this,e).h};F.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new vt(n,this.h&e.h)};F.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new vt(n,this.h|e.h)};F.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new vt(n,this.h^e.h)};function Rg(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new vt(n,e.h)}function Er(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],s=0;s<i;s++)o[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new vt(o,e.h)}Yl.prototype.createWebChannel=Yl.prototype.g;Ue.prototype.send=Ue.prototype.u;Ue.prototype.open=Ue.prototype.m;Ue.prototype.close=Ue.prototype.close;Mu.NO_ERROR=0;Mu.TIMEOUT=8;Mu.HTTP_ERROR=6;lw.COMPLETE="complete";uw.EventType=ta;ta.OPEN="a";ta.CLOSE="b";ta.ERROR="c";ta.MESSAGE="d";te.prototype.listen=te.prototype.O;Vt.prototype.listenOnce=Vt.prototype.P;Vt.prototype.getLastError=Vt.prototype.Sa;Vt.prototype.getLastErrorCode=Vt.prototype.Ia;Vt.prototype.getStatus=Vt.prototype.da;Vt.prototype.getResponseJson=Vt.prototype.Wa;Vt.prototype.getResponseText=Vt.prototype.ja;Vt.prototype.send=Vt.prototype.ha;Vt.prototype.setWithCredentials=Vt.prototype.Oa;fn.prototype.digest=fn.prototype.l;fn.prototype.reset=fn.prototype.reset;fn.prototype.update=fn.prototype.j;vt.prototype.add=vt.prototype.add;vt.prototype.multiply=vt.prototype.R;vt.prototype.modulo=vt.prototype.gb;vt.prototype.compare=vt.prototype.X;vt.prototype.toNumber=vt.prototype.ea;vt.prototype.toString=vt.prototype.toString;vt.prototype.getBits=vt.prototype.D;vt.fromNumber=Pn;vt.fromString=Hw;var QA=function(){return new Yl},YA=function(){return Lu()},wh=Mu,XA=lw,JA=ar,Lg={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tx=ia,Xa=uw,ex=Vt,nx=fn,Zr=vt;const Mg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}me.UNAUTHENTICATED=new me(null),me.GOOGLE_CREDENTIALS=new me("google-credentials-uid"),me.FIRST_PARTY=new me("first-party-uid"),me.MOCK_USER=new me("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new z0("@firebase/firestore");function jo(){return er.logLevel}function j(e,...t){if(er.logLevel<=ft.DEBUG){const n=t.map(vp);er.debug(`Firestore (${_o}): ${e}`,...n)}}function qn(e,...t){if(er.logLevel<=ft.ERROR){const n=t.map(vp);er.error(`Firestore (${_o}): ${e}`,...n)}}function no(e,...t){if(er.logLevel<=ft.WARN){const n=t.map(vp);er.warn(`Firestore (${_o}): ${e}`,...n)}}function vp(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(e="Unexpected state"){const t=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+e;throw qn(t),new Error(t)}function At(e,t){e||K()}function nt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends fo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(me.UNAUTHENTICATED))}shutdown(){}}class rx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ox{constructor(t){this.t=t,this.currentUser=me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const o=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let s=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gi,t.enqueueRetryable(()=>o(this.currentUser))};const l=()=>{const f=s;t.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},c=f=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gi)}},0),l()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(At(typeof i.accessToken=="string"),new Ww(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return At(t===null||typeof t=="string"),new me(t)}}class sx{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=me.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ax{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new sx(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(me.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ux{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const o=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?o(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(At(typeof n.token=="string"),this.R=n.token,new lx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const o=cx(40);for(let s=0;s<o.length;++s)i.length<20&&o[s]<n&&(i+=t.charAt(o[s]%t.length))}return i}}function _t(e,t){return e<t?-1:e>t?1:0}function io(e,t,n){return e.length===t.length&&e.every((i,o)=>n(i,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Z(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Z(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Z(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Gt.fromMillis(Date.now())}static fromDate(t){return Gt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new Gt(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?_t(this.nanoseconds,t.nanoseconds):_t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.timestamp=t}static fromTimestamp(t){return new J(t)}static min(){return new J(new Gt(0,0))}static max(){return new J(new Gt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,n,i){n===void 0?n=0:n>t.length&&K(),i===void 0?i=t.length-n:i>t.length-n&&K(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Bs.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Bs?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let o=0;o<i;o++){const s=t.get(o),l=n.get(o);if(s<l)return-1;if(s>l)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class kt extends Bs{construct(t,n,i){return new kt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new Z(M.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const hx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ae extends Bs{construct(t,n,i){return new ae(t,n,i)}static isValidIdentifier(t){return hx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ae.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ae(["__name__"])}static fromServerFormat(t){const n=[];let i="",o=0;const s=()=>{if(i.length===0)throw new Z(M.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;o<t.length;){const c=t[o];if(c==="\\"){if(o+1===t.length)throw new Z(M.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Z(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,o+=2}else c==="`"?(l=!l,o++):c!=="."||l?(i+=c,o++):(s(),o++)}if(s(),l)throw new Z(M.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ae(n)}static emptyPath(){return new ae([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t){this.path=t}static fromPath(t){return new q(kt.fromString(t))}static fromName(t){return new q(kt.fromString(t).popFirst(5))}static empty(){return new q(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&kt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return kt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new q(new kt(t.slice()))}}function fx(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,o=J.fromTimestamp(i===1e9?new Gt(n+1,0):new Gt(n,i));return new Ti(o,q.empty(),t)}function dx(e){return new Ti(e.readTime,e.key,-1)}class Ti{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ti(J.min(),q.empty(),-1)}static max(){return new Ti(J.max(),q.empty(),-1)}}function px(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=q.comparator(e.documentKey,t.documentKey),n!==0?n:_t(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _x{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(e){if(e.code!==M.FAILED_PRECONDITION||e.message!==mx)throw e;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new D((i,o)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,o)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):D.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):D.reject(n)}static resolve(t){return new D((n,i)=>{n(t)})}static reject(t){return new D((n,i)=>{i(t)})}static waitFor(t){return new D((n,i)=>{let o=0,s=0,l=!1;t.forEach(c=>{++o,c.next(()=>{++s,l&&s===o&&n()},f=>i(f))}),l=!0,s===o&&n()})}static or(t){let n=D.resolve(!1);for(const i of t)n=n.next(o=>o?D.resolve(o):i());return n}static forEach(t,n){const i=[];return t.forEach((o,s)=>{i.push(n.call(this,o,s))}),this.waitFor(i)}static mapArray(t,n){return new D((i,o)=>{const s=t.length,l=new Array(s);let c=0;for(let f=0;f<s;f++){const p=f;n(t[p]).next(_=>{l[p]=_,++c,c===s&&i(l)},_=>o(_))}})}static doWhile(t,n){return new D((i,o)=>{const s=()=>{t()===!0?n().next(()=>{s()},o):i()};s()})}}function aa(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.se(i),this.oe=i=>n.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}yp._e=-1;function bu(e){return e==null}function tu(e){return e===0&&1/e==-1/0}function gx(e){return typeof e=="number"&&Number.isInteger(e)&&!tu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function lr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(t,n){this.comparator=t,this.root=n||oe.EMPTY}insert(t,n){return new Nt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,oe.BLACK,null,null))}remove(t){return new Nt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,oe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ja(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ja(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ja(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ja(this.root,t,this.comparator,!0)}}class Ja{constructor(t,n,i,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class oe{constructor(t,n,i,o,s){this.key=t,this.value=n,this.color=i??oe.RED,this.left=o??oe.EMPTY,this.right=s??oe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,o,s){return new oe(t??this.key,n??this.value,i??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let o=this;const s=i(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,n,i),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return oe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return oe.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const t=this.left.check();if(t!==this.right.check())throw K();return t+(this.isRed()?0:1)}}oe.EMPTY=null,oe.RED=!0,oe.BLACK=!1;oe.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(t,n,i,o,s){return this}insert(t,n,i){return new oe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t){this.comparator=t,this.data=new Nt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ng(this.data.getIterator())}getIteratorFrom(t){return new Ng(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ce(this.comparator);return n.data=t,n}}class Ng{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.fields=t,t.sort(ae.comparator)}static empty(){return new Fe([])}unionWith(t){let n=new ce(ae.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Fe(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Gw("Invalid base64 string: "+s):s}}(t);return new Ee(n)}static fromUint8Array(t){const n=function(o){let s="";for(let l=0;l<o.length;++l)s+=String.fromCharCode(o[l]);return s}(t);return new Ee(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ee.EMPTY_BYTE_STRING=new Ee("");const vx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(e){if(At(!!e),typeof e=="string"){let t=0;const n=vx.exec(e);if(At(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ut(e.seconds),nanos:Ut(e.nanos)}}function Ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function nr(e){return typeof e=="string"?Ee.fromBase64String(e):Ee.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ep(e){const t=e.mapValue.fields.__previous_value__;return wp(t)?Ep(t):t}function bs(e){const t=Pi(e.mapValue.fields.__local_write_time__.timestampValue);return new Gt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,n,i,o,s,l,c,f,p){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}class $s{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new $s("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof $s&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ir(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wp(e)?4:wx(e)?9007199254740991:10:K()}function kn(e,t){if(e===t)return!0;const n=ir(e);if(n!==ir(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bs(e).isEqual(bs(t));case 3:return function(o,s){if(typeof o.timestampValue=="string"&&typeof s.timestampValue=="string"&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;const l=Pi(o.timestampValue),c=Pi(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(o,s){return nr(o.bytesValue).isEqual(nr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(o,s){return Ut(o.geoPointValue.latitude)===Ut(s.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(s.geoPointValue.longitude)}(e,t);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return Ut(o.integerValue)===Ut(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){const l=Ut(o.doubleValue),c=Ut(s.doubleValue);return l===c?tu(l)===tu(c):isNaN(l)&&isNaN(c)}return!1}(e,t);case 9:return io(e.arrayValue.values||[],t.arrayValue.values||[],kn);case 10:return function(o,s){const l=o.mapValue.fields||{},c=s.mapValue.fields||{};if(Dg(l)!==Dg(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!kn(l[f],c[f])))return!1;return!0}(e,t);default:return K()}}function Us(e,t){return(e.values||[]).find(n=>kn(n,t))!==void 0}function ro(e,t){if(e===t)return 0;const n=ir(e),i=ir(t);if(n!==i)return _t(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return _t(e.booleanValue,t.booleanValue);case 2:return function(s,l){const c=Ut(s.integerValue||s.doubleValue),f=Ut(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(e,t);case 3:return Og(e.timestampValue,t.timestampValue);case 4:return Og(bs(e),bs(t));case 5:return _t(e.stringValue,t.stringValue);case 6:return function(s,l){const c=nr(s),f=nr(l);return c.compareTo(f)}(e.bytesValue,t.bytesValue);case 7:return function(s,l){const c=s.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const _=_t(c[p],f[p]);if(_!==0)return _}return _t(c.length,f.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,l){const c=_t(Ut(s.latitude),Ut(l.latitude));return c!==0?c:_t(Ut(s.longitude),Ut(l.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(s,l){const c=s.values||[],f=l.values||[];for(let p=0;p<c.length&&p<f.length;++p){const _=ro(c[p],f[p]);if(_)return _}return _t(c.length,f.length)}(e.arrayValue,t.arrayValue);case 10:return function(s,l){if(s===tl.mapValue&&l===tl.mapValue)return 0;if(s===tl.mapValue)return 1;if(l===tl.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),p=l.fields||{},_=Object.keys(p);f.sort(),_.sort();for(let g=0;g<f.length&&g<_.length;++g){const v=_t(f[g],_[g]);if(v!==0)return v;const P=ro(c[f[g]],p[_[g]]);if(P!==0)return P}return _t(f.length,_.length)}(e.mapValue,t.mapValue);default:throw K()}}function Og(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return _t(e,t);const n=Pi(e),i=Pi(t),o=_t(n.seconds,i.seconds);return o!==0?o:_t(n.nanos,i.nanos)}function oo(e){return Bf(e)}function Bf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Pi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return nr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return q.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",o=!0;for(const s of n.values||[])o?o=!1:i+=",",i+=Bf(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",s=!0;for(const l of i)s?s=!1:o+=",",o+=`${l}:${Bf(n.fields[l])}`;return o+"}"}(e.mapValue):K()}function bf(e){return!!e&&"integerValue"in e}function Tp(e){return!!e&&"arrayValue"in e}function Vg(e){return!!e&&"nullValue"in e}function zg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ml(e){return!!e&&"mapValue"in e}function ls(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return lr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ls(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ls(e.arrayValue.values[n]);return t}return Object.assign({},e)}function wx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t){this.value=t}static empty(){return new Le({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!ml(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ls(n)}setAll(t){let n=ae.emptyPath(),i={},o=[];t.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,i,o),i={},o=[],n=c.popLast()}l?i[c.lastSegment()]=ls(l):o.push(c.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,o)}delete(t){const n=this.field(t.popLast());ml(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return kn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let o=n.mapValue.fields[t.get(i)];ml(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,i){lr(n,(o,s)=>t[o]=s);for(const o of i)delete t[o]}clone(){return new Le(ls(this.value))}}function Kw(e){const t=[];return lr(e.fields,(n,i)=>{const o=new ae([n]);if(ml(i)){const s=Kw(i.mapValue).fields;if(s.length===0)t.push(o);else for(const l of s)t.push(o.child(l))}else t.push(o)}),new Fe(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,n,i,o,s,l,c){this.key=t,this.documentType=n,this.version=i,this.readTime=o,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(t){return new ge(t,0,J.min(),J.min(),J.min(),Le.empty(),0)}static newFoundDocument(t,n,i,o){return new ge(t,1,n,J.min(),i,o,0)}static newNoDocument(t,n){return new ge(t,2,n,J.min(),J.min(),Le.empty(),0)}static newUnknownDocument(t,n){return new ge(t,3,n,J.min(),J.min(),Le.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Le.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Le.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,n){this.position=t,this.inclusive=n}}function Fg(e,t,n){let i=0;for(let o=0;o<e.position.length;o++){const s=t[o],l=e.position[o];if(s.field.isKeyField()?i=q.comparator(q.fromName(l.referenceValue),n.key):i=ro(l,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Bg(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!kn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t,n="asc"){this.field=t,this.dir=n}}function Ex(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{}class Zt extends Qw{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new Px(t,n,i):n==="array-contains"?new Cx(t,i):n==="in"?new Ax(t,i):n==="not-in"?new xx(t,i):n==="array-contains-any"?new kx(t,i):new Zt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new Sx(t,i):new Ix(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ro(n,this.value)):n!==null&&ir(this.value)===ir(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends Qw{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Rn(t,n)}matches(t){return Yw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Yw(e){return e.op==="and"}function Xw(e){return Tx(e)&&Yw(e)}function Tx(e){for(const t of e.filters)if(t instanceof Rn)return!1;return!0}function $f(e){if(e instanceof Zt)return e.field.canonicalString()+e.op.toString()+oo(e.value);if(Xw(e))return e.filters.map(t=>$f(t)).join(",");{const t=e.filters.map(n=>$f(n)).join(",");return`${e.op}(${t})`}}function Jw(e,t){return e instanceof Zt?function(i,o){return o instanceof Zt&&i.op===o.op&&i.field.isEqual(o.field)&&kn(i.value,o.value)}(e,t):e instanceof Rn?function(i,o){return o instanceof Rn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((s,l,c)=>s&&Jw(l,o.filters[c]),!0):!1}(e,t):void K()}function t1(e){return e instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${oo(n.value)}`}(e):e instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(t1).join(" ,")+"}"}(e):"Filter"}class Px extends Zt{constructor(t,n,i){super(t,n,i),this.key=q.fromName(i.referenceValue)}matches(t){const n=q.comparator(t.key,this.key);return this.matchesComparison(n)}}class Sx extends Zt{constructor(t,n){super(t,"in",n),this.keys=e1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Ix extends Zt{constructor(t,n){super(t,"not-in",n),this.keys=e1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function e1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>q.fromName(i.referenceValue))}class Cx extends Zt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Tp(n)&&Us(n.arrayValue,this.value)}}class Ax extends Zt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Us(this.value.arrayValue,n)}}class xx extends Zt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Us(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Us(this.value.arrayValue,n)}}class kx extends Zt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Us(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t,n=null,i=[],o=[],s=null,l=null,c=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=s,this.startAt=l,this.endAt=c,this.ce=null}}function bg(e,t=null,n=[],i=[],o=null,s=null,l=null){return new Rx(e,t,n,i,o,s,l)}function Pp(e){const t=nt(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>$f(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),bu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>oo(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>oo(i)).join(",")),t.ce=n}return t.ce}function Sp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ex(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Jw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bg(e.startAt,t.startAt)&&Bg(e.endAt,t.endAt)}function Uf(e){return q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,n=null,i=[],o=[],s=null,l="F",c=null,f=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=f,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Lx(e,t,n,i,o,s,l,c){return new $u(e,t,n,i,o,s,l,c)}function n1(e){return new $u(e)}function $g(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Mx(e){return e.collectionGroup!==null}function us(e){const t=nt(e);if(t.le===null){t.le=[];const n=new Set;for(const s of t.explicitOrderBy)t.le.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new ce(ae.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.le.push(new nu(s,i))}),n.has(ae.keyField().canonicalString())||t.le.push(new nu(ae.keyField(),i))}return t.le}function Cn(e){const t=nt(e);return t.he||(t.he=Dx(t,us(e))),t.he}function Dx(e,t){if(e.limitType==="F")return bg(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(o=>{const s=o.dir==="desc"?"asc":"desc";return new nu(o.field,s)});const n=e.endAt?new eu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new eu(e.startAt.position,e.startAt.inclusive):null;return bg(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function jf(e,t,n){return new $u(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Uu(e,t){return Sp(Cn(e),Cn(t))&&e.limitType===t.limitType}function i1(e){return`${Pp(Cn(e))}|lt:${e.limitType}`}function Tr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>t1(o)).join(", ")}]`),bu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>oo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>oo(o)).join(",")),`Target(${i})`}(Cn(e))}; limitType=${e.limitType})`}function ju(e,t){return t.isFoundDocument()&&function(i,o){const s=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):q.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,o){for(const s of us(i))if(!s.field.isKeyField()&&o.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,o){for(const s of i.filters)if(!s.matches(o))return!1;return!0}(e,t)&&function(i,o){return!(i.startAt&&!function(l,c,f){const p=Fg(l,c,f);return l.inclusive?p<=0:p<0}(i.startAt,us(i),o)||i.endAt&&!function(l,c,f){const p=Fg(l,c,f);return l.inclusive?p>=0:p>0}(i.endAt,us(i),o))}(e,t)}function Nx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function r1(e){return(t,n)=>{let i=!1;for(const o of us(e)){const s=Ox(o,t,n);if(s!==0)return s;i=i||o.field.isKeyField()}return 0}}function Ox(e,t,n){const i=e.field.isKeyField()?q.comparator(t.key,n.key):function(s,l,c){const f=l.data.field(s),p=c.data.field(s);return f!==null&&p!==null?ro(f,p):K()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return K()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[o,s]of i)if(this.equalsFn(o,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(t){lr(this.inner,(n,i)=>{for(const[o,s]of i)t(o,s)})}isEmpty(){return qw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new Nt(q.comparator);function Gn(){return Vx}const o1=new Nt(q.comparator);function Qo(...e){let t=o1;for(const n of e)t=t.insert(n.key,n);return t}function s1(e){let t=o1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Wi(){return cs()}function a1(){return cs()}function cs(){return new go(e=>e.toString(),(e,t)=>e.isEqual(t))}const zx=new Nt(q.comparator),Fx=new ce(q.comparator);function at(...e){let t=Fx;for(const n of e)t=t.add(n);return t}const Bx=new ce(_t);function bx(){return Bx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(t)?"-0":t}}function u1(e){return{integerValue:""+e}}function $x(e,t){return gx(t)?u1(t):l1(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this._=void 0}}function Ux(e,t,n){return e instanceof iu?function(o,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return s&&wp(s)&&(s=Ep(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}}(n,t):e instanceof js?h1(e,t):e instanceof Hs?f1(e,t):function(o,s){const l=c1(o,s),c=Ug(l)+Ug(o.Ie);return bf(l)&&bf(o.Ie)?u1(c):l1(o.serializer,c)}(e,t)}function jx(e,t,n){return e instanceof js?h1(e,t):e instanceof Hs?f1(e,t):n}function c1(e,t){return e instanceof ru?function(i){return bf(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class iu extends Hu{}class js extends Hu{constructor(t){super(),this.elements=t}}function h1(e,t){const n=d1(t);for(const i of e.elements)n.some(o=>kn(o,i))||n.push(i);return{arrayValue:{values:n}}}class Hs extends Hu{constructor(t){super(),this.elements=t}}function f1(e,t){let n=d1(t);for(const i of e.elements)n=n.filter(o=>!kn(o,i));return{arrayValue:{values:n}}}class ru extends Hu{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Ug(e){return Ut(e.integerValue||e.doubleValue)}function d1(e){return Tp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Hx(e,t){return e.field.isEqual(t.field)&&function(i,o){return i instanceof js&&o instanceof js||i instanceof Hs&&o instanceof Hs?io(i.elements,o.elements,kn):i instanceof ru&&o instanceof ru?kn(i.Ie,o.Ie):i instanceof iu&&o instanceof iu}(e.transform,t.transform)}class Wx{constructor(t,n){this.version=t,this.transformResults=n}}class An{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new An}static exists(t){return new An(void 0,t)}static updateTime(t){return new An(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _l(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Wu{}function p1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new _1(e.key,An.none()):new la(e.key,e.data,An.none());{const n=e.data,i=Le.empty();let o=new ce(ae.comparator);for(let s of t.fields)if(!o.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?i.delete(s):i.set(s,l),o=o.add(s)}return new Ri(e.key,i,new Fe(o.toArray()),An.none())}}function Zx(e,t,n){e instanceof la?function(o,s,l){const c=o.value.clone(),f=Hg(o.fieldTransforms,s,l.transformResults);c.setAll(f),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(e,t,n):e instanceof Ri?function(o,s,l){if(!_l(o.precondition,s))return void s.convertToUnknownDocument(l.version);const c=Hg(o.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(m1(o)),f.setAll(c),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(e,t,n):function(o,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,n)}function hs(e,t,n,i){return e instanceof la?function(s,l,c,f){if(!_l(s.precondition,l))return c;const p=s.value.clone(),_=Wg(s.fieldTransforms,f,l);return p.setAll(_),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(e,t,n,i):e instanceof Ri?function(s,l,c,f){if(!_l(s.precondition,l))return c;const p=Wg(s.fieldTransforms,f,l),_=l.data;return _.setAll(m1(s)),_.setAll(p),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(s,l,c){return _l(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(e,t,n)}function qx(e,t){let n=null;for(const i of e.fieldTransforms){const o=t.data.field(i.field),s=c1(i.transform,o||null);s!=null&&(n===null&&(n=Le.empty()),n.set(i.field,s))}return n||null}function jg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&io(i,o,(s,l)=>Hx(s,l))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class la extends Wu{constructor(t,n,i,o=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ri extends Wu{constructor(t,n,i,o,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function m1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Hg(e,t,n){const i=new Map;At(e.length===n.length);for(let o=0;o<n.length;o++){const s=e[o],l=s.transform,c=t.data.field(s.field);i.set(s.field,jx(l,c,n[o]))}return i}function Wg(e,t,n){const i=new Map;for(const o of e){const s=o.transform,l=n.data.field(o.field);i.set(o.field,Ux(s,l,t))}return i}class _1 extends Wu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gx extends Wu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(t.key)&&Zx(s,t,i[o])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=hs(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=hs(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=a1();return this.mutations.forEach(o=>{const s=t.get(o.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(o.key)?null:c;const f=p1(l,c);f!==null&&i.set(o.key,f),l.isValidDocument()||l.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),at())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,(n,i)=>jg(n,i))&&io(this.baseMutations,t.baseMutations,(n,i)=>jg(n,i))}}class Ip{constructor(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(t,n,i){At(t.mutations.length===i.length);let o=function(){return zx}();const s=t.mutations;for(let l=0;l<s.length;l++)o=o.insert(s[l].key,i[l].version);return new Ip(t,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,ct;function Xx(e){switch(e){default:return K();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function g1(e){if(e===void 0)return qn("GRPC error has no .code"),M.UNKNOWN;switch(e){case $t.OK:return M.OK;case $t.CANCELLED:return M.CANCELLED;case $t.UNKNOWN:return M.UNKNOWN;case $t.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case $t.INTERNAL:return M.INTERNAL;case $t.UNAVAILABLE:return M.UNAVAILABLE;case $t.UNAUTHENTICATED:return M.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case $t.NOT_FOUND:return M.NOT_FOUND;case $t.ALREADY_EXISTS:return M.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return M.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case $t.ABORTED:return M.ABORTED;case $t.OUT_OF_RANGE:return M.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return M.UNIMPLEMENTED;case $t.DATA_LOSS:return M.DATA_LOSS;default:return K()}}(ct=$t||($t={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new Zr([4294967295,4294967295],0);function Zg(e){const t=Jx().encode(e),n=new nx;return n.update(t),new Uint8Array(n.digest())}function qg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),o=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Zr([n,i],0),new Zr([o,s],0)]}class Cp{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Yo(`Invalid padding: ${n}`);if(i<0)throw new Yo(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Yo(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Yo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=Zr.fromNumber(this.Te)}de(t,n,i){let o=t.add(n.multiply(Zr.fromNumber(i)));return o.compare(tk)===1&&(o=new Zr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=Zg(t),[i,o]=qg(n);for(let s=0;s<this.hashCount;s++){const l=this.de(i,o,s);if(!this.Ae(l))return!1}return!0}static create(t,n,i){const o=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),l=new Cp(s,o,n);return i.forEach(c=>l.insert(c)),l}insert(t){if(this.Te===0)return;const n=Zg(t),[i,o]=qg(n);for(let s=0;s<this.hashCount;s++){const l=this.de(i,o,s);this.Re(l)}}Re(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,n,i,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const o=new Map;return o.set(t,ua.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Zu(J.min(),o,new Nt(_t),Gn(),at())}}class ua{constructor(t,n,i,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new ua(i,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t,n,i,o){this.Ve=t,this.removedTargetIds=n,this.key=i,this.me=o}}class v1{constructor(t,n){this.targetId=t,this.fe=n}}class y1{constructor(t,n,i=Ee.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=o}}class Gg{constructor(){this.ge=0,this.pe=Qg(),this.ye=Ee.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=at(),n=at(),i=at();return this.pe.forEach((o,s)=>{switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:K()}}),new ua(this.ye,this.we,t,n,i)}Fe(){this.Se=!1,this.pe=Qg()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class ek{constructor(t){this.Le=t,this.ke=new Map,this.qe=Gn(),this.Qe=Kg(),this.Ke=new Nt(_t)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const i=this.ze(n);switch(t.state){case 0:this.je(n)&&i.Ce(t.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(t.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(t.resumeToken));break;default:K()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((i,o)=>{this.je(o)&&n(o)})}Je(t){const n=t.targetId,i=t.fe.count,o=this.Ye(n);if(o){const s=o.target;if(Uf(s))if(i===0){const l=new q(s.path);this.We(n,l,ge.newNoDocument(l,J.min()))}else At(i===1);else{const l=this.Ze(n);if(l!==i){const c=this.Xe(t),f=c?this.et(c,t,l):1;if(f!==0){this.He(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let l,c;try{l=nr(i).toUint8Array()}catch(f){if(f instanceof Gw)return no("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Cp(l,o,s)}catch(f){return no(f instanceof Yo?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.Te===0?null:c}et(t,n,i){return n.fe.count===i-this.rt(t,n.targetId)?0:2}rt(t,n){const i=this.Le.getRemoteKeysForTarget(n);let o=0;return i.forEach(s=>{const l=this.Le.nt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.We(n,s,null),o++)}),o}it(t){const n=new Map;this.ke.forEach((s,l)=>{const c=this.Ye(l);if(c){if(s.current&&Uf(c.target)){const f=new q(c.target.path);this.qe.get(f)!==null||this.st(l,f)||this.We(l,f,ge.newNoDocument(f,t))}s.De&&(n.set(l,s.ve()),s.Fe())}});let i=at();this.Qe.forEach((s,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.qe.forEach((s,l)=>l.setReadTime(t));const o=new Zu(t,n,this.Ke,this.qe,i);return this.qe=Gn(),this.Qe=Kg(),this.Ke=new Nt(_t),o}Ue(t,n){if(!this.je(t))return;const i=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,i){if(!this.je(t))return;const o=this.ze(t);this.st(t,n)?o.Me(n,1):o.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new Gg,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new ce(_t),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||j("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Le._t(t)}He(t){this.ke.set(t,new Gg),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function Kg(){return new Nt(q.comparator)}function Qg(){return new Nt(q.comparator)}const nk=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),ik=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),rk=(()=>({and:"AND",or:"OR"}))();class ok{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Hf(e,t){return e.useProto3Json||bu(t)?t:{value:t}}function ou(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function w1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sk(e,t){return ou(e,t.toTimestamp())}function xn(e){return At(!!e),J.fromTimestamp(function(n){const i=Pi(n);return new Gt(i.seconds,i.nanos)}(e))}function Ap(e,t){return function(i){return new kt(["projects",i.projectId,"databases",i.database])}(e).child("documents").child(t).canonicalString()}function E1(e){const t=kt.fromString(e);return At(I1(t)),t}function Wf(e,t){return Ap(e.databaseId,t.path)}function Eh(e,t){const n=E1(t);if(n.get(1)!==e.databaseId.projectId)throw new Z(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Z(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new q(T1(n))}function Zf(e,t){return Ap(e.databaseId,t)}function ak(e){const t=E1(e);return t.length===4?kt.emptyPath():T1(t)}function qf(e){return new kt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function T1(e){return At(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Yg(e,t,n){return{name:Wf(e,t),fields:n.value.mapValue.fields}}function lk(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:K()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],s=function(p,_){return p.useProto3Json?(At(_===void 0||typeof _=="string"),Ee.fromBase64String(_||"")):(At(_===void 0||_ instanceof Uint8Array),Ee.fromUint8Array(_||new Uint8Array))}(e,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(p){const _=p.code===void 0?M.UNKNOWN:g1(p.code);return new Z(_,p.message||"")}(l);n=new y1(i,o,s,c||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const o=Eh(e,i.document.name),s=xn(i.document.updateTime),l=i.document.createTime?xn(i.document.createTime):J.min(),c=new Le({mapValue:{fields:i.document.fields}}),f=ge.newFoundDocument(o,s,l,c),p=i.targetIds||[],_=i.removedTargetIds||[];n=new gl(p,_,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const o=Eh(e,i.document),s=i.readTime?xn(i.readTime):J.min(),l=ge.newNoDocument(o,s),c=i.removedTargetIds||[];n=new gl([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const o=Eh(e,i.document),s=i.removedTargetIds||[];n=new gl([],s,o,null)}else{if(!("filter"in t))return K();{t.filter;const i=t.filter;i.targetId;const{count:o=0,unchangedNames:s}=i,l=new Yx(o,s),c=i.targetId;n=new v1(c,l)}}return n}function uk(e,t){let n;if(t instanceof la)n={update:Yg(e,t.key,t.value)};else if(t instanceof _1)n={delete:Wf(e,t.key)};else if(t instanceof Ri)n={update:Yg(e,t.key,t.data),updateMask:vk(t.fieldMask)};else{if(!(t instanceof Gx))return K();n={verify:Wf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,l){const c=l.transform;if(c instanceof iu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof js)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Hs)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ru)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw K()}(0,i))),t.precondition.isNone||(n.currentDocument=function(o,s){return s.updateTime!==void 0?{updateTime:sk(o,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(e,t.precondition)),n}function ck(e,t){return e&&e.length>0?(At(t!==void 0),e.map(n=>function(o,s){let l=o.updateTime?xn(o.updateTime):xn(s);return l.isEqual(J.min())&&(l=xn(s)),new Wx(l,o.transformResults||[])}(n,t))):[]}function hk(e,t){return{documents:[Zf(e,t.path)]}}function fk(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Zf(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Zf(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const o=function(f){if(f.length!==0)return S1(Rn.create(f,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const s=function(f){if(f.length!==0)return f.map(p=>function(g){return{field:Pr(g.field),direction:mk(g.dir)}}(p))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Hf(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),n}function dk(e){let t=ak(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){At(i===1);const _=n.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let s=[];n.where&&(s=function(g){const v=P1(g);return v instanceof Rn&&Xw(v)?v.getFilters():[v]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(v=>function(A){return new nu(Sr(A.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(v))}(n.orderBy));let c=null;n.limit&&(c=function(g){let v;return v=typeof g=="object"?g.value:g,bu(v)?null:v}(n.limit));let f=null;n.startAt&&(f=function(g){const v=!!g.before,P=g.values||[];return new eu(P,v)}(n.startAt));let p=null;return n.endAt&&(p=function(g){const v=!g.before,P=g.values||[];return new eu(P,v)}(n.endAt)),Lx(t,o,l,s,c,"F",f,p)}function pk(e,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function P1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Sr(n.unaryFilter.field);return Zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Sr(n.unaryFilter.field);return Zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Sr(n.unaryFilter.field);return Zt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Sr(n.unaryFilter.field);return Zt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(e):e.fieldFilter!==void 0?function(n){return Zt.create(Sr(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(i=>P1(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(e):K()}function mk(e){return nk[e]}function _k(e){return ik[e]}function gk(e){return rk[e]}function Pr(e){return{fieldPath:e.canonicalString()}}function Sr(e){return ae.fromServerFormat(e.fieldPath)}function S1(e){return e instanceof Zt?function(n){if(n.op==="=="){if(zg(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NAN"}};if(Vg(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zg(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NOT_NAN"}};if(Vg(n.value))return{unaryFilter:{field:Pr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pr(n.field),op:_k(n.op),value:n.value}}}(e):e instanceof Rn?function(n){const i=n.getFilters().map(o=>S1(o));return i.length===1?i[0]:{compositeFilter:{op:gk(n.op),filters:i}}}(e):K()}function vk(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function I1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,n,i,o,s=J.min(),l=J.min(),c=Ee.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(t){return new si(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(t){this.ut=t}}function wk(e){const t=dk({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?jf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.on=new Tk}addToCollectionParentIndex(t,n){return this.on.add(n),D.resolve()}getCollectionParents(t,n){return D.resolve(this.on.getEntries(n))}addFieldIndex(t,n){return D.resolve()}deleteFieldIndex(t,n){return D.resolve()}deleteAllFieldIndexes(t){return D.resolve()}createTargetIndexes(t,n){return D.resolve()}getDocumentsMatchingTarget(t,n){return D.resolve(null)}getIndexType(t,n){return D.resolve(0)}getFieldIndexes(t,n){return D.resolve([])}getNextCollectionGroupToUpdate(t){return D.resolve(null)}getMinOffset(t,n){return D.resolve(Ti.min())}getMinOffsetFromCollectionGroup(t,n){return D.resolve(Ti.min())}updateCollectionGroup(t,n,i){return D.resolve()}updateIndexEntries(t,n){return D.resolve()}}class Tk{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new ce(kt.comparator),s=!o.has(i);return this.index[n]=o.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(t){return(this.index[t]||new ce(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static On(){return new so(0)}static Nn(){return new so(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.changes=new go(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ge.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?D.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t,n,i,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(i!==null&&hs(i.mutation,o,Fe.empty(),Gt.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,at()).next(()=>i))}getLocalViewOfDocuments(t,n,i=at()){const o=Wi();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,i).next(s=>{let l=Qo();return s.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(t,n){const i=Wi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,at()))}populateOverlays(t,n,i){const o=[];return i.forEach(s=>{n.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(t,o).next(s=>{s.forEach((l,c)=>{n.set(l,c)})})}computeViews(t,n,i,o){let s=Gn();const l=cs(),c=function(){return cs()}();return n.forEach((f,p)=>{const _=i.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof Ri)?s=s.insert(p.key,p):_!==void 0?(l.set(p.key,_.mutation.getFieldMask()),hs(_.mutation,p,_.mutation.getFieldMask(),Gt.now())):l.set(p.key,Fe.empty())}),this.recalculateAndSaveOverlays(t,s).next(f=>(f.forEach((p,_)=>l.set(p,_)),n.forEach((p,_)=>{var g;return c.set(p,new Sk(_,(g=l.get(p))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(t,n){const i=cs();let o=new Nt((l,c)=>l-c),s=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let _=i.get(f)||Fe.empty();_=c.applyToLocalView(p,_),i.set(f,_);const g=(o.get(c.batchId)||at()).add(f);o=o.insert(c.batchId,g)})}).next(()=>{const l=[],c=o.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,_=f.value,g=a1();_.forEach(v=>{if(!s.has(v)){const P=p1(n.get(v),i.get(v));P!==null&&g.set(v,P),s=s.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(t,p,g))}return D.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,o){return function(l){return q.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Mx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,o):this.getDocumentsMatchingCollectionQuery(t,n,i,o)}getNextDocuments(t,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,o).next(s=>{const l=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,o-s.size):D.resolve(Wi());let c=-1,f=s;return l.next(p=>D.forEach(p,(_,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(_)?D.resolve():this.remoteDocumentCache.getEntry(t,_).next(v=>{f=f.insert(_,v)}))).next(()=>this.populateOverlays(t,p,s)).next(()=>this.computeViews(t,f,p,at())).next(_=>({batchId:c,changes:s1(_)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new q(n)).next(i=>{let o=Qo();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,i,o){const s=n.collectionGroup;let l=Qo();return this.indexManager.getCollectionParents(t,s).next(c=>D.forEach(c,f=>{const p=function(g,v){return new $u(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(t,p,i,o).next(_=>{_.forEach((g,v)=>{l=l.insert(g,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,n,i,o){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,o))).next(l=>{s.forEach((f,p)=>{const _=p.getKey();l.get(_)===null&&(l=l.insert(_,ge.newInvalidDocument(_)))});let c=Qo();return l.forEach((f,p)=>{const _=s.get(f);_!==void 0&&hs(_.mutation,p,Fe.empty(),Gt.now()),ju(n,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(t){this.serializer=t,this.ur=new Map,this.cr=new Map}getBundleMetadata(t,n){return D.resolve(this.ur.get(n))}saveBundleMetadata(t,n){return this.ur.set(n.id,function(o){return{id:o.id,version:o.version,createTime:xn(o.createTime)}}(n)),D.resolve()}getNamedQuery(t,n){return D.resolve(this.cr.get(n))}saveNamedQuery(t,n){return this.cr.set(n.name,function(o){return{name:o.name,query:wk(o.bundledQuery),readTime:xn(o.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.overlays=new Nt(q.comparator),this.lr=new Map}getOverlay(t,n){return D.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Wi();return D.forEach(n,o=>this.getOverlay(t,o).next(s=>{s!==null&&i.set(o,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((o,s)=>{this.lt(t,n,s)}),D.resolve()}removeOverlaysForBatchId(t,n,i){const o=this.lr.get(i);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(i)),D.resolve()}getOverlaysForCollection(t,n,i){const o=Wi(),s=n.length+1,l=new q(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===s&&f.largestBatchId>i&&o.set(f.getKey(),f)}return D.resolve(o)}getOverlaysForCollectionGroup(t,n,i,o){let s=new Nt((p,_)=>p-_);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let _=s.get(p.largestBatchId);_===null&&(_=Wi(),s=s.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const c=Wi(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,_)=>c.set(p,_)),!(c.size()>=o)););return D.resolve(c)}lt(t,n,i){const o=this.overlays.get(i.key);if(o!==null){const l=this.lr.get(o.largestBatchId).delete(i.key);this.lr.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Qx(n,i));let s=this.lr.get(n);s===void 0&&(s=at(),this.lr.set(n,s)),this.lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.hr=new ce(Yt.Pr),this.Ir=new ce(Yt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(t,n){const i=new Yt(t,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.dr(new Yt(t,n))}Ar(t,n){t.forEach(i=>this.removeReference(i,n))}Rr(t){const n=new q(new kt([])),i=new Yt(n,t),o=new Yt(n,t+1),s=[];return this.Ir.forEachInRange([i,o],l=>{this.dr(l),s.push(l.key)}),s}Vr(){this.hr.forEach(t=>this.dr(t))}dr(t){this.hr=this.hr.delete(t),this.Ir=this.Ir.delete(t)}mr(t){const n=new q(new kt([])),i=new Yt(n,t),o=new Yt(n,t+1);let s=at();return this.Ir.forEachInRange([i,o],l=>{s=s.add(l.key)}),s}containsKey(t){const n=new Yt(t,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Yt{constructor(t,n){this.key=t,this.gr=n}static Pr(t,n){return q.comparator(t.key,n.key)||_t(t.gr,n.gr)}static Tr(t,n){return _t(t.gr,n.gr)||q.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new ce(Yt.Pr)}checkEmpty(t){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,o){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Kx(s,n,i,o);this.mutationQueue.push(l);for(const c of o)this.yr=this.yr.add(new Yt(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return D.resolve(l)}lookupMutationBatch(t,n){return D.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,o=this.Sr(i),s=o<0?0:o;return D.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(t){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Yt(n,0),o=new Yt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([i,o],l=>{const c=this.wr(l.gr);s.push(c)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new ce(_t);return n.forEach(o=>{const s=new Yt(o,0),l=new Yt(o,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,l],c=>{i=i.add(c.gr)})}),D.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,o=i.length+1;let s=i;q.isDocumentKey(s)||(s=s.child(""));const l=new Yt(new q(s),0);let c=new ce(_t);return this.yr.forEachWhile(f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(c=c.add(f.gr)),!0)},l),D.resolve(this.br(c))}br(t){const n=[];return t.forEach(i=>{const o=this.wr(i);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){At(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return D.forEach(n.mutations,o=>{const s=new Yt(o.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.yr=i})}Fn(t){}containsKey(t,n){const i=new Yt(n,0),o=this.yr.firstAfterOrEqual(i);return D.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,D.resolve()}Dr(t,n){return this.Sr(t)}Sr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}wr(t){const n=this.Sr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t){this.Cr=t,this.docs=function(){return new Nt(q.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,o=this.docs.get(i),s=o?o.size:0,l=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return D.resolve(i?i.document.mutableCopy():ge.newInvalidDocument(n))}getEntries(t,n){let i=Gn();return n.forEach(o=>{const s=this.docs.get(o);i=i.insert(o,s?s.document.mutableCopy():ge.newInvalidDocument(o))}),D.resolve(i)}getDocumentsMatchingQuery(t,n,i,o){let s=Gn();const l=n.path,c=new q(l.child("")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:_}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||px(dx(_),i)<=0||(o.has(_.key)||ju(n,_))&&(s=s.insert(_.key,_.mutableCopy()))}return D.resolve(s)}getAllFromCollectionGroup(t,n,i,o){K()}vr(t,n){return D.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new Rk(this)}getSize(t){return D.resolve(this.size)}}class Rk extends Pk{constructor(t){super(),this._r=t}applyChanges(t){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this._r.addEntry(t,o)):this._r.removeEntry(i)}),D.waitFor(n)}getFromCache(t,n){return this._r.getEntry(t,n)}getAllFromCache(t,n){return this._r.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t){this.persistence=t,this.Fr=new go(n=>Pp(n),Sp),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Mr=0,this.Or=new xp,this.targetCount=0,this.Nr=so.On()}forEachTarget(t,n){return this.Fr.forEach((i,o)=>n(o)),D.resolve()}getLastRemoteSnapshotVersion(t){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return D.resolve(this.Mr)}allocateTargetId(t){return this.highestTargetId=this.Nr.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),D.resolve()}kn(t){this.Fr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Nr=new so(n),this.highestTargetId=n),t.sequenceNumber>this.Mr&&(this.Mr=t.sequenceNumber)}addTargetData(t,n){return this.kn(n),this.targetCount+=1,D.resolve()}updateTargetData(t,n){return this.kn(n),D.resolve()}removeTargetData(t,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(t,n,i){let o=0;const s=[];return this.Fr.forEach((l,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Fr.delete(l),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),o++)}),D.waitFor(s).next(()=>o)}getTargetCount(t){return D.resolve(this.targetCount)}getTargetData(t,n){const i=this.Fr.get(n)||null;return D.resolve(i)}addMatchingKeys(t,n,i){return this.Or.Er(n,i),D.resolve()}removeMatchingKeys(t,n,i){this.Or.Ar(n,i);const o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(l=>{s.push(o.markPotentiallyOrphaned(t,l))}),D.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Or.Rr(n),D.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Or.mr(n);return D.resolve(i)}containsKey(t,n){return D.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(t,n){this.Br={},this.overlays={},this.Lr=new yp(0),this.kr=!1,this.kr=!0,this.referenceDelegate=t(this),this.qr=new Lk(this),this.indexManager=new Ek,this.remoteDocumentCache=function(o){return new kk(o)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new yk(n),this.Kr=new Ck(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Ak,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Br[t.toKey()];return i||(i=new xk(n,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(t,n,i){j("MemoryPersistence","Starting transaction:",t);const o=new Dk(this.Lr.next());return this.referenceDelegate.$r(),i(o).next(s=>this.referenceDelegate.Ur(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Wr(t,n){return D.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,n)))}}class Dk extends _x{constructor(t){super(),this.currentSequenceNumber=t}}class kp{constructor(t){this.persistence=t,this.Gr=new xp,this.zr=null}static jr(t){return new kp(t)}get Hr(){if(this.zr)return this.zr;throw K()}addReference(t,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),D.resolve()}removeReference(t,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),D.resolve()}markPotentiallyOrphaned(t,n){return this.Hr.add(n.toString()),D.resolve()}removeTarget(t,n){this.Gr.Rr(n.targetId).forEach(o=>this.Hr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(s=>this.Hr.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}$r(){this.zr=new Set}Ur(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Hr,i=>{const o=q.fromPath(i);return this.Jr(t,o).next(s=>{s||n.removeEntry(o,J.min())})}).next(()=>(this.zr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Jr(t,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(t){return 0}Jr(t,n){return D.or([()=>D.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Wr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,n,i,o){this.targetId=t,this.fromCache=n,this.ki=i,this.qi=o}static Qi(t,n){let i=at(),o=at();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new Rp(t,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(t,n){this.Gi=t,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(t,n,i,o){const s={result:null};return this.zi(t,n).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ji(t,n,o,i).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new Nk;return this.Hi(t,n,l).next(c=>{if(s.result=c,this.$i)return this.Ji(t,n,l,c.size)})}).next(()=>s.result)}Ji(t,n,i,o){return i.documentReadCount<this.Ui?(jo()<=ft.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Tr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),D.resolve()):(jo()<=ft.DEBUG&&j("QueryEngine","Query:",Tr(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Wi*o?(jo()<=ft.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Tr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Cn(n))):D.resolve())}zi(t,n){if($g(n))return D.resolve(null);let i=Cn(n);return this.indexManager.getIndexType(t,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=jf(n,null,"F"),i=Cn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const l=at(...s);return this.Gi.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,i).next(f=>{const p=this.Yi(n,c);return this.Zi(n,p,l,f.readTime)?this.zi(t,jf(n,null,"F")):this.Xi(t,p,n,f)}))})))}ji(t,n,i,o){return $g(n)||o.isEqual(J.min())?D.resolve(null):this.Gi.getDocuments(t,i).next(s=>{const l=this.Yi(n,s);return this.Zi(n,l,i,o)?D.resolve(null):(jo()<=ft.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Tr(n)),this.Xi(t,l,n,fx(o,-1)).next(c=>c))})}Yi(t,n){let i=new ce(r1(t));return n.forEach((o,s)=>{ju(t,s)&&(i=i.add(s))}),i}Zi(t,n,i,o){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Hi(t,n,i){return jo()<=ft.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Tr(n)),this.Gi.getDocumentsMatchingQuery(t,n,Ti.min(),i)}Xi(t,n,i,o){return this.Gi.getDocumentsMatchingQuery(t,i,o).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(t,n,i,o){this.persistence=t,this.es=n,this.serializer=o,this.ts=new Nt(_t),this.ns=new go(s=>Pp(s),Sp),this.rs=new Map,this.ss=t.getRemoteDocumentCache(),this.qr=t.getTargetCache(),this.Kr=t.getBundleCache(),this.os(i)}os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ik(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ts))}}function zk(e,t,n,i){return new Vk(e,t,n,i)}async function C1(e,t){const n=nt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(s=>(o=s,n.os(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],c=[];let f=at();for(const p of o){l.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}for(const p of s){c.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}return n.localDocuments.getDocuments(i,f).next(p=>({_s:p,removedBatchIds:l,addedBatchIds:c}))})})}function Fk(e,t){const n=nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(c,f,p,_){const g=p.batch,v=g.keys();let P=D.resolve();return v.forEach(A=>{P=P.next(()=>_.getEntry(f,A)).next(C=>{const V=p.docVersions.get(A);At(V!==null),C.version.compareTo(V)<0&&(g.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),_.addEntry(C)))})}),P.next(()=>c.mutationQueue.removeMutationBatch(f,g))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let f=at();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(t))).next(()=>n.localDocuments.getDocuments(i,o))})}function A1(e){const t=nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.qr.getLastRemoteSnapshotVersion(n))}function Bk(e,t){const n=nt(e),i=t.snapshotVersion;let o=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=n.ss.newChangeBuffer({trackRemovals:!0});o=n.ts;const c=[];t.targetChanges.forEach((_,g)=>{const v=o.get(g);if(!v)return;c.push(n.qr.removeMatchingKeys(s,_.removedDocuments,g).next(()=>n.qr.addMatchingKeys(s,_.addedDocuments,g)));let P=v.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?P=P.withResumeToken(Ee.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,i)),o=o.insert(g,P),function(C,V,E){return C.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(v,P,_)&&c.push(n.qr.updateTargetData(s,P))});let f=Gn(),p=at();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,_))}),c.push(bk(s,l,t.documentUpdates).next(_=>{f=_.us,p=_.cs})),!i.isEqual(J.min())){const _=n.qr.getLastRemoteSnapshotVersion(s).next(g=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(_)}return D.waitFor(c).next(()=>l.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,f,p)).next(()=>f)}).then(s=>(n.ts=o,s))}function bk(e,t,n){let i=at(),o=at();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let l=Gn();return n.forEach((c,f)=>{const p=s.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(c)),f.isNoDocument()&&f.version.isEqual(J.min())?(t.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(f),l=l.insert(c,f)):j("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{us:l,cs:o}})}function $k(e,t){const n=nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Uk(e,t){const n=nt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.qr.getTargetData(i,t).next(s=>s?(o=s,D.resolve(o)):n.qr.allocateTargetId(i).next(l=>(o=new si(t,l,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(t,i.targetId)),i})}async function Gf(e,t,n){const i=nt(e),o=i.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,o))}catch(l){if(!aa(l))throw l;j("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.ts=i.ts.remove(t),i.ns.delete(o.target)}function Xg(e,t,n){const i=nt(e);let o=J.min(),s=at();return i.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,_){const g=nt(f),v=g.ns.get(_);return v!==void 0?D.resolve(g.ts.get(v)):g.qr.getTargetData(p,_)}(i,l,Cn(t)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(l,c.targetId).next(f=>{s=f})}).next(()=>i.es.getDocumentsMatchingQuery(l,t,n?o:J.min(),n?s:at())).next(c=>(jk(i,Nx(t),c),{documents:c,ls:s})))}function jk(e,t,n){let i=e.rs.get(t)||J.min();n.forEach((o,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.rs.set(t,i)}class Jg{constructor(){this.activeTargetIds=bx()}ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}As(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Es(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Hk{constructor(){this.eo=new Jg,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.eo.ds(t),this.no[t]||"not-current"}updateQueryState(t,n,i){this.no[t]=n}removeLocalQueryTarget(t){this.eo.As(t)}isLocalQueryTarget(t){return this.eo.activeTargetIds.has(t)}clearQueryState(t){delete this.no[t]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(t){return this.eo.activeTargetIds.has(t)}start(){return this.eo=new Jg,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{ro(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(t){this.ao.push(t)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ao)t(0)}_o(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ao)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el=null;function Th(){return el===null?el=function(){return 268435456+Math.round(2147483648*Math.random())}():el++,"0x"+el.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t){this.co=t.co,this.lo=t.lo}ho(t){this.Po=t}Io(t){this.To=t}onMessage(t){this.Eo=t}close(){this.lo()}send(t){this.co(t)}Ao(){this.Po()}Ro(t){this.To(t)}Vo(t){this.Eo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe="WebChannelConnection";class Gk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${o}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${s}`}get yo(){return!1}wo(n,i,o,s,l){const c=Th(),f=this.So(n,i);j("RestConnection",`Sending RPC '${n}' ${c}:`,f,o);const p={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(p,s,l),this.Do(n,f,p,o).then(_=>(j("RestConnection",`Received RPC '${n}' ${c}: `,_),_),_=>{throw no("RestConnection",`RPC '${n}' ${c} failed with error: `,_,"url: ",f,"request:",o),_})}Co(n,i,o,s,l,c){return this.wo(n,i,o,s,l)}bo(n,i,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,l)=>n[l]=s),o&&o.headers.forEach((s,l)=>n[l]=s)}So(n,i){const o=Zk[n];return`${this.mo}/v1/${i}:${o}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Do(t,n,i,o){const s=Th();return new Promise((l,c)=>{const f=new ex;f.setWithCredentials(!0),f.listenOnce(XA.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case wh.NO_ERROR:const _=f.getResponseJson();j(pe,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(_)),l(_);break;case wh.TIMEOUT:j(pe,`RPC '${t}' ${s} timed out`),c(new Z(M.DEADLINE_EXCEEDED,"Request time out"));break;case wh.HTTP_ERROR:const g=f.getStatus();if(j(pe,`RPC '${t}' ${s} failed with status:`,g,"response text:",f.getResponseText()),g>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const P=v==null?void 0:v.error;if(P&&P.status&&P.message){const A=function(V){const E=V.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(E)>=0?E:M.UNKNOWN}(P.status);c(new Z(A,P.message))}else c(new Z(M.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Z(M.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{j(pe,`RPC '${t}' ${s} completed.`)}});const p=JSON.stringify(o);j(pe,`RPC '${t}' ${s} sending request:`,o),f.send(n,"POST",p,i,15)})}vo(t,n,i){const o=Th(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=QA(),c=YA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.xmlHttpFactory=new tx({})),this.bo(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const _=s.join("");j(pe,`Creating RPC '${t}' stream ${o}: ${_}`,f);const g=l.createWebChannel(_,f);let v=!1,P=!1;const A=new qk({co:V=>{P?j(pe,`Not sending because RPC '${t}' stream ${o} is closed:`,V):(v||(j(pe,`Opening RPC '${t}' stream ${o} transport.`),g.open(),v=!0),j(pe,`RPC '${t}' stream ${o} sending:`,V),g.send(V))},lo:()=>g.close()}),C=(V,E,w)=>{V.listen(E,T=>{try{w(T)}catch(x){setTimeout(()=>{throw x},0)}})};return C(g,Xa.EventType.OPEN,()=>{P||j(pe,`RPC '${t}' stream ${o} transport opened.`)}),C(g,Xa.EventType.CLOSE,()=>{P||(P=!0,j(pe,`RPC '${t}' stream ${o} transport closed`),A.Ro())}),C(g,Xa.EventType.ERROR,V=>{P||(P=!0,no(pe,`RPC '${t}' stream ${o} transport errored:`,V),A.Ro(new Z(M.UNAVAILABLE,"The operation could not be completed")))}),C(g,Xa.EventType.MESSAGE,V=>{var E;if(!P){const w=V.data[0];At(!!w);const T=w,x=T.error||((E=T[0])===null||E===void 0?void 0:E.error);if(x){j(pe,`RPC '${t}' stream ${o} received error:`,x);const z=x.status;let b=function(wt){const it=$t[wt];if(it!==void 0)return g1(it)}(z),U=x.message;b===void 0&&(b=M.INTERNAL,U="Unknown error status: "+z+" with message "+x.message),P=!0,A.Ro(new Z(b,U)),g.close()}else j(pe,`RPC '${t}' stream ${o} received:`,w),A.Vo(w)}}),C(c,JA.STAT_EVENT,V=>{V.stat===Lg.PROXY?j(pe,`RPC '${t}' stream ${o} detected buffering proxy`):V.stat===Lg.NOPROXY&&j(pe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{A.Ao()},0),A}}function Ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(e){return new ok(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,n,i=1e3,o=1.5,s=6e4){this.si=t,this.timerId=n,this.Fo=i,this.Mo=o,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(t){this.cancel();const n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),o=Math.max(0,n-i);o>0&&j("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,o,()=>(this.Bo=Date.now(),t())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t,n,i,o,s,l,c,f){this.si=t,this.Ko=i,this.$o=o,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new x1(t,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(t){this.t_(),this.stream.send(t)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(t,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,t!==4?this.zo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(qn(n.toString()),qn("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Io(n)}r_(){}auth(){this.state=1;const t=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Uo===n&&this.s_(i,o)},i=>{t(()=>{const o=new Z(M.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(o)})})}s_(t,n){const i=this.i_(this.Uo);this.stream=this.__(t,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(o=>{i(()=>this.o_(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(t){return j("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}i_(t){return n=>{this.si.enqueueAndForget(()=>this.Uo===t?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kk extends k1{constructor(t,n,i,o,s,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,l),this.serializer=s}__(t,n){return this.connection.vo("Listen",t,n)}onMessage(t){this.zo.reset();const n=lk(this.serializer,t),i=function(s){if(!("targetChange"in s))return J.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?J.min():l.readTime?xn(l.readTime):J.min()}(t);return this.listener.a_(n,i)}u_(t){const n={};n.database=qf(this.serializer),n.addTarget=function(s,l){let c;const f=l.target;if(c=Uf(f)?{documents:hk(s,f)}:{query:fk(s,f)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=w1(s,l.resumeToken);const p=Hf(s,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(J.min())>0){c.readTime=ou(s,l.snapshotVersion.toTimestamp());const p=Hf(s,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,t);const i=pk(this.serializer,t);i&&(n.labels=i),this.e_(n)}c_(t){const n={};n.database=qf(this.serializer),n.removeTarget=t,this.e_(n)}}class Qk extends k1{constructor(t,n,i,o,s,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,l),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(t,n){return this.connection.vo("Write",t,n)}onMessage(t){if(At(!!t.streamToken),this.lastStreamToken=t.streamToken,this.l_){this.zo.reset();const n=ck(t.writeResults,t.commitTime),i=xn(t.commitTime);return this.listener.I_(i,n)}return At(!t.writeResults||t.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const t={};t.database=qf(this.serializer),this.e_(t)}P_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>uk(this.serializer,i))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk extends class{}{constructor(t,n,i,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.d_=!1}A_(){if(this.d_)throw new Z(M.FAILED_PRECONDITION,"The client has already been terminated.")}wo(t,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.wo(t,n,i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(M.UNKNOWN,o.toString())})}Co(t,n,i,o){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Co(t,n,i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(M.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class Xk{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(t){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.p_("Offline")))}set(t){this.S_(),this.V_=0,t==="Online"&&(this.f_=!1),this.p_(t)}p_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}y_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(qn(n),this.f_=!1):j("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(t,n,i,o,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(l=>{i.enqueueAndForget(async()=>{ur(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=nt(f);p.C_.add(4),await ca(p),p.M_.set("Unknown"),p.C_.delete(4),await Gu(p)}(this))})}),this.M_=new Xk(i,o)}}async function Gu(e){if(ur(e))for(const t of e.v_)await t(!0)}async function ca(e){for(const t of e.v_)await t(!1)}function R1(e,t){const n=nt(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Dp(n)?Mp(n):vo(n).Ho()&&Lp(n,t))}function L1(e,t){const n=nt(e),i=vo(n);n.D_.delete(t),i.Ho()&&M1(n,t),n.D_.size===0&&(i.Ho()?i.Zo():ur(n)&&n.M_.set("Unknown"))}function Lp(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(J.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vo(e).u_(t)}function M1(e,t){e.x_.Oe(t),vo(e).c_(t)}function Mp(e){e.x_=new ek({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),vo(e).start(),e.M_.g_()}function Dp(e){return ur(e)&&!vo(e).jo()&&e.D_.size>0}function ur(e){return nt(e).C_.size===0}function D1(e){e.x_=void 0}async function tR(e){e.D_.forEach((t,n)=>{Lp(e,t)})}async function eR(e,t){D1(e),Dp(e)?(e.M_.w_(t),Mp(e)):e.M_.set("Unknown")}async function nR(e,t,n){if(e.M_.set("Online"),t instanceof y1&&t.state===2&&t.cause)try{await async function(o,s){const l=s.cause;for(const c of s.targetIds)o.D_.has(c)&&(await o.remoteSyncer.rejectListen(c,l),o.D_.delete(c),o.x_.removeTarget(c))}(e,t)}catch(i){j("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await su(e,i)}else if(t instanceof gl?e.x_.$e(t):t instanceof v1?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(J.min()))try{const i=await A1(e.localStore);n.compareTo(i)>=0&&await function(s,l){const c=s.x_.it(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const _=s.D_.get(p);_&&s.D_.set(p,_.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const _=s.D_.get(f);if(!_)return;s.D_.set(f,_.withResumeToken(Ee.EMPTY_BYTE_STRING,_.snapshotVersion)),M1(s,f);const g=new si(_.target,f,p,_.sequenceNumber);Lp(s,g)}),s.remoteSyncer.applyRemoteEvent(c)}(e,n)}catch(i){j("RemoteStore","Failed to raise snapshot:",i),await su(e,i)}}async function su(e,t,n){if(!aa(t))throw t;e.C_.add(1),await ca(e),e.M_.set("Offline"),n||(n=()=>A1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Gu(e)})}function N1(e,t){return t().catch(n=>su(e,n,t))}async function Ku(e){const t=nt(e),n=Si(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;iR(t);)try{const o=await $k(t.localStore,i);if(o===null){t.b_.length===0&&n.Zo();break}i=o.batchId,rR(t,o)}catch(o){await su(t,o)}O1(t)&&V1(t)}function iR(e){return ur(e)&&e.b_.length<10}function rR(e,t){e.b_.push(t);const n=Si(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function O1(e){return ur(e)&&!Si(e).jo()&&e.b_.length>0}function V1(e){Si(e).start()}async function oR(e){Si(e).E_()}async function sR(e){const t=Si(e);for(const n of e.b_)t.P_(n.mutations)}async function aR(e,t,n){const i=e.b_.shift(),o=Ip.from(i,t,n);await N1(e,()=>e.remoteSyncer.applySuccessfulWrite(o)),await Ku(e)}async function lR(e,t){t&&Si(e).h_&&await async function(i,o){if(function(l){return Xx(l)&&l!==M.ABORTED}(o.code)){const s=i.b_.shift();Si(i).Yo(),await N1(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),await Ku(i)}}(e,t),O1(e)&&V1(e)}async function ev(e,t){const n=nt(e);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const i=ur(n);n.C_.add(3),await ca(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Gu(n)}async function uR(e,t){const n=nt(e);t?(n.C_.delete(2),await Gu(n)):t||(n.C_.add(2),await ca(n),n.M_.set("Unknown"))}function vo(e){return e.O_||(e.O_=function(n,i,o){const s=nt(n);return s.A_(),new Kk(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{ho:tR.bind(null,e),Io:eR.bind(null,e),a_:nR.bind(null,e)}),e.v_.push(async t=>{t?(e.O_.Yo(),Dp(e)?Mp(e):e.M_.set("Unknown")):(await e.O_.stop(),D1(e))})),e.O_}function Si(e){return e.N_||(e.N_=function(n,i,o){const s=nt(n);return s.A_(),new Qk(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,o)}(e.datastore,e.asyncQueue,{ho:oR.bind(null,e),Io:lR.bind(null,e),T_:sR.bind(null,e),I_:aR.bind(null,e)}),e.v_.push(async t=>{t?(e.N_.Yo(),await Ku(e)):(await e.N_.stop(),e.b_.length>0&&(j("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))})),e.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,n,i,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,o,s){const l=Date.now()+i,c=new Np(t,n,l,o,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(M.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(e,t){if(qn("AsyncQueue",`${t}: ${e}`),aa(e))return new Z(M.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t){this.comparator=t?(n,i)=>t(n,i)||q.comparator(n.key,i.key):(n,i)=>q.comparator(n.key,i.key),this.keyedMap=Qo(),this.sortedSet=new Nt(this.comparator)}static emptySet(t){return new qr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof qr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new qr;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this.B_=new Nt(q.comparator)}track(t){const n=t.doc.key,i=this.B_.get(n);i?t.type!==0&&i.type===3?this.B_=this.B_.insert(n,t):t.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.B_=this.B_.remove(n):t.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):K():this.B_=this.B_.insert(n,t)}L_(){const t=[];return this.B_.inorderTraversal((n,i)=>{t.push(i)}),t}}class ao{constructor(t,n,i,o,s,l,c,f,p){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(t,n,i,o,s){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new ao(t,n,qr.emptySet(n),l,i,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.k_=void 0,this.listeners=[]}}class hR{constructor(){this.queries=new go(t=>i1(t),Uu),this.onlineState="Unknown",this.q_=new Set}}async function fR(e,t){const n=nt(e),i=t.query;let o=!1,s=n.queries.get(i);if(s||(o=!0,s=new cR),o)try{s.k_=await n.onListen(i)}catch(l){const c=Op(l,`Initialization of query '${Tr(t.query)}' failed`);return void t.onError(c)}n.queries.set(i,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&Vp(n)}async function dR(e,t){const n=nt(e),i=t.query;let o=!1;const s=n.queries.get(i);if(s){const l=s.listeners.indexOf(t);l>=0&&(s.listeners.splice(l,1),o=s.listeners.length===0)}if(o)return n.queries.delete(i),n.onUnlisten(i)}function pR(e,t){const n=nt(e);let i=!1;for(const o of t){const s=o.query,l=n.queries.get(s);if(l){for(const c of l.listeners)c.K_(o)&&(i=!0);l.k_=o}}i&&Vp(n)}function mR(e,t,n){const i=nt(e),o=i.queries.get(t);if(o)for(const s of o.listeners)s.onError(n);i.queries.delete(t)}function Vp(e){e.q_.forEach(t=>{t.next()})}class _R{constructor(t,n,i){this.query=t,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(t){if(!this.options.includeMetadataChanges){const i=[];for(const o of t.docChanges)o.type!==3&&i.push(o);t=new ao(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.W_?this.z_(t)&&(this.U_.next(t),n=!0):this.j_(t,this.onlineState)&&(this.H_(t),n=!0),this.G_=t,n}onError(t){this.U_.error(t)}Q_(t){this.onlineState=t;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,t)&&(this.H_(this.G_),n=!0),n}j_(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.J_||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}z_(t){if(t.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.W_=!0,this.U_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t){this.key=t}}class F1{constructor(t){this.key=t}}class gR{constructor(t,n){this.query=t,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=at(),this.mutatedKeys=at(),this._a=r1(t),this.aa=new qr(this._a)}get ua(){return this.ia}ca(t,n){const i=n?n.la:new nv,o=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,l=o,c=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((_,g)=>{const v=o.get(_),P=ju(this.query,g)?g:null,A=!!v&&this.mutatedKeys.has(v.key),C=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let V=!1;v&&P?v.data.isEqual(P.data)?A!==C&&(i.track({type:3,doc:P}),V=!0):this.ha(v,P)||(i.track({type:2,doc:P}),V=!0,(f&&this._a(P,f)>0||p&&this._a(P,p)<0)&&(c=!0)):!v&&P?(i.track({type:0,doc:P}),V=!0):v&&!P&&(i.track({type:1,doc:v}),V=!0,(f||p)&&(c=!0)),V&&(P?(l=l.add(P),s=C?s.add(_):s.delete(_)):(l=l.delete(_),s=s.delete(_)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const _=this.query.limitType==="F"?l.last():l.first();l=l.delete(_.key),s=s.delete(_.key),i.track({type:1,doc:_})}return{aa:l,la:i,Zi:c,mutatedKeys:s}}ha(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const o=this.aa;this.aa=t.aa,this.mutatedKeys=t.mutatedKeys;const s=t.la.L_();s.sort((p,_)=>function(v,P){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return A(v)-A(P)}(p.type,_.type)||this._a(p.doc,_.doc)),this.Pa(i);const l=n?this.Ia():[],c=this.oa.size===0&&this.current?1:0,f=c!==this.sa;return this.sa=c,s.length!==0||f?{snapshot:new ao(this.query,t.aa,o,s,t.mutatedKeys,c===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:l}:{Ta:l}}Q_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new nv,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(t){return!this.ia.has(t)&&!!this.aa.has(t)&&!this.aa.get(t).hasLocalMutations}Pa(t){t&&(t.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=t.current)}Ia(){if(!this.current)return[];const t=this.oa;this.oa=at(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const n=[];return t.forEach(i=>{this.oa.has(i)||n.push(new F1(i))}),this.oa.forEach(i=>{t.has(i)||n.push(new z1(i))}),n}da(t){this.ia=t.ls,this.oa=at();const n=this.ca(t.documents);return this.applyChanges(n,!0)}Aa(){return ao.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class vR{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class yR{constructor(t){this.key=t,this.Ra=!1}}class wR{constructor(t,n,i,o,s,l){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Va={},this.ma=new go(c=>i1(c),Uu),this.fa=new Map,this.ga=new Set,this.pa=new Nt(q.comparator),this.ya=new Map,this.wa=new xp,this.Sa={},this.ba=new Map,this.Da=so.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function ER(e,t){const n=LR(e);let i,o;const s=n.ma.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),o=s.view.Aa();else{const l=await Uk(n.localStore,Cn(t)),c=n.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,o=await TR(n,t,i,c==="current",l.resumeToken),n.isPrimaryClient&&R1(n.remoteStore,l)}return o}async function TR(e,t,n,i,o){e.va=(g,v,P)=>async function(C,V,E,w){let T=V.view.ca(E);T.Zi&&(T=await Xg(C.localStore,V.query,!1).then(({documents:b})=>V.view.ca(b,T)));const x=w&&w.targetChanges.get(V.targetId),z=V.view.applyChanges(T,C.isPrimaryClient,x);return rv(C,V.targetId,z.Ta),z.snapshot}(e,g,v,P);const s=await Xg(e.localStore,t,!0),l=new gR(t,s.ls),c=l.ca(s.documents),f=ua.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",o),p=l.applyChanges(c,e.isPrimaryClient,f);rv(e,n,p.Ta);const _=new vR(t,n,l);return e.ma.set(t,_),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),p.snapshot}async function PR(e,t){const n=nt(e),i=n.ma.get(t),o=n.fa.get(i.targetId);if(o.length>1)return n.fa.set(i.targetId,o.filter(s=>!Uu(s,t))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Gf(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),L1(n.remoteStore,i.targetId),Kf(n,i.targetId)}).catch(sa)):(Kf(n,i.targetId),await Gf(n.localStore,i.targetId,!0))}async function SR(e,t,n){const i=MR(e);try{const o=await function(l,c){const f=nt(l),p=Gt.now(),_=c.reduce((P,A)=>P.add(A.key),at());let g,v;return f.persistence.runTransaction("Locally write mutations","readwrite",P=>{let A=Gn(),C=at();return f.ss.getEntries(P,_).next(V=>{A=V,A.forEach((E,w)=>{w.isValidDocument()||(C=C.add(E))})}).next(()=>f.localDocuments.getOverlayedDocuments(P,A)).next(V=>{g=V;const E=[];for(const w of c){const T=qx(w,g.get(w.key).overlayedDocument);T!=null&&E.push(new Ri(w.key,T,Kw(T.value.mapValue),An.exists(!0)))}return f.mutationQueue.addMutationBatch(P,p,E,c)}).next(V=>{v=V;const E=V.applyToLocalDocumentSet(g,C);return f.documentOverlayCache.saveOverlays(P,V.batchId,E)})}).then(()=>({batchId:v.batchId,changes:s1(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(o.batchId),function(l,c,f){let p=l.Sa[l.currentUser.toKey()];p||(p=new Nt(_t)),p=p.insert(c,f),l.Sa[l.currentUser.toKey()]=p}(i,o.batchId,n),await ha(i,o.changes),await Ku(i.remoteStore)}catch(o){const s=Op(o,"Failed to persist write");n.reject(s)}}async function B1(e,t){const n=nt(e);try{const i=await Bk(n.localStore,t);t.targetChanges.forEach((o,s)=>{const l=n.ya.get(s);l&&(At(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.Ra=!0:o.modifiedDocuments.size>0?At(l.Ra):o.removedDocuments.size>0&&(At(l.Ra),l.Ra=!1))}),await ha(n,i,t)}catch(i){await sa(i)}}function iv(e,t,n){const i=nt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.ma.forEach((s,l)=>{const c=l.view.Q_(t);c.snapshot&&o.push(c.snapshot)}),function(l,c){const f=nt(l);f.onlineState=c;let p=!1;f.queries.forEach((_,g)=>{for(const v of g.listeners)v.Q_(c)&&(p=!0)}),p&&Vp(f)}(i.eventManager,t),o.length&&i.Va.a_(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function IR(e,t,n){const i=nt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const o=i.ya.get(t),s=o&&o.key;if(s){let l=new Nt(q.comparator);l=l.insert(s,ge.newNoDocument(s,J.min()));const c=at().add(s),f=new Zu(J.min(),new Map,new Nt(_t),l,c);await B1(i,f),i.pa=i.pa.remove(s),i.ya.delete(t),zp(i)}else await Gf(i.localStore,t,!1).then(()=>Kf(i,t,n)).catch(sa)}async function CR(e,t){const n=nt(e),i=t.batch.batchId;try{const o=await Fk(n.localStore,t);$1(n,i,null),b1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ha(n,o)}catch(o){await sa(o)}}async function AR(e,t,n){const i=nt(e);try{const o=await function(l,c){const f=nt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return f.mutationQueue.lookupMutationBatch(p,c).next(g=>(At(g!==null),_=g.keys(),f.mutationQueue.removeMutationBatch(p,g))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>f.localDocuments.getDocuments(p,_))})}(i.localStore,t);$1(i,t,n),b1(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await ha(i,o)}catch(o){await sa(o)}}function b1(e,t){(e.ba.get(t)||[]).forEach(n=>{n.resolve()}),e.ba.delete(t)}function $1(e,t,n){const i=nt(e);let o=i.Sa[i.currentUser.toKey()];if(o){const s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),i.Sa[i.currentUser.toKey()]=o}}function Kf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.fa.get(t))e.ma.delete(i),n&&e.Va.Fa(i,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach(i=>{e.wa.containsKey(i)||U1(e,i)})}function U1(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);n!==null&&(L1(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),zp(e))}function rv(e,t,n){for(const i of n)i instanceof z1?(e.wa.addReference(i.key,t),xR(e,i)):i instanceof F1?(j("SyncEngine","Document no longer in limbo: "+i.key),e.wa.removeReference(i.key,t),e.wa.containsKey(i.key)||U1(e,i.key)):K()}function xR(e,t){const n=t.key,i=n.path.canonicalString();e.pa.get(n)||e.ga.has(i)||(j("SyncEngine","New document in limbo: "+n),e.ga.add(i),zp(e))}function zp(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new q(kt.fromString(t)),i=e.Da.next();e.ya.set(i,new yR(n)),e.pa=e.pa.insert(n,i),R1(e.remoteStore,new si(Cn(n1(n.path)),i,"TargetPurposeLimboResolution",yp._e))}}async function ha(e,t,n){const i=nt(e),o=[],s=[],l=[];i.ma.isEmpty()||(i.ma.forEach((c,f)=>{l.push(i.va(f,t,n).then(p=>{if((p||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,p!=null&&p.fromCache?"not-current":"current"),p){o.push(p);const _=Rp.Qi(f.targetId,p);s.push(_)}}))}),await Promise.all(l),i.Va.a_(o),await async function(f,p){const _=nt(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>D.forEach(p,v=>D.forEach(v.ki,P=>_.persistence.referenceDelegate.addReference(g,v.targetId,P)).next(()=>D.forEach(v.qi,P=>_.persistence.referenceDelegate.removeReference(g,v.targetId,P)))))}catch(g){if(!aa(g))throw g;j("LocalStore","Failed to update sequence numbers: "+g)}for(const g of p){const v=g.targetId;if(!g.fromCache){const P=_.ts.get(v),A=P.snapshotVersion,C=P.withLastLimboFreeSnapshotVersion(A);_.ts=_.ts.insert(v,C)}}}(i.localStore,s))}async function kR(e,t){const n=nt(e);if(!n.currentUser.isEqual(t)){j("SyncEngine","User change. New user:",t.toKey());const i=await C1(n.localStore,t);n.currentUser=t,function(s,l){s.ba.forEach(c=>{c.forEach(f=>{f.reject(new Z(M.CANCELLED,l))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ha(n,i._s)}}function RR(e,t){const n=nt(e),i=n.ya.get(t);if(i&&i.Ra)return at().add(i.key);{let o=at();const s=n.fa.get(t);if(!s)return o;for(const l of s){const c=n.ma.get(l);o=o.unionWith(c.view.ua)}return o}}function LR(e){const t=nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=B1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=IR.bind(null,t),t.Va.a_=pR.bind(null,t.eventManager),t.Va.Fa=mR.bind(null,t.eventManager),t}function MR(e){const t=nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=CR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AR.bind(null,t),t}class ov{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=qu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return zk(this.persistence,new Ok,t.initialUser,this.serializer)}createPersistence(t){return new Mk(kp.jr,this.serializer)}createSharedClientState(t){return new Hk}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class DR{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>iv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=kR.bind(null,this.syncEngine),await uR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new hR}()}createDatastore(t){const n=qu(t.databaseInfo.databaseId),i=function(s){return new Gk(s)}(t.databaseInfo);return function(s,l,c,f){return new Yk(s,l,c,f)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,o,s,l,c){return new Jk(i,o,s,l,c)}(this.localStore,this.datastore,t.asyncQueue,n=>iv(this.syncEngine,n,0),function(){return tv.D()?new tv:new Wk}())}createSyncEngine(t,n){return function(o,s,l,c,f,p,_){const g=new wR(o,s,l,c,f,p);return _&&(g.Ca=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=nt(n);j("RemoteStore","RemoteStore shutting down."),i.C_.add(5),await ca(i),i.F_.shutdown(),i.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Oa(this.observer.next,t)}error(t){this.observer.error?this.Oa(this.observer.error,t):qn("Uncaught Error in snapshot listener:",t.toString())}Na(){this.muted=!0}Oa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,n,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=me.UNAUTHENTICATED,this.clientId=Zw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async s=>{j("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Op(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Sh(e,t){e.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async o=>{i.isEqual(o)||(await C1(t.localStore,o),i=o)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function sv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await zR(e);j("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(o=>ev(t.remoteStore,o)),e.setAppCheckTokenChangeListener((o,s)=>ev(t.remoteStore,s)),e._onlineComponents=t}function VR(e){return e.name==="FirebaseError"?e.code===M.FAILED_PRECONDITION||e.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function zR(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!VR(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await Sh(e,new ov)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await Sh(e,new ov);return e._offlineComponents}async function j1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await sv(e,e._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await sv(e,new DR))),e._onlineComponents}function FR(e){return j1(e).then(t=>t.syncEngine)}async function BR(e){const t=await j1(e),n=t.eventManager;return n.onListen=ER.bind(null,t.syncEngine),n.onUnlisten=PR.bind(null,t.syncEngine),n}function bR(e,t,n={}){const i=new gi;return e.asyncQueue.enqueueAndForget(async()=>function(s,l,c,f,p){const _=new NR({next:v=>{l.enqueueAndForget(()=>dR(s,g)),v.fromCache&&f.source==="server"?p.reject(new Z(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(v)},error:v=>p.reject(v)}),g=new _R(c,_,{includeMetadataChanges:!0,J_:!0});return fR(s,g)}(await BR(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(e,t,n){if(!n)throw new Z(M.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $R(e,t,n,i){if(t===!0&&i===!0)throw new Z(M.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function lv(e){if(!q.isDocumentKey(e))throw new Z(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function uv(e){if(q.isDocumentKey(e))throw new Z(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Fp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":K()}function rr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Z(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fp(e);throw new Z(M.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Z(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Z(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$R("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H1((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qu{constructor(t,n,i,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Z(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cv(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ix;switch(i.type){case"firstParty":return new ax(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Z(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=av.get(n);i&&(j("ComponentProvider","Removing Datastore"),av.delete(n),i.terminate())}(this),Promise.resolve()}}function UR(e,t,n,i={}){var o;const s=(e=rr(e,Qu))._getSettings(),l=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==l&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),i.mockUserToken){let c,f;if(typeof i.mockUserToken=="string")c=i.mockUserToken,f=me.MOCK_USER;else{c=VI(i.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Z(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new me(p)}e._authCredentials=new rx(new Ww(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Yu(this.firestore,t,this._query)}}class be{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new be(this.firestore,t,this._key)}}class vi extends Yu{constructor(t,n,i){super(t,n,n1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new be(this.firestore,null,new q(t))}withConverter(t){return new vi(this.firestore,t,this._path)}}function jR(e,t,...n){if(e=Ei(e),W1("collection","path",t),e instanceof Qu){const i=kt.fromString(t,...n);return uv(i),new vi(e,null,i)}{if(!(e instanceof be||e instanceof vi))throw new Z(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(kt.fromString(t,...n));return uv(i),new vi(e.firestore,null,i)}}function Z1(e,t,...n){if(e=Ei(e),arguments.length===1&&(t=Zw.newId()),W1("doc","path",t),e instanceof Qu){const i=kt.fromString(t,...n);return lv(i),new be(e,null,new q(i))}{if(!(e instanceof be||e instanceof vi))throw new Z(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(kt.fromString(t,...n));return lv(i),new be(e.firestore,e instanceof vi?e.converter:null,new q(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new x1(this,"async_queue_retry"),this.iu=()=>{const n=Ph();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const t=Ph();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.su(),this.ou(t)}enterRestrictedMode(t){if(!this.Za){this.Za=!0,this.nu=t||!1;const n=Ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(t){if(this.su(),this.Za)return new Promise(()=>{});const n=new gi;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ya.push(t),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(t){if(!aa(t))throw t;j("AsyncQueue","Operation failed with retryable error: "+t)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(t){const n=this.Ja.then(()=>(this.tu=!0,t().catch(i=>{this.eu=i,this.tu=!1;const o=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(i);throw qn("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(t,n,i){this.su(),this.ru.indexOf(t)>-1&&(n=0);const o=Np.createAndSchedule(this,t,n,i,s=>this.au(s));return this.Xa.push(o),o}su(){this.eu&&K()}verifyOperationInProgress(){}async uu(){let t;do t=this.Ja,await t;while(t!==this.Ja)}cu(t){for(const n of this.Xa)if(n.timerId===t)return!0;return!1}lu(t){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.uu()})}hu(t){this.ru.push(t)}au(t){const n=this.Xa.indexOf(t);this.Xa.splice(n,1)}}class Xu extends Qu{constructor(t,n,i,o){super(t,n,i,o),this.type="firestore",this._queue=function(){return new HR}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||G1(this),this._firestoreClient.terminate()}}function WR(e,t){const n=typeof e=="object"?e:bC(),i=typeof e=="string"?e:t||"(default)",o=VC(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const s=NI("firestore");s&&UR(o,...s)}return o}function q1(e){return e._firestoreClient||G1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function G1(e){var t,n,i;const o=e._freezeSettings(),s=function(c,f,p,_){return new yx(c,f,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,H1(_.experimentalLongPollingOptions),_.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,o);e._firestoreClient=new OR(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new lo(Ee.fromBase64String(t))}catch(n){throw new Z(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new lo(Ee.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Z(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ae(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Z(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Z(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return _t(this._lat,t._lat)||_t(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=/^__.*__$/;class qR{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Ri(t,this.data,this.fieldMask,n,this.fieldTransforms):new la(t,this.data,n,this.fieldTransforms)}}class K1{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Ri(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Q1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class $p{constructor(t,n,i,o,s,l){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(t){return new $p(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tu({path:i,du:!1});return o.Au(t),o}Ru(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Tu({path:i,du:!1});return o.Pu(),o}Vu(t){return this.Tu({path:void 0,du:!0})}mu(t){return au(t,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Au(this.path.get(t))}Au(t){if(t.length===0)throw this.mu("Document fields must not be empty");if(Q1(this.Iu)&&ZR.test(t))throw this.mu('Document fields cannot begin and end with "__"')}}class GR{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||qu(t)}pu(t,n,i,o=!1){return new $p({Iu:t,methodName:n,gu:i,path:ae.emptyPath(),du:!1,fu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y1(e){const t=e._freezeSettings(),n=qu(e._databaseId);return new GR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function KR(e,t,n,i,o,s={}){const l=e.pu(s.merge||s.mergeFields?2:0,t,n,o);Up("Data must be an object, but it was:",l,i);const c=X1(i,l);let f,p;if(s.merge)f=new Fe(l.fieldMask),p=l.fieldTransforms;else if(s.mergeFields){const _=[];for(const g of s.mergeFields){const v=Qf(t,g,n);if(!l.contains(v))throw new Z(M.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);tE(_,v)||_.push(v)}f=new Fe(_),p=l.fieldTransforms.filter(g=>f.covers(g.field))}else f=null,p=l.fieldTransforms;return new qR(new Le(c),f,p)}class tc extends Bp{_toFieldTransform(t){if(t.Iu!==2)throw t.Iu===1?t.mu(`${this._methodName}() can only appear at the top level of your update data`):t.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof tc}}function QR(e,t,n,i){const o=e.pu(1,t,n);Up("Data must be an object, but it was:",o,i);const s=[],l=Le.empty();lr(i,(f,p)=>{const _=jp(t,f,n);p=Ei(p);const g=o.Ru(_);if(p instanceof tc)s.push(_);else{const v=ec(p,g);v!=null&&(s.push(_),l.set(_,v))}});const c=new Fe(s);return new K1(l,c,o.fieldTransforms)}function YR(e,t,n,i,o,s){const l=e.pu(1,t,n),c=[Qf(t,i,n)],f=[o];if(s.length%2!=0)throw new Z(M.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(Qf(t,s[v])),f.push(s[v+1]);const p=[],_=Le.empty();for(let v=c.length-1;v>=0;--v)if(!tE(p,c[v])){const P=c[v];let A=f[v];A=Ei(A);const C=l.Ru(P);if(A instanceof tc)p.push(P);else{const V=ec(A,C);V!=null&&(p.push(P),_.set(P,V))}}const g=new Fe(p);return new K1(_,g,l.fieldTransforms)}function ec(e,t){if(J1(e=Ei(e)))return Up("Unsupported field value:",t,e),X1(e,t);if(e instanceof Bp)return function(i,o){if(!Q1(o.Iu))throw o.mu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.mu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&t.Iu!==4)throw t.mu("Nested arrays are not supported");return function(i,o){const s=[];let l=0;for(const c of i){let f=ec(c,o.Vu(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}}(e,t)}return function(i,o){if((i=Ei(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $x(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Gt.fromDate(i);return{timestampValue:ou(o.serializer,s)}}if(i instanceof Gt){const s=new Gt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ou(o.serializer,s)}}if(i instanceof bp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof lo)return{bytesValue:w1(o.serializer,i._byteString)};if(i instanceof be){const s=o.databaseId,l=i.firestore._databaseId;if(!l.isEqual(s))throw o.mu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ap(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.mu(`Unsupported field value: ${Fp(i)}`)}(e,t)}function X1(e,t){const n={};return qw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lr(e,(i,o)=>{const s=ec(o,t.Eu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function J1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Gt||e instanceof bp||e instanceof lo||e instanceof be||e instanceof Bp)}function Up(e,t,n){if(!J1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=Fp(n);throw i==="an object"?t.mu(e+" a custom object"):t.mu(e+" "+i)}}function Qf(e,t,n){if((t=Ei(t))instanceof Ju)return t._internalPath;if(typeof t=="string")return jp(e,t);throw au("Field path arguments must be of type string or ",e,!1,void 0,n)}const XR=new RegExp("[~\\*/\\[\\]]");function jp(e,t,n){if(t.search(XR)>=0)throw au(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ju(...t.split("."))._internalPath}catch{throw au(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function au(e,t,n,i,o){const s=i&&!i.isEmpty(),l=o!==void 0;let c=`Function ${t}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${i}`),l&&(f+=` in document ${o}`),f+=")"),new Z(M.INVALID_ARGUMENT,c+e+f)}function tE(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(t,n,i,o,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new JR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(nE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JR extends eE{data(){return super.data()}}function nE(e,t){return typeof t=="string"?jp(e,t):t instanceof Ju?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Z(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eL{convertValue(t,n="none"){switch(ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw K()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return lr(t,(o,s)=>{i[o]=this.convertValue(s,n)}),i}convertGeoPoint(t){return new bp(Ut(t.latitude),Ut(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Ep(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(bs(t));default:return null}}convertTimestamp(t){const n=Pi(t);return new Gt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=kt.fromString(t);At(I1(i));const o=new $s(i.get(1),i.get(3)),s=new q(i.popFirst(5));return o.isEqual(n)||qn(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class iL extends eE{constructor(t,n,i,o,s,l){super(t,n,i,o,l),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(nE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class vl extends iL{data(t={}){return super.data(t)}}class rL{constructor(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new nl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new vl(this._firestore,this._userDataWriter,i.key,i,new nl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map(c=>{const f=new vl(o._firestore,o._userDataWriter,c.doc.key,c.doc,new nl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{const f=new vl(o._firestore,o._userDataWriter,c.doc.key,c.doc,new nl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,_=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),_=l.indexOf(c.doc.key)),{type:oL(c.type),doc:f,oldIndex:p,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}class sL extends eL{constructor(t){super(),this.firestore=t}convertBytes(t){return new lo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,n)}}function aL(e){e=rr(e,Yu);const t=rr(e.firestore,Xu),n=q1(t),i=new sL(t);return tL(e._query),bR(n,e._query).then(o=>new rL(t,i,e,o))}function lL(e,t,n){e=rr(e,be);const i=rr(e.firestore,Xu),o=nL(e.converter,t,n);return iE(i,[KR(Y1(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,An.none())])}function uL(e,t,n,...i){e=rr(e,be);const o=rr(e.firestore,Xu),s=Y1(o);let l;return l=typeof(t=Ei(t))=="string"||t instanceof Ju?YR(s,"updateDoc",e._key,t,n,i):QR(s,"updateDoc",e._key,t),iE(o,[l.toMutation(e._key,An.exists(!0))])}function iE(e,t){return function(i,o){const s=new gi;return i.asyncQueue.enqueueAndForget(async()=>SR(await FR(i),o,s)),s.promise}(q1(e),t)}(function(t,n=!0){(function(o){_o=o})(BC),Zl(new ks("firestore",(i,{instanceIdentifier:o,options:s})=>{const l=i.getProvider("app").getImmediate(),c=new Xu(new ox(i.getProvider("auth-internal")),new ux(i.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Z(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $s(p.options.projectId,_)}(l,o),l);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Hr(Mg,"4.3.2",t),Hr(Mg,"4.3.2","esm2017")})();var cL="firebase",hL="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(cL,hL,"app");b0({apiKey:"AIzaSyBlnBjfNR-4hB4pSYIBuMnbYFP0lSmcXMU",authDomain:"map-tracker-576aa.firebaseapp.com",projectId:"map-tracker-576aa",storageBucket:"map-tracker-576aa.appspot.com",messagingSenderId:"442785555128",appId:"1:442785555128:web:a4a5eef94caffeee34ca4d"});const fL=WR(),dL=e=>jR(fL,e),Hp=e=>dL(e),pL=async()=>{const e=Z1(Hp("locations"),"Quest");await uL(e,JSON.parse(JSON.stringify(Gd)))},mL=async()=>{const e=Z1(Hp("locations"),"Quest");await lL(e,JSON.parse(JSON.stringify(Gd)))},_L=async()=>{const e=await aL(Hp("locations"));let t=null;return e.docs.map(n=>(t=n.data().first,0)),t},gL=()=>{const[e,t]=st.useState(null),[n,i]=st.useState(null),[o,s]=st.useState([]),l=()=>(_I({click(c){const f={lat:c.latlng.lat,lng:c.latlng.lng};t(f)}}),null);return st.useEffect(()=>{mL()},[]),st.useEffect(()=>{e&&Gd.enqueue(e,new Date().toString()),_L().then(i),pL()},[e]),st.useEffect(()=>{const c=[];if(n){let f=n;for(;f;)c.push({id:iI(),location:f.location,timestamp:f.timestamp}),f=f.next}s(c)},[n]),yn.jsxs(vI,{center:[49.84675013911866,24.010410352608236],zoom:12,scrollWheelZoom:!1,children:[yn.jsx(l,{}),yn.jsx(EI,{attribution:` <a href="https://www.openstreetmap.org/copyright">
            OpenStreetMap</a> contributors`,url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.map((c,f)=>yn.jsxs(yI,{position:[c.location.lat,c.location.lng],children:[yn.jsx(TI,{direction:"top",offset:[-15,-15],permanent:!0,children:f+1}),yn.jsx(wI,{children:c.timestamp})]},c.id))]})},vL=()=>yn.jsx("div",{children:yn.jsx(gL,{})});Ih.createRoot(document.getElementById("root")).render(yn.jsx(yl.StrictMode,{children:yn.jsx(vL,{})}));
